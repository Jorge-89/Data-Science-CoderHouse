\documentclass[11pt]{article}

    \usepackage[breakable]{tcolorbox}
    \usepackage{parskip} % Stop auto-indenting (to mimic markdown behaviour)
    

    % Basic figure setup, for now with no caption control since it's done
    % automatically by Pandoc (which extracts ![](path) syntax from Markdown).
    \usepackage{graphicx}
    % Maintain compatibility with old templates. Remove in nbconvert 6.0
    \let\Oldincludegraphics\includegraphics
    % Ensure that by default, figures have no caption (until we provide a
    % proper Figure object with a Caption API and a way to capture that
    % in the conversion process - todo).
    \usepackage{caption}
    \DeclareCaptionFormat{nocaption}{}
    \captionsetup{format=nocaption,aboveskip=0pt,belowskip=0pt}

    \usepackage{float}
    \floatplacement{figure}{H} % forces figures to be placed at the correct location
    \usepackage{xcolor} % Allow colors to be defined
    \usepackage{enumerate} % Needed for markdown enumerations to work
    \usepackage{geometry} % Used to adjust the document margins
    \usepackage{amsmath} % Equations
    \usepackage{amssymb} % Equations
    \usepackage{textcomp} % defines textquotesingle
    % Hack from http://tex.stackexchange.com/a/47451/13684:
    \AtBeginDocument{%
        \def\PYZsq{\textquotesingle}% Upright quotes in Pygmentized code
    }
    \usepackage{upquote} % Upright quotes for verbatim code
    \usepackage{eurosym} % defines \euro

    \usepackage{iftex}
    \ifPDFTeX
        \usepackage[T1]{fontenc}
        \IfFileExists{alphabeta.sty}{
              \usepackage{alphabeta}
          }{
              \usepackage[mathletters]{ucs}
              \usepackage[utf8x]{inputenc}
          }
    \else
        \usepackage{fontspec}
        \usepackage{unicode-math}
    \fi

    \usepackage{fancyvrb} % verbatim replacement that allows latex
    \usepackage{grffile} % extends the file name processing of package graphics
                         % to support a larger range
    \makeatletter % fix for old versions of grffile with XeLaTeX
    \@ifpackagelater{grffile}{2019/11/01}
    {
      % Do nothing on new versions
    }
    {
      \def\Gread@@xetex#1{%
        \IfFileExists{"\Gin@base".bb}%
        {\Gread@eps{\Gin@base.bb}}%
        {\Gread@@xetex@aux#1}%
      }
    }
    \makeatother
    \usepackage[Export]{adjustbox} % Used to constrain images to a maximum size
    \adjustboxset{max size={0.9\linewidth}{0.9\paperheight}}

    % The hyperref package gives us a pdf with properly built
    % internal navigation ('pdf bookmarks' for the table of contents,
    % internal cross-reference links, web links for URLs, etc.)
    \usepackage{hyperref}
    % The default LaTeX title has an obnoxious amount of whitespace. By default,
    % titling removes some of it. It also provides customization options.
    \usepackage{titling}
    \usepackage{longtable} % longtable support required by pandoc >1.10
    \usepackage{booktabs}  % table support for pandoc > 1.12.2
    \usepackage{array}     % table support for pandoc >= 2.11.3
    \usepackage{calc}      % table minipage width calculation for pandoc >= 2.11.1
    \usepackage[inline]{enumitem} % IRkernel/repr support (it uses the enumerate* environment)
    \usepackage[normalem]{ulem} % ulem is needed to support strikethroughs (\sout)
                                % normalem makes italics be italics, not underlines
    \usepackage{mathrsfs}
    

    
    % Colors for the hyperref package
    \definecolor{urlcolor}{rgb}{0,.145,.698}
    \definecolor{linkcolor}{rgb}{.71,0.21,0.01}
    \definecolor{citecolor}{rgb}{.12,.54,.11}

    % ANSI colors
    \definecolor{ansi-black}{HTML}{3E424D}
    \definecolor{ansi-black-intense}{HTML}{282C36}
    \definecolor{ansi-red}{HTML}{E75C58}
    \definecolor{ansi-red-intense}{HTML}{B22B31}
    \definecolor{ansi-green}{HTML}{00A250}
    \definecolor{ansi-green-intense}{HTML}{007427}
    \definecolor{ansi-yellow}{HTML}{DDB62B}
    \definecolor{ansi-yellow-intense}{HTML}{B27D12}
    \definecolor{ansi-blue}{HTML}{208FFB}
    \definecolor{ansi-blue-intense}{HTML}{0065CA}
    \definecolor{ansi-magenta}{HTML}{D160C4}
    \definecolor{ansi-magenta-intense}{HTML}{A03196}
    \definecolor{ansi-cyan}{HTML}{60C6C8}
    \definecolor{ansi-cyan-intense}{HTML}{258F8F}
    \definecolor{ansi-white}{HTML}{C5C1B4}
    \definecolor{ansi-white-intense}{HTML}{A1A6B2}
    \definecolor{ansi-default-inverse-fg}{HTML}{FFFFFF}
    \definecolor{ansi-default-inverse-bg}{HTML}{000000}

    % common color for the border for error outputs.
    \definecolor{outerrorbackground}{HTML}{FFDFDF}

    % commands and environments needed by pandoc snippets
    % extracted from the output of `pandoc -s`
    \providecommand{\tightlist}{%
      \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
    \DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
    % Add ',fontsize=\small' for more characters per line
    \newenvironment{Shaded}{}{}
    \newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
    \newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
    \newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
    \newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
    \newcommand{\RegionMarkerTok}[1]{{#1}}
    \newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\NormalTok}[1]{{#1}}

    % Additional commands for more recent versions of Pandoc
    \newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{{#1}}}
    \newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{{#1}}}
    \newcommand{\ImportTok}[1]{{#1}}
    \newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{{#1}}}}
    \newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{{#1}}}
    \newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{{#1}}}
    \newcommand{\BuiltInTok}[1]{{#1}}
    \newcommand{\ExtensionTok}[1]{{#1}}
    \newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{{#1}}}
    \newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{{#1}}}
    \newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}


    % Define a nice break command that doesn't care if a line doesn't already
    % exist.
    \def\br{\hspace*{\fill} \\* }
    % Math Jax compatibility definitions
    \def\gt{>}
    \def\lt{<}
    \let\Oldtex\TeX
    \let\Oldlatex\LaTeX
    \renewcommand{\TeX}{\textrm{\Oldtex}}
    \renewcommand{\LaTeX}{\textrm{\Oldlatex}}
    % Document parameters
    % Document title
    \title{PROYECTO}
    
    
    
    
    
% Pygments definitions
\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
    \let\PY@ul=\relax \let\PY@tc=\relax%
    \let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
    \PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
    \PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\@namedef{PY@tok@w}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\@namedef{PY@tok@c}{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.24,0.48,0.48}{##1}}}
\@namedef{PY@tok@cp}{\def\PY@tc##1{\textcolor[rgb]{0.61,0.40,0.00}{##1}}}
\@namedef{PY@tok@k}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@kp}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@kt}{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\@namedef{PY@tok@o}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@ow}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\@namedef{PY@tok@nb}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@nf}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\@namedef{PY@tok@nc}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\@namedef{PY@tok@nn}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\@namedef{PY@tok@ne}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.80,0.25,0.22}{##1}}}
\@namedef{PY@tok@nv}{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\@namedef{PY@tok@no}{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\@namedef{PY@tok@nl}{\def\PY@tc##1{\textcolor[rgb]{0.46,0.46,0.00}{##1}}}
\@namedef{PY@tok@ni}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.44,0.44,0.44}{##1}}}
\@namedef{PY@tok@na}{\def\PY@tc##1{\textcolor[rgb]{0.41,0.47,0.13}{##1}}}
\@namedef{PY@tok@nt}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@nd}{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\@namedef{PY@tok@s}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@sd}{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@si}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.64,0.35,0.47}{##1}}}
\@namedef{PY@tok@se}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.36,0.12}{##1}}}
\@namedef{PY@tok@sr}{\def\PY@tc##1{\textcolor[rgb]{0.64,0.35,0.47}{##1}}}
\@namedef{PY@tok@ss}{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\@namedef{PY@tok@sx}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@m}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@gh}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\@namedef{PY@tok@gu}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\@namedef{PY@tok@gd}{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\@namedef{PY@tok@gi}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.52,0.00}{##1}}}
\@namedef{PY@tok@gr}{\def\PY@tc##1{\textcolor[rgb]{0.89,0.00,0.00}{##1}}}
\@namedef{PY@tok@ge}{\let\PY@it=\textit}
\@namedef{PY@tok@gs}{\let\PY@bf=\textbf}
\@namedef{PY@tok@gp}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\@namedef{PY@tok@go}{\def\PY@tc##1{\textcolor[rgb]{0.44,0.44,0.44}{##1}}}
\@namedef{PY@tok@gt}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\@namedef{PY@tok@err}{\def\PY@bc##1{{\setlength{\fboxsep}{\string -\fboxrule}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}}
\@namedef{PY@tok@kc}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@kd}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@kn}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@kr}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@bp}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@fm}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\@namedef{PY@tok@vc}{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\@namedef{PY@tok@vg}{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\@namedef{PY@tok@vi}{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\@namedef{PY@tok@vm}{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\@namedef{PY@tok@sa}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@sb}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@sc}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@dl}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@s2}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@sh}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@s1}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@mb}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@mf}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@mh}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@mi}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@il}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@mo}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@ch}{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.24,0.48,0.48}{##1}}}
\@namedef{PY@tok@cm}{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.24,0.48,0.48}{##1}}}
\@namedef{PY@tok@cpf}{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.24,0.48,0.48}{##1}}}
\@namedef{PY@tok@c1}{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.24,0.48,0.48}{##1}}}
\@namedef{PY@tok@cs}{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.24,0.48,0.48}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZhy{\char`\-}
\def\PYZsq{\char`\'}
\def\PYZdq{\char`\"}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


    % For linebreaks inside Verbatim environment from package fancyvrb.
    \makeatletter
        \newbox\Wrappedcontinuationbox
        \newbox\Wrappedvisiblespacebox
        \newcommand*\Wrappedvisiblespace {\textcolor{red}{\textvisiblespace}}
        \newcommand*\Wrappedcontinuationsymbol {\textcolor{red}{\llap{\tiny$\m@th\hookrightarrow$}}}
        \newcommand*\Wrappedcontinuationindent {3ex }
        \newcommand*\Wrappedafterbreak {\kern\Wrappedcontinuationindent\copy\Wrappedcontinuationbox}
        % Take advantage of the already applied Pygments mark-up to insert
        % potential linebreaks for TeX processing.
        %        {, <, #, %, $, ' and ": go to next line.
        %        _, }, ^, &, >, - and ~: stay at end of broken line.
        % Use of \textquotesingle for straight quote.
        \newcommand*\Wrappedbreaksatspecials {%
            \def\PYGZus{\discretionary{\char`\_}{\Wrappedafterbreak}{\char`\_}}%
            \def\PYGZob{\discretionary{}{\Wrappedafterbreak\char`\{}{\char`\{}}%
            \def\PYGZcb{\discretionary{\char`\}}{\Wrappedafterbreak}{\char`\}}}%
            \def\PYGZca{\discretionary{\char`\^}{\Wrappedafterbreak}{\char`\^}}%
            \def\PYGZam{\discretionary{\char`\&}{\Wrappedafterbreak}{\char`\&}}%
            \def\PYGZlt{\discretionary{}{\Wrappedafterbreak\char`\<}{\char`\<}}%
            \def\PYGZgt{\discretionary{\char`\>}{\Wrappedafterbreak}{\char`\>}}%
            \def\PYGZsh{\discretionary{}{\Wrappedafterbreak\char`\#}{\char`\#}}%
            \def\PYGZpc{\discretionary{}{\Wrappedafterbreak\char`\%}{\char`\%}}%
            \def\PYGZdl{\discretionary{}{\Wrappedafterbreak\char`\$}{\char`\$}}%
            \def\PYGZhy{\discretionary{\char`\-}{\Wrappedafterbreak}{\char`\-}}%
            \def\PYGZsq{\discretionary{}{\Wrappedafterbreak\textquotesingle}{\textquotesingle}}%
            \def\PYGZdq{\discretionary{}{\Wrappedafterbreak\char`\"}{\char`\"}}%
            \def\PYGZti{\discretionary{\char`\~}{\Wrappedafterbreak}{\char`\~}}%
        }
        % Some characters . , ; ? ! / are not pygmentized.
        % This macro makes them "active" and they will insert potential linebreaks
        \newcommand*\Wrappedbreaksatpunct {%
            \lccode`\~`\.\lowercase{\def~}{\discretionary{\hbox{\char`\.}}{\Wrappedafterbreak}{\hbox{\char`\.}}}%
            \lccode`\~`\,\lowercase{\def~}{\discretionary{\hbox{\char`\,}}{\Wrappedafterbreak}{\hbox{\char`\,}}}%
            \lccode`\~`\;\lowercase{\def~}{\discretionary{\hbox{\char`\;}}{\Wrappedafterbreak}{\hbox{\char`\;}}}%
            \lccode`\~`\:\lowercase{\def~}{\discretionary{\hbox{\char`\:}}{\Wrappedafterbreak}{\hbox{\char`\:}}}%
            \lccode`\~`\?\lowercase{\def~}{\discretionary{\hbox{\char`\?}}{\Wrappedafterbreak}{\hbox{\char`\?}}}%
            \lccode`\~`\!\lowercase{\def~}{\discretionary{\hbox{\char`\!}}{\Wrappedafterbreak}{\hbox{\char`\!}}}%
            \lccode`\~`\/\lowercase{\def~}{\discretionary{\hbox{\char`\/}}{\Wrappedafterbreak}{\hbox{\char`\/}}}%
            \catcode`\.\active
            \catcode`\,\active
            \catcode`\;\active
            \catcode`\:\active
            \catcode`\?\active
            \catcode`\!\active
            \catcode`\/\active
            \lccode`\~`\~
        }
    \makeatother

    \let\OriginalVerbatim=\Verbatim
    \makeatletter
    \renewcommand{\Verbatim}[1][1]{%
        %\parskip\z@skip
        \sbox\Wrappedcontinuationbox {\Wrappedcontinuationsymbol}%
        \sbox\Wrappedvisiblespacebox {\FV@SetupFont\Wrappedvisiblespace}%
        \def\FancyVerbFormatLine ##1{\hsize\linewidth
            \vtop{\raggedright\hyphenpenalty\z@\exhyphenpenalty\z@
                \doublehyphendemerits\z@\finalhyphendemerits\z@
                \strut ##1\strut}%
        }%
        % If the linebreak is at a space, the latter will be displayed as visible
        % space at end of first line, and a continuation symbol starts next line.
        % Stretch/shrink are however usually zero for typewriter font.
        \def\FV@Space {%
            \nobreak\hskip\z@ plus\fontdimen3\font minus\fontdimen4\font
            \discretionary{\copy\Wrappedvisiblespacebox}{\Wrappedafterbreak}
            {\kern\fontdimen2\font}%
        }%

        % Allow breaks at special characters using \PYG... macros.
        \Wrappedbreaksatspecials
        % Breaks at punctuation characters . , ; ? ! and / need catcode=\active
        \OriginalVerbatim[#1,codes*=\Wrappedbreaksatpunct]%
    }
    \makeatother

    % Exact colors from NB
    \definecolor{incolor}{HTML}{303F9F}
    \definecolor{outcolor}{HTML}{D84315}
    \definecolor{cellborder}{HTML}{CFCFCF}
    \definecolor{cellbackground}{HTML}{F7F7F7}

    % prompt
    \makeatletter
    \newcommand{\boxspacing}{\kern\kvtcb@left@rule\kern\kvtcb@boxsep}
    \makeatother
    \newcommand{\prompt}[4]{
        {\ttfamily\llap{{\color{#2}[#3]:\hspace{3pt}#4}}\vspace{-\baselineskip}}
    }
    

    
    % Prevent overflowing lines due to hard-to-break entities
    \sloppy
    % Setup hyperref package
    \hypersetup{
      breaklinks=true,  % so long urls are correctly broken across lines
      colorlinks=true,
      urlcolor=urlcolor,
      linkcolor=linkcolor,
      citecolor=citecolor,
      }
    % Slightly bigger margins than the latex defaults
    
    \geometry{verbose,tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in}
    
    

\begin{document}
    
    \maketitle
    
    

    
    \begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\begin{verbatim}
<h1 style="font-size: 40px; font-weight: bold; font-family: 'Lexend', sans-serif; color: black;">PROYECTO DS üìö üíª üìä üß™</h1>
<p style="font-size: 32px; font-weight: bold; font-family: 'Lexend', sans-serif; color: black;">Camino hacia la transici√≥n energ√©tica - Una perspectiva desde el mercado el√©ctrico</p>
<h1 style="font-size: 30px; font-weight: bold; font-family: 'Lexend', sans-serif; color: black;">Segunda Entrega del Proyecto Final - Obtenci√≥n de Insights a partir de visualizaciones -</h1>
\end{verbatim}

\begin{verbatim}
<h1 style="font-size: 18px; text-align: left; font-weight: bold; font-family: 'Lexend', sans-serif; color: black;">Comunidad Coderhouse</h1>
</p>
<h1 style="font-size: 18px; text-align: left; font-weight: bold; font-family: 'Lexend', sans-serif; color: black;">Curso Data Science</h1>
</p>
<h1 style="font-size: 18px; text-align: left; font-weight: bold; font-family: 'Lexend', sans-serif; color: black;">Plantel docente: Prof. Ruiz, Jorge & Tutora Ruscitti, Aldana</h1>
</p>
<h1 style="font-size: 18px; text-align: left; font-weight: bold; font-family: 'Lexend', sans-serif; color: black;">Alumno: Risculese Francisco</h1>
\end{verbatim}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

    \begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{abstracto}{%
\subsubsection{Abstracto}\label{abstracto}}

\begin{verbatim}
<h1 style="font-family: 'Lexend', sans-serif; color: black; font-size: 60px">üìú Abstracto</h1>
<p style="font-family: 'Lexend', sans-serif; color: black; font-size: 20px">
  La estimaci√≥n del precio de la energ√≠a el√©ctrica es un desaf√≠o crucial en el contexto de la sostenibilidad y la transici√≥n energ√©tica, temas de gran relevancia en la actualidad. Para abordar este desaf√≠o, es fundamental comprender en detalle el comportamiento de la variable a estimar, identificar a los actores clave en el mercado energ√©tico y analizar las complejidades que influyen en este sector.
<p style="font-family: 'Lexend', sans-serif; color: black; font-size: 20px">
  El incremento en los precios de los combustibles f√≥siles, as√≠ como su dependencia en muchos pa√≠ses, ha resultado en un aumento significativo en el precio de la energ√≠a el√©ctrica. Sin embargo, esta situaci√≥n ha impulsado el inter√©s en soluciones energ√©ticas renovables a corto plazo. En Espa√±a, el gobierno est√° acelerando la aprobaci√≥n de proyectos que se centran en la sostenibilidad y la protecci√≥n del medio ambiente. Esto incluye la adopci√≥n de tecnolog√≠as avanzadas y promueve aspectos positivos como la autogesti√≥n y el autoconsumo de energ√≠a.
</p>
\end{verbatim}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

    \begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{objetivo}{%
\subsubsection{Objetivo}\label{objetivo}}

\begin{verbatim}
<h1 style="font-family: 'Lexend', sans-serif; color: black; font-size: 60px">üéØ Objetivo</h1>
<p style="font-family: 'Lexend', sans-serif; color: black; font-size: 20px">
  Predicci√≥n del precio de la energ√≠a el√©ctrica en Espa√±a, mediante modelos de regresi√≥n, para el per√≠odo 2015-2018 empleando un dataset obtenido del website "Kaggle".
</p>
\end{verbatim}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

    \begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{contexto-comercial}{%
\subsubsection{Contexto comercial}\label{contexto-comercial}}

\begin{verbatim}
<h1 style="font-family: 'Lexend', sans-serif; color: black; font-size: 60px">üè≠ Contexto comercial</h1>
<p style="font-family: 'Lexend', sans-serif; color: black; font-size: 20px">
  Se debe conocer de antemano que el aumento de los precios de los combustibles f√≥siles, como el gas natural y el carb√≥n, ha provocado un aumento de los precios de la energ√≠a el√©ctrica. Este aumento es especialmente notable en los pa√≠ses que dependen en gran medida de los combustibles f√≥siles para generar electricidad.
<p style="font-family: 'Lexend', sans-serif; color: black; font-size: 20px">
  Las energ√≠as renovables (hidroel√©ctricas, solar o e√≥lica) son una fuente de energ√≠a m√°s barata y fiable que los combustibles f√≥siles.
<p style="font-family: 'Lexend', sans-serif; color: black; font-size: 20px">
  Adem√°s, su aplicaci√≥n y campo de acci√≥n ha ocupado un buen espacio en el sector de la energ√≠a para electrificaci√≥n, seg√∫n datos de consumo medidos en el a√±o 2019.
\end{verbatim}

\begin{figure}
\centering
\includegraphics{https://www.ren21.net/wp-content/uploads/2022/06/GSR2022_Figure_5.png}
\caption{img}
\end{figure}

En materia de costos, las energ√≠as solar y e√≥lica han disminuido
significativamente su valor en los √∫ltimos a√±os, lo que las ha hecho m√°s
competitivas con respecto a las fuentes de energ√≠a convencionales
(combustibles f√≥siles). El aumento de la participaci√≥n de estas energ√≠as
limpias en la matriz energ√©tica apoya a la reducci√≥n de los precios de
la energ√≠a el√©ctrica.

La determinaci√≥n del precio sigue una secuencia de actividades que
involucra a todos los actores de la cadena de negocio (explicado a
continuaci√≥n), pero para entenderlo desde una perspectiva clara desde el
precio: se debe conocer que aquellas energ√≠as poco flexibles que ofertan
su producci√≥n a costos bajos (solar y e√≥lica) o aquellas que ofertan su
producci√≥n de forma constante y a plena potencia, como la nuclear,
podr√°n disminuir con sus ofertas el precio de este servicio. Esto se
justifica porque las tecnolog√≠as mencionadas ofertan de manera necesaria
toda la energ√≠a que producen, ya que no poseen la capacidad de almacenar
y gestionar sus recursos (son, como se dijo, poco flexibles).

Por otro lado, aquellas que ofertan su generaci√≥n con costos de
producci√≥n elevados (las que emplean combustibles f√≥siles), hacen que el
precio suba, y pueden participar con mucha m√°s flexibilidad frente a los
requerimientos de la demanda. Un comportamiento similar ocurre con las
centrales hidroel√©ctricas que pueden gestionar de forma pr√°ctica el
recurso h√≠drico, pero con la diferencia que poseen un costo de obtenci√≥n
del recurso nulo, al ser obtenido del medio ambiente.

En Espa√±a, el precio de la electricidad se ha multiplicado por cuatro en
los √∫ltimos a√±os. Este aumento es debido a la creciente dependencia de
los combustibles f√≥siles para generar electricidad. Por ello, el
gobierno espa√±ol est√° acelerando la transici√≥n a las energ√≠as
renovables. Fuentes gubernamentales proponen aumentar la participaci√≥n
de las energ√≠as renovables en la matriz energ√©tica espa√±ola del 40\% al
74\% para 2030.

Como Espa√±a, muchos pa√≠ses se involucran en este movimiento acelerado y
los cambios en un plazo de 10 a√±os, a nivel mundial, est√°n tomando cada
vez m√°s impronta, sobre todo en el sector de la electrificaci√≥n.

\begin{figure}
\centering
\includegraphics{https://www.ren21.net/wp-content/uploads/2022/06/GSR2022_Figure_11.png}
\caption{img}
\end{figure}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

    \begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{problema-comercial}{%
\subsubsection{Problema comercial}\label{problema-comercial}}

\begin{verbatim}
<h1 style="font-family: 'Lexend', sans-serif; font-size: 60px ; color: black;">üí≠ Problema comercial</h1>
<p style="font-family: 'Lexend', sans-serif; color: black; font-size: 20px">
  Como cient√≠fico de datos, se desempe√±ar√° la labor en estimar el precio de la energ√≠a el√©ctrica para la empresa OMIE. Es obligatorio conocer el comportamiento del mercado el√©ctrico espa√±ol, y el de sus actores participantes. Siendo el OMIE el operador del Mercado Ib√©rico de Energ√≠a, que opera tanto en Portugal como en Espa√±a: este tiene diversas funciones en todo el proceso de intercambio de energ√≠a, regulando el proceso e interviniendo en ciertas circunstancias, por ejemplo en acuerdos entre los comercializadores (compradores de energ√≠a) y los generadores (vendedores de energ√≠a).
<p style="font-family: 'Lexend', sans-serif; color: black; font-size: 20px">
  En forma resumida, participa como un actor terminal el sector de los generadores, que son los destinados a producir la energ√≠a el√©ctrica, sea generada por fuentes convencionales de energ√≠a (como la nuclear o los combustibles f√≥siles) o por fuentes renovables (destac√°ndose la hidroel√©ctrica y la e√≥lica).
<p style="font-family: 'Lexend', sans-serif; color: black; font-size: 20px">
  Luego, la matriz de transportistas, distribuidores y comercializadores, por separado, brindar√°n las condiciones necesarias para que el servicio sea trasladado, por medio de las redes de alta-media-baja tensi√≥n, al otro actor terminal que forma parte del negocio: el sector consumidor.
\end{verbatim}

\begin{figure}
\centering
\includegraphics{https://alcanzia.es/static/img/bg_mercadoelectrico.png}
\caption{img}
\end{figure}

A partir de ciertas evaluaciones, se buscar√° hacer uso del mejor modelo
que se adapte a cumplir con el objetivo y afrontar el problema
comercial, guiado por una serie de interrogantes e hip√≥tesis planteadas,
las cuales se desarrollar√°n en el EDA (Exploratory Data Analysis).

Preguntas principales

‚ö° Variable precio. ¬øQu√© resultados se observan, haciendo un an√°lisis
estad√≠stico descriptivo e inferencial, sobre la variable target?

‚ö° Evoluci√≥n temporal para el precio. ¬øC√≥mo se comporta el precio de la
energ√≠a el√©ctrica a lo largo del per√≠odo considerado? ¬øC√≥mo se lleva a
cabo la descomposici√≥n de la serie temporal, y qu√© se puede determinar
realizando √©sto? ¬øQu√© sucede con la estacionalidad de la serie temporal?

‚ö° Generaci√≥n energ√©tica y precio de la electricidad. ¬øC√≥mo se da la
evoluci√≥n en el aporte de cada fuente de generaci√≥n energ√©tica en un
per√≠odo anual? ¬øY c√≥mo se da la evoluci√≥n en el aporte de cada fuente de
generaci√≥n energ√©tica en un per√≠odo diario? ¬øQu√© relaci√≥n se puede
obtener si se incluye la variable precio a estas visualizaciones?

‚ö° Valores at√≠picos de la variable precio. ¬øQu√© an√°lisis se puede
realizar teniendo en cuenta los valores outliers?

‚ö° Generaci√≥n de energ√≠a por ubicaci√≥n geogr√°fica. Si el conjunto de
datos incluye informaci√≥n sobre la ubicaci√≥n de las plantas de
generaci√≥n de energ√≠a, ¬øc√≥mo var√≠a la generaci√≥n de energ√≠a en
diferentes regiones geogr√°ficas? ¬øQu√© se obtiene de un an√°lisis
multivariado?

Preguntas complementarias

‚ö° Evoluci√≥n de la demanda de energ√≠a en el pa√≠s. ¬øC√≥mo evoluciona la
situaci√≥n de esta variable para los a√±os de estudio? ¬øQu√©
comportamientos se muestran con respecto a su tendencia? ¬øQu√© se puede
concluir respecto a un per√≠odo semanal de consumo?

‚ö° Evoluci√≥n temporal para el precio. ¬øC√≥mo se comporta el precio de la
energ√≠a el√©ctrica analizando cada a√±o en particular?

‚ö° ¬øQu√© relaci√≥n se puede establecer, a grandes rasgos, entre la
variable demanda y el precio fijado de la energ√≠a el√©ctrica?

‚ö° Relaciones con la variable precio. ¬øQu√© relaci√≥n se puede establecer,
a grandes rasgos, entre la variable target y las dem√°s features?

‚ö° Generaci√≥n energ√©tica. ¬øQu√© se puede observar cuando se analiza la
distribuci√≥n de valores en un histograma para cada variable?

‚ö° Valores at√≠picos de la variable precio. ¬øQu√© comportamiento presenta
la variable target, analizando sus valores at√≠picos?

‚ö° Valores at√≠picos de las variables climatol√≥gicas. ¬øQu√©
comportamientos presentan las variables, analizando sus valores
at√≠picos? ¬øQu√© toma de decisi√≥n se puede realizar con el an√°lisis?

‚ö° Generaci√≥n energ√©tica. ¬øCu√°l es el aporte absoluto de cada fuente de
energ√≠a (renovable o convencional) a su generaci√≥n total? ¬øQu√©
comportamiento exhibe cada fuente?

‚ö° Proporci√≥n en la generaci√≥n. ¬øCu√°l es la proporci√≥n porcentual de
generaci√≥n de energ√≠a proveniente tanto de fuentes renovables como de
fuentes convencionales?

‚ö° Impacto ambiental. ¬øExiste alguna correlaci√≥n entre la generaci√≥n de
energ√≠a a partir de fuentes f√≥siles y las emisiones de gases de efecto
invernadero u otros impactos ambientales?

‚ö° Potencia instalada en el sector de generaci√≥n energ√©tica. ¬øC√≥mo se
distribuye la cantidad de potencia instalada para las diversas
tecnolog√≠as de producci√≥n de energ√≠a el√©ctrica?

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

    \begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{contexto-analuxedtico}{%
\subsubsection{Contexto anal√≠tico}\label{contexto-analuxedtico}}

\begin{verbatim}
<div style="max-width: 800px; margin: 0 auto; border: 4px solid #ed8a3f; background-color: #d4e8c1; padding: 10px;">
  <h1 style="font-family: 'Lexend', sans-serif; color: black;">üë®‚Äçüíª Contexto anal√≠tico</h1>
  <p style="font-family: 'Lexend', sans-serif; color: black;">
    Se cuentan con dos datasets, bajo un nombre gen√©rico que identifica a ambos. Estos est√°n en formato .csv.
  </p>
  <p style="font-family: 'Lexend', sans-serif; color: black;">
    Uno se utiliz√≥ para desarrollar los primeros 6 desaf√≠os entregables y el restante contiene informaci√≥n adicional y complementaria que se utiliz√≥ para desarrollar los restantes 6 desaf√≠os entregables, que conten√≠an un complemento a la Data Acquisition mediante APIs p√∫blicas, Data Wrangling y Data Storytelling.
  </p>
  <p style="font-family: 'Lexend', sans-serif; color: black; text-align: left;">
    <strong>Dataset general: Hourly energy demand generation and weather.</strong> El dataset general contiene, en un per√≠odo de 4 a√±os, datos sobre el consumo, generaci√≥n, precio y climatolog√≠a en Espa√±a.
  </p>
  <p style="font-family: 'Lexend', sans-serif; color: black; text-align: left;">
    <strong><a href="https://www.kaggle.com/datasets/nicholasjhana/energy-consumption-generation-prices-and-weather?select=energy_dataset.csv" target="_blank">energy_dataset.csv</a></strong>: Contiene datos sobre consumo y generaci√≥n, recopilados desde el portal p√∫blico del ENTSOE-E (European Network of Transmission System Operators) para los operadores de red de transporte TSO (Transmission Service Operator). La declaraci√≥n de los precios fue obtenida por el TSO de Espa√±a: Red El√©ctrica Espa√±a.
  </p>
  <p style="font-family: 'Lexend', sans-serif; color: black; text-align: left;">
    <strong><a href="https://www.kaggle.com/datasets/nicholasjhana/energy-consumption-generation-prices-and-weather?select=weather_features.csv" target="_blank">weather_features.csv</a></strong>: La informaci√≥n climatol√≥gica fue comprada como parte de un proyecto personal, desde el <a href="https://openweathermap.org/api" target="_blank">Open Weather API</a>, para las 5 ciudades m√°s grandes del pa√≠s, y empleadas para este proyecto (Madrid, Barcelona, Valencia, Sevilla y Bilbao).
  </p>
  <p style="font-family: 'Lexend', sans-serif; color: black; text-align: left;">
    Tambi√©n se emplea informaci√≥n adicional:
  </p>
  <ul style="color: black; text-align: left;">
    <li><a href="https://transparency.entsoe.eu/dashboard/show" target="_blank">Portal p√∫blico del ENTSOE-E (European Network of Transmission System Operators)</a></li>
    <li><a href="https://www.omie.es/es/market-results/daily/daily-market/hourly-power-technologies" target="_blank">Website del OMIE (ente regulador del precio)</a></li>
    <li><a href="https://demanda.ree.es/visiona/seleccionar-sistema" target="_blank">Website de la REE (Red El√©ctrica de Espa√±a) - ente del transporte energ√©tico -</a></li>
    <li><a href="https://centrodedescargas.cnig.es/CentroDescargas/busquedaRedirigida.do?ruta=PUBLICACION_CNIG_DATOS_VARIOS/aneTematico/Espana_Principales-centrales-electricas_2014-2016_mapa_15048_spa.zip"> Centro de descargas del CNIG</a></li>
    <li><a href="https://www.sistemaelectrico-ree.es/">Informes anuales de la REE</a></li>
    <li><a href="https://drive.google.com/drive/folders/1OHJ3Zt4fFWxlzVgdGE1oD7PcfASJOYl6?usp=sharing" target="_blank">Bibliograf√≠a consultada</a></li>
    <li><a href="https://es.wikipedia.org/wiki/Valor_at%C3%ADpico" target="_blank">Valor at√≠pico - Wikipedia</a></li>
  </ul>
  <p style="font-family: 'Lexend', sans-serif; color: black; text-align: left;">
    Se puede realizar un breve an√°lisis descriptivo de las variables que contienen ambos datasets, detallando sus unidades de medida y colocando una breve descripci√≥n con respecto al recurso energ√©tico que figura. Todas las medidas son para el pa√≠s de Espa√±a, a nivel nacional.
  </p>
  <h2 style="color: black;">Primer dataset</h2>
  <ul style="color: black; text-align: left;">
    <li>'time': Es el tiempo medido desde el 31 de diciembre del 2014 hasta el 31 de diciembre del 2018, en escala diaria y en intervalos de 1 hora. Siguiendo el est√°ndar del <a href="https://es.wikipedia.org/wiki/Hora_central_europea" target="_blank">CET (Central European Time)</a>.</li>
    <li>'generation biomass': Es la generaci√≥n el√©ctrica a partir del recurso renovable <a href="https://es.wikipedia.org/wiki/Biomasa_(energ%C3%ADa)" target="_blank">biomasa</a> - Unidades en MW -</li>
    <li>'generation fossil brown coal/lignite': Es la generaci√≥n el√©ctrica a partir del combustible f√≥sil <a href="https://es.wikipedia.org/wiki/Lignito" target="_blank">Lignito/carb√≥n marr√≥n</a> - Unidades en MW -</li>
    <li>'generation fossil coal-derived gas': Es la generaci√≥n el√©ctrica a partir del combustible f√≥sil <a href="https://es.wikipedia.org/wiki/Gas_de_alumbrado" target="_blank">gas de carb√≥n</a> - Unidades en MW -</li>
    <li>'generation fossil gas': Es la generaci√≥n el√©ctrica a partir del <a href="https://es.wikipedia.org/wiki/Gas_natural" target="_blank">gas f√≥sil natural</a> - Unidades en MW -</li>
    <li>'generation fossil hard coal': Es la generaci√≥n el√©ctrica a partir del <a href=https://es.wikipedia.org/wiki/Antracita target="_blank">carb√≥n f√≥sil duro o Antracita</a> - Unidades en MW -</li>
    <li>'generation fossil oil': Es la generaci√≥n el√©ctrica a partir de <a href=https://es.wikipedia.org/wiki/Fueloil target="_blank">fueloil</a> - Unidades en MW -</li>
    <li>'generation fossil oil shale': Es la generaci√≥n el√©ctrica a partir de <a href=https://es.wikipedia.org/wiki/Esquistos_bituminosos target="_blank">Esquistos bituminosos f√≥siles (Oil shale)</a> - Unidades en MW -</li>
    <li>'generation fossil peat': Es la generaci√≥n el√©ctrica a partir del material f√≥sil <a href=https://es.wikipedia.org/wiki/Turba target="_blank">Turba</a> - Unidades en MW -</li>
    <li>'generation geothermal': Es la generaci√≥n el√©ctrica renovable a partir de la <a href=https://es.wikipedia.org/wiki/Energ%C3%ADa_geot%C3%A9rmica target="_blank">energ√≠a geot√©rmica</a> - Unidades en MW -</li>
    <li>'generation hydro pumped storage aggregated': Es la generaci√≥n el√©ctrica renovable a partir del <a href=https://www.worldenergytrade.com/energias-alternativas/agua-y-vapor/que-es-la-energia-hidroelectrica-por-bombeo target="_blank">recurso h√≠drico, considerando un almacenamiento mediante un sistema de bombeo a√±adido</a> - Unidades en MW -</li>
    <li>'generation hydro pumped storage consumption': Es la generaci√≥n el√©ctrica renovable a partir del <a href=https://www.worldenergytrade.com/energias-alternativas/agua-y-vapor/que-es-la-energia-hidroelectrica-por-bombeo target="_blank">recurso h√≠drico, considerando un almacenamiento mediante un sistema de bombeo a√±adido</a> - Unidades en MW -</li>
    <li>'generation hydro run-of-river and poundage': Es la generaci√≥n el√©ctrica renovable a partir del <a href=https://es.wikipedia.org/wiki/Central_hidroel%C3%A9ctrica_de_pasada target="_blank">recurso h√≠drico, considerando una central hidroel√©ctrica fluyente/de pasada</a> - Unidades en MW -</li>
    <li>'generation hydro water reservoir': Es la generaci√≥n el√©ctrica renovable a partir del <a href=https://es.wikipedia.org/wiki/Embalse target="_blank">recurso h√≠drico, considerando un reservorio/embalse</a> - Unidades en MW -</li>
    <li>'generation marine': Es la generaci√≥n el√©ctrica renovable a partir del <a href=https://es.wikipedia.org/wiki/Energ%C3%ADa_marina target="_blank">recurso del mar</a> - Unidades en MW -</li>
    <li>'generation nuclear': Es la generaci√≥n el√©ctrica a partir de la <a href=https://es.wikipedia.org/wiki/Energ%C3%ADa_nuclear target="_blank">energ√≠a nuclear</a> - Unidades en MW -</li>
    <li>'generation other': Es la generaci√≥n el√©ctrica considerando otras fuentes energ√©ticas, no consideradas en este listado de variables - Unidades en MW -</li>
    <li>'generation other renewable': Es la generaci√≥n el√©ctrica renovable considerando otras fuentes energ√©ticas, no consideradas en este listado de variables - Unidades en MW -</li>
    <li>'generation solar': Es la generaci√≥n el√©ctrica renovable empleando la <a href=https://es.wikipedia.org/wiki/Energ%C3%ADa_solar target="_blank">energ√≠a solar</a> - Unidades en MW -</li>
    <li>'generation waste': Es la generaci√≥n el√©ctrica a partir del aprovechamiento energ√©tico de los <a href=https://es.wikipedia.org/wiki/Aprovechamiento_energ%C3%A9tico_de_residuos target="_blank">residuos</a> - Unidades en MW -</li>
    <li>'generation wind offshore': Es la generaci√≥n el√©ctrica renovable a partir del <a href=https://es.wikipedia.org/wiki/Energ%C3%ADa_e%C3%B3lica_marina target="_blank">recurso e√≥lico marino, u "offshore"</a> - Unidades en MW -</li>
    <li>'generation wind onshore': Es la generaci√≥n el√©ctrica renovable a partir del <a href=https://es.wikipedia.org/wiki/Energ%C3%ADa_e%C3%B3lica target="_blank">recurso e√≥lico terrestre, u "onshore"</a> - Unidades en MW -</li>
    <li>'forecast solar day ahead': Es la previsi√≥n del d√≠a siguiente al considerado, sobre la generaci√≥n el√©ctrica renovable empleando la energ√≠a solar - Unidades en MW
    <li>'forecast wind offshore eday ahead': Es la previsi√≥n del d√≠a siguiente al considerado, sobre la generaci√≥n el√©ctrica renovable a partir del recurso e√≥lico marino, u "offshore" - Unidades en MW
    <li>'forecast wind onshore day ahead': Es la previsi√≥n del d√≠a siguiente al considerado, sobre la generaci√≥n el√©ctrica renovable a partir del recurso e√≥lico terrestre, u "onshore" - Unidades en MW
    <li>'total load forecast': Es la previsi√≥n del d√≠a siguiente al considerado, sobre la demanda el√©ctrica que tiene el pa√≠s - Unidades en MW
    <li>'total load actual': Es la demanda el√©ctrica que tiene el pa√≠s - Unidades en MW
    <li>'price day ahead': Es la previsi√≥n del d√≠a siguiente al considerado, sobre el precio de la energ√≠a el√©ctrica que tiene el pa√≠s - Unidades en ‚Ç¨/MWh
    <li>'price actual': Es el precio de la energ√≠a el√©ctrica que tiene el pa√≠s - Unidades en ‚Ç¨/MWh
  </ul>
  <h2 style="color: black;">Segundo dataset - Data Enrichment -</h2>
  <ul style="color: black; text-align: left;">
    <li>'dt_iso': Es el tiempo medido desde el 31 de diciembre del 2014 hasta el 31 de diciembre del 2018, en escala diaria y en intervalos de 1 hora. Siguiendo el est√°ndar del CET (Central European Time).</li>
    <li>'city_name': Alude al nombre de la ciudad para la cual se obtienen los datos de cada variable (incluyen las ciudades de Madrid, Barcelona, Sevilla, Valencia y Bilbao).</li>
    <li>'temp': Valores medidos de temperatura, en grados Kelvin (¬∫K).</li>
    <li>'temp_min': Valores medidos para los m√≠nimos de temperatura, para dicho momento temporal, en grados Kelvin (¬∫K).
    <li>'temp_max': Valores medidos para los m√°ximos de temperatura, para dicho momento temporal, en grados Kelvin (¬∫K).
    <li>'pressure': Valores medidos para la presi√≥n atmosf√©rica (a nivel del mar), en HPa - 1 HPa = 0,00099 atm = 0.0145 psi
    <li>'humidity': Valores medidos para la humedad, en porcentajes.
    <li>'wind_speed': Valores medidos para la velocidad del viento, en m/s.
    <li>'wind_deg': Valores medidos para la direcci√≥n del viento, en grados (meteorol√≥gicos).
    <li>'rain_1h': Volumen de lluvia para la √∫ltima hora considerada, en mm.
    <li>'rain_3h': Volumen de lluvia para las √∫ltimas tres horas consideradas, en mm.
    <li>'snow_3h': Volumen de nieve para las √∫ltimas tres horas consideradas, en mm. y considerando el estado l√≠quido.
    <li>'clouds_all': Porcentaje de nubosidad.
    <li>'weather_id': ID referido a la condici√≥n clim√°tica.
    <li>'weather_main': Grupo categ√≥rico de par√°metros clim√°ticos (lluvia, nieve, evento extremo, etc.)
    <li>'weather_description': Condici√≥n clim√°tica dentro del grupo categ√≥rico.
    <li>'weather_icon': √çcono clim√°tico asociado al ID.
  </ul>   
  <p style="font-family: 'Lexend', sans-serif; color: black;">
    Se debe complementar la informaci√≥n brindada de las √∫ltimas 4 variables con el contenido del siguiente <a href=https://openweathermap.org/weather-conditions target="_blank">enlace</a>. Toda la informaci√≥n, como se aclar√≥ antes, proviene de <a href=https://openweathermap.org/history-bulk#list target="_blank">OpenWeather.</a>
  <p style="font-family: 'Lexend', sans-serif; color: black;">
  El siguiente <a href=https://docs.google.com/spreadsheets/d/1HJvQQjM-gGTbYf9eCyegBNbutm3htHRKweu1HQsPEmk/edit?usp=sharing="_blank">documento en formato .xlsx</a> hace una revisi√≥n de algunos par√°metros importantes, referidos a las 5 principales Comunidades Aut√≥nomas (CC.AA.) del pa√≠s ib√©rico. Se busca que a la hora de tratar y analizar los datos en esta notebook ya se cuente con una base de informaci√≥n estad√≠stica sobre par√°metros como poblaci√≥n, infraestructura, generaci√≥n el√©ctrica y consumo el√©ctrico.
</div>
\end{verbatim}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

    \begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{importaciuxf3n-de-libreruxedas}{%
\subsubsection{Importaci√≥n de
librer√≠as}\label{importaciuxf3n-de-libreruxedas}}

\begin{verbatim}
<div style="max-width: 600px; margin: 0 auto;">
  <div style="background-color: #DEB887; padding: 20px; border-radius: 10px;">
    <h1 style="border: 2px solid #f8f8f8; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #f5d769; font-size: 50px; padding: 5px; border-radius: 10px;">
      üìö Importaci√≥n de Librer√≠as</h1>
  </div>
</div>
\end{verbatim}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

    \begin{itemize}
\tightlist
\item
  Se importan las librerias correspondientes para efectuar los pasos del
  Proyecto de DS
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{1}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k+kn}{import} \PY{n+nn}{pandas} \PY{k}{as} \PY{n+nn}{pd}
\PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}

\PY{k+kn}{import} \PY{n+nn}{matplotlib} \PY{k}{as} \PY{n+nn}{mpl}
\PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{pyplot} \PY{k}{as} \PY{n+nn}{plt}
\PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{colors} \PY{k}{as} \PY{n+nn}{mcolors}
\PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{dates} \PY{k}{as} \PY{n+nn}{mdates}
\PY{k+kn}{import} \PY{n+nn}{seaborn} \PY{k}{as} \PY{n+nn}{sns}
\PY{k+kn}{import} \PY{n+nn}{plotly}\PY{n+nn}{.}\PY{n+nn}{express} \PY{k}{as} \PY{n+nn}{px}
\PY{k+kn}{import} \PY{n+nn}{plotly}\PY{n+nn}{.}\PY{n+nn}{graph\PYZus{}objects} \PY{k}{as} \PY{n+nn}{go}
\PY{k+kn}{import} \PY{n+nn}{plotly}\PY{n+nn}{.}\PY{n+nn}{io} \PY{k}{as} \PY{n+nn}{pio}
\PY{k+kn}{import} \PY{n+nn}{bokeh}\PY{n+nn}{.}\PY{n+nn}{plotting} \PY{k}{as} \PY{n+nn}{bkplt}
\PY{k+kn}{import} \PY{n+nn}{graphviz}
\PY{k+kn}{from} \PY{n+nn}{bokeh}\PY{n+nn}{.}\PY{n+nn}{plotting} \PY{k+kn}{import} \PY{n}{figure}\PY{p}{,} \PY{n}{show}
\PY{k+kn}{from} \PY{n+nn}{bokeh}\PY{n+nn}{.}\PY{n+nn}{models} \PY{k+kn}{import} \PY{n}{ColorBar}\PY{p}{,} \PY{n}{ColumnDataSource}\PY{p}{,} \PY{n}{HoverTool}
\PY{k+kn}{from} \PY{n+nn}{bokeh}\PY{n+nn}{.}\PY{n+nn}{transform} \PY{k+kn}{import} \PY{n}{linear\PYZus{}cmap}
\PY{k+kn}{from} \PY{n+nn}{bokeh}\PY{n+nn}{.}\PY{n+nn}{io} \PY{k+kn}{import} \PY{n}{output\PYZus{}notebook}
\PY{k+kn}{from} \PY{n+nn}{bokeh}\PY{n+nn}{.}\PY{n+nn}{palettes} \PY{k+kn}{import} \PY{n}{Viridis256}

\PY{k+kn}{import} \PY{n+nn}{pickle}

\PY{k+kn}{import} \PY{n+nn}{statsmodels}\PY{n+nn}{.}\PY{n+nn}{api} \PY{k}{as} \PY{n+nn}{sm}
\PY{k+kn}{import} \PY{n+nn}{scipy}\PY{n+nn}{.}\PY{n+nn}{stats} \PY{k}{as} \PY{n+nn}{stats}
\PY{k+kn}{import} \PY{n+nn}{scipy}\PY{n+nn}{.}\PY{n+nn}{stats}\PY{n+nn}{.}\PY{n+nn}{mstats} \PY{k}{as} \PY{n+nn}{mstats}
\PY{k+kn}{from} \PY{n+nn}{statsmodels}\PY{n+nn}{.}\PY{n+nn}{tsa}\PY{n+nn}{.}\PY{n+nn}{stattools} \PY{k+kn}{import} \PY{n}{adfuller}
\PY{k+kn}{from} \PY{n+nn}{statsmodels}\PY{n+nn}{.}\PY{n+nn}{graphics}\PY{n+nn}{.}\PY{n+nn}{tsaplots} \PY{k+kn}{import} \PY{n}{plot\PYZus{}acf}\PY{p}{,} \PY{n}{plot\PYZus{}pacf}
\PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{preprocessing} \PY{k+kn}{import} \PY{n}{StandardScaler}
\PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{feature\PYZus{}selection} \PY{k+kn}{import} \PY{n}{f\PYZus{}classif}
\PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{feature\PYZus{}selection} \PY{k+kn}{import} \PY{n}{VarianceThreshold}
\PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{feature\PYZus{}selection} \PY{k+kn}{import} \PY{n}{f\PYZus{}regression}\PY{p}{,} \PY{n}{SelectKBest}
\PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{metrics} \PY{k+kn}{import} \PY{n}{mean\PYZus{}squared\PYZus{}error} \PY{k}{as} \PY{n}{mse}
\PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{pipeline} \PY{k+kn}{import} \PY{n}{Pipeline}
\PY{k+kn}{from} \PY{n+nn}{scipy}\PY{n+nn}{.}\PY{n+nn}{stats} \PY{k+kn}{import} \PY{n}{pearsonr}
\PY{k+kn}{from} \PY{n+nn}{scipy}\PY{n+nn}{.}\PY{n+nn}{stats} \PY{k+kn}{import} \PY{n}{shapiro}
\PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{preprocessing} \PY{k+kn}{import} \PY{n}{PolynomialFeatures}
\PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{linear\PYZus{}model} \PY{k+kn}{import} \PY{n}{LinearRegression}
\PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{model\PYZus{}selection} \PY{k+kn}{import} \PY{n}{train\PYZus{}test\PYZus{}split}
\PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{metrics} \PY{k+kn}{import} \PY{n}{mean\PYZus{}squared\PYZus{}error}\PY{p}{,} \PY{n}{r2\PYZus{}score}\PY{p}{,} \PY{n}{mean\PYZus{}absolute\PYZus{}error}
\PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{neighbors} \PY{k+kn}{import} \PY{n}{KNeighborsRegressor}
\PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{tree} \PY{k+kn}{import} \PY{n}{DecisionTreeRegressor}
\PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{tree} \PY{k+kn}{import} \PY{n}{plot\PYZus{}tree}
\PY{k+kn}{from} \PY{n+nn}{sklearn} \PY{k+kn}{import} \PY{n}{tree}

\PY{k+kn}{import} \PY{n+nn}{warnings}
\PY{n}{warnings}\PY{o}{.}\PY{n}{filterwarnings}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ignore}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{category}\PY{o}{=}\PY{n+ne}{UserWarning}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{2}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k+kn}{from} \PY{n+nn}{google}\PY{n+nn}{.}\PY{n+nn}{colab} \PY{k+kn}{import} \PY{n}{drive}
\PY{k+kn}{import} \PY{n+nn}{os}
\PY{n}{drive}\PY{o}{.}\PY{n}{mount} \PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{/content/gdrive}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}

\PY{c+c1}{\PYZsh{} 1¬∞ dataset \PYZhy{} Hourly energy demand generation and weather}
\PY{o}{\PYZpc{}}\PY{k}{cd} \PYZsq{}/content/gdrive/MyDrive\PYZsq{}

\PY{c+c1}{\PYZsh{} 1¬∞ dataset (energy\PYZus{}dataset.csv)}
\PY{n}{df\PYZus{}energy} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Portfolio DS\PYZam{}A/Proyecto final \PYZhy{} Data Science/PROYECTO DS \PYZhy{} Risculese Francisco/1¬∞ Entrega \PYZhy{} PROYECTO FINAL DS/DesafiÃÅo entregable N¬∫1 \PYZhy{} PROYECTO DS/Caso energeÃÅtico\PYZus{}EspanÃÉa/energy\PYZus{}dataset.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{n}{sep}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{,}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}

\PY{n}{df\PYZus{}energy}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
Mounted at /content/gdrive
/content/gdrive/MyDrive
    \end{Verbatim}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{2}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
                            time  generation biomass  \textbackslash{}
0      2015-01-01 00:00:00+01:00               447.0
1      2015-01-01 01:00:00+01:00               449.0
2      2015-01-01 02:00:00+01:00               448.0
3      2015-01-01 03:00:00+01:00               438.0
4      2015-01-01 04:00:00+01:00               428.0
{\ldots}                          {\ldots}                 {\ldots}
35059  2018-12-31 19:00:00+01:00               297.0
35060  2018-12-31 20:00:00+01:00               296.0
35061  2018-12-31 21:00:00+01:00               292.0
35062  2018-12-31 22:00:00+01:00               293.0
35063  2018-12-31 23:00:00+01:00               290.0

       generation fossil brown coal/lignite  \textbackslash{}
0                                     329.0
1                                     328.0
2                                     323.0
3                                     254.0
4                                     187.0
{\ldots}                                     {\ldots}
35059                                   0.0
35060                                   0.0
35061                                   0.0
35062                                   0.0
35063                                   0.0

       generation fossil coal-derived gas  generation fossil gas  \textbackslash{}
0                                     0.0                 4844.0
1                                     0.0                 5196.0
2                                     0.0                 4857.0
3                                     0.0                 4314.0
4                                     0.0                 4130.0
{\ldots}                                   {\ldots}                    {\ldots}
35059                                 0.0                 7634.0
35060                                 0.0                 7241.0
35061                                 0.0                 7025.0
35062                                 0.0                 6562.0
35063                                 0.0                 6926.0

       generation fossil hard coal  generation fossil oil  \textbackslash{}
0                           4821.0                  162.0
1                           4755.0                  158.0
2                           4581.0                  157.0
3                           4131.0                  160.0
4                           3840.0                  156.0
{\ldots}                            {\ldots}                    {\ldots}
35059                       2628.0                  178.0
35060                       2566.0                  174.0
35061                       2422.0                  168.0
35062                       2293.0                  163.0
35063                       2166.0                  163.0

       generation fossil oil shale  generation fossil peat  \textbackslash{}
0                              0.0                     0.0
1                              0.0                     0.0
2                              0.0                     0.0
3                              0.0                     0.0
4                              0.0                     0.0
{\ldots}                            {\ldots}                     {\ldots}
35059                          0.0                     0.0
35060                          0.0                     0.0
35061                          0.0                     0.0
35062                          0.0                     0.0
35063                          0.0                     0.0

       generation geothermal  {\ldots}  generation waste  generation wind offshore  \textbackslash{}
0                        0.0  {\ldots}             196.0                       0.0
1                        0.0  {\ldots}             195.0                       0.0
2                        0.0  {\ldots}             196.0                       0.0
3                        0.0  {\ldots}             191.0                       0.0
4                        0.0  {\ldots}             189.0                       0.0
{\ldots}                      {\ldots}  {\ldots}               {\ldots}                       {\ldots}
35059                    0.0  {\ldots}             277.0                       0.0
35060                    0.0  {\ldots}             280.0                       0.0
35061                    0.0  {\ldots}             286.0                       0.0
35062                    0.0  {\ldots}             287.0                       0.0
35063                    0.0  {\ldots}             287.0                       0.0

       generation wind onshore  forecast solar day ahead  \textbackslash{}
0                       6378.0                      17.0
1                       5890.0                      16.0
2                       5461.0                       8.0
3                       5238.0                       2.0
4                       4935.0                       9.0
{\ldots}                        {\ldots}                       {\ldots}
35059                   3113.0                      96.0
35060                   3288.0                      51.0
35061                   3503.0                      36.0
35062                   3586.0                      29.0
35063                   3651.0                      26.0

       forecast wind offshore eday ahead  forecast wind onshore day ahead  \textbackslash{}
0                                    NaN                           6436.0
1                                    NaN                           5856.0
2                                    NaN                           5454.0
3                                    NaN                           5151.0
4                                    NaN                           4861.0
{\ldots}                                  {\ldots}                              {\ldots}
35059                                NaN                           3253.0
35060                                NaN                           3353.0
35061                                NaN                           3404.0
35062                                NaN                           3273.0
35063                                NaN                           3117.0

       total load forecast  total load actual  price day ahead  price actual
0                  26118.0            25385.0            50.10         65.41
1                  24934.0            24382.0            48.10         64.92
2                  23515.0            22734.0            47.33         64.48
3                  22642.0            21286.0            42.27         59.32
4                  21785.0            20264.0            38.41         56.04
{\ldots}                    {\ldots}                {\ldots}              {\ldots}           {\ldots}
35059              30619.0            30653.0            68.85         77.02
35060              29932.0            29735.0            68.40         76.16
35061              27903.0            28071.0            66.88         74.30
35062              25450.0            25801.0            63.93         69.89
35063              24424.0            24455.0            64.27         69.88

[35064 rows x 29 columns]
\end{Verbatim}
\end{tcolorbox}
        
    \begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{data-wrangling}{%
\subsubsection{Data Wrangling}\label{data-wrangling}}

\begin{verbatim}
<div style="background-color: #DEB887; padding: 20px; border-radius: 10px;">
  <h1 style="border: 2px solid #f8f8f8; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #f5d769; font-size: 50px; padding: 5px; border-radius: 10px;">
    ‚öôÔ∏è Data Wrangling
  </h1>
</div>
\end{verbatim}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 30px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #f5d769; padding: 1px; border-radius: 5px;">
      Descubrimiento de los datos
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #f5d769; padding: 5px; border-radius: 5px;">
      "Comprensi√≥n de los datos, su estructura, tipolog√≠a y cantidad. Tambi√©n lo es conocer por qu√© una compa√±√≠a los utiliza y c√≥mo. √âsto sirve para tomar decisiones posteriores con un rumbo claro".
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #f5d769; padding: 5px; border-radius: 5px;">
      Tener en cuenta el contexto anal√≠tico para el primer dataset, sobre el origen de los datos, utilizaci√≥n en el negocio y tipos de datos empleados.
      </p>
      En una primera parte, antes del Data Enrichment, se trabajar√° con datos sobre generaci√≥n/producci√≥n, consumo y precio.
      </p>
      Luego del Data Enrichment, se trabajar√° con las variables clim√°ticas, teniendo en cuenta lo visto en el contexto anal√≠tico para la toma de decisiones en base al grado de relevancia que tenga cada ciudad espa√±ola en la matriz energ√©tica.
  </div>
\end{verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 30px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #f5d769; padding: 1px; border-radius: 5px;">
      Estructuraci√≥n de los datos
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #f5d769; padding: 5px; border-radius: 5px;">
      "Estandarizar el formato de los datos, esto tiene dependencia directa en diversas fuentes u or√≠genes: as√≠ los datos estar√°n en diferentes formatos y estructuras".
  </div>
\end{verbatim}

    \begin{itemize}
\tightlist
\item
  Seteo de feature `time' como index
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{index} \PY{o}{=} \PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{time}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
\PY{n}{df\PYZus{}energy} \PY{o}{=} \PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{time}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{columns}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}

\PY{n}{df\PYZus{}energy}
\end{Verbatim}
\end{tcolorbox}

    \begin{itemize}
\tightlist
\item
  Seteo del index como un tipo de dato ``datetime''
\item
  An√°logo a lo anterior: pero con los valores con respecto a tiempo
  universal coordinado o UTC
\item
  Chequeo del index como un tipo de dato ``datetime''
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{index} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{to\PYZus{}datetime}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{index}\PY{p}{,} \PY{n}{utc}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{True}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}

\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{index}
\end{Verbatim}
\end{tcolorbox}

    \begin{itemize}
\tightlist
\item
  Empleo del comando tz\_localize para remoci√≥n del uso horario o time
  zone, manteniendo el resto de los valores temporales
\item
  Remoci√≥n del valor temporal de 2014 (ya que no aporta a la data)
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}energy} \PY{o}{=} \PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{tz\PYZus{}localize}\PY{p}{(}\PY{k+kc}{None}\PY{p}{)}

\PY{n}{df\PYZus{}energy} \PY{o}{=} \PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{year} \PY{o}{\PYZgt{}}\PY{o}{=}\PY{l+m+mi}{2015}\PY{p}{]}

\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{index}
\end{Verbatim}
\end{tcolorbox}

    \begin{itemize}
\tightlist
\item
  Exploraci√≥n de las columnas del primer dataset
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{6}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{columns}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{6}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
Index(['generation biomass', 'generation fossil brown coal/lignite',
       'generation fossil coal-derived gas', 'generation fossil gas',
       'generation fossil hard coal', 'generation fossil oil',
       'generation fossil oil shale', 'generation fossil peat',
       'generation geothermal', 'generation hydro pumped storage aggregated',
       'generation hydro pumped storage consumption',
       'generation hydro run-of-river and poundage',
       'generation hydro water reservoir', 'generation marine',
       'generation nuclear', 'generation other', 'generation other renewable',
       'generation solar', 'generation waste', 'generation wind offshore',
       'generation wind onshore', 'forecast solar day ahead',
       'forecast wind offshore eday ahead', 'forecast wind onshore day ahead',
       'total load forecast', 'total load actual', 'price day ahead',
       'price actual'],
      dtype='object')
\end{Verbatim}
\end{tcolorbox}
        
    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 30px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #f5d769; padding: 1px; border-radius: 5px;">
      Limpieza de los datos
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #f5d769; padding: 5px; border-radius: 5px;">
      "Eliminaci√≥n de los datos que no brinden informaci√≥n extra como los duplicados, datos faltantes, etc. Este paso lograr√° estandarizar el formato de las columnas (float, datatimes, etc)."
\end{verbatim}

    \begin{itemize}
\tightlist
\item
  Utilizaci√≥n del ``.describe'' para tener un breve pantallazo en
  materia estad√≠stica de las features
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{7}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{pd}\PY{o}{.}\PY{n}{set\PYZus{}option}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{display.max\PYZus{}columns}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{k+kc}{None}\PY{p}{)}
\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{describe}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{7}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
       generation biomass  generation fossil brown coal/lignite  \textbackslash{}
count             35044.0                               35045.0
mean                383.5                                 448.1
std                  85.4                                 354.6
min                   0.0                                   0.0
25\%                 333.0                                   0.0
50\%                 367.0                                 509.0
75\%                 433.0                                 757.0
max                 592.0                                 999.0

       generation fossil coal-derived gas  generation fossil gas  \textbackslash{}
count                             35045.0                35045.0
mean                                  0.0                 5622.8
std                                   0.0                 2201.9
min                                   0.0                    0.0
25\%                                   0.0                 4126.0
50\%                                   0.0                 4969.0
75\%                                   0.0                 6429.0
max                                   0.0                20034.0

       generation fossil hard coal  generation fossil oil  \textbackslash{}
count                      35045.0                35044.0
mean                        4256.0                  298.3
std                         1961.6                   52.5
min                            0.0                    0.0
25\%                         2527.0                  263.0
50\%                         4474.0                  300.0
75\%                         5839.0                  330.0
max                         8359.0                  449.0

       generation fossil oil shale  generation fossil peat  \textbackslash{}
count                      35045.0                 35045.0
mean                           0.0                     0.0
std                            0.0                     0.0
min                            0.0                     0.0
25\%                            0.0                     0.0
50\%                            0.0                     0.0
75\%                            0.0                     0.0
max                            0.0                     0.0

       generation geothermal  generation hydro pumped storage aggregated  \textbackslash{}
count                35045.0                                         0.0
mean                     0.0                                         NaN
std                      0.0                                         NaN
min                      0.0                                         NaN
25\%                      0.0                                         NaN
50\%                      0.0                                         NaN
75\%                      0.0                                         NaN
max                      0.0                                         NaN

       generation hydro pumped storage consumption  \textbackslash{}
count                                      35044.0
mean                                         475.6
std                                          792.4
min                                            0.0
25\%                                            0.0
50\%                                           68.0
75\%                                          616.0
max                                         4523.0

       generation hydro run-of-river and poundage  \textbackslash{}
count                                     35044.0
mean                                        972.1
std                                         400.8
min                                           0.0
25\%                                         637.0
50\%                                         906.0
75\%                                        1250.0
max                                        2000.0

       generation hydro water reservoir  generation marine  \textbackslash{}
count                           35045.0            35044.0
mean                             2605.1                0.0
std                              1835.2                0.0
min                                 0.0                0.0
25\%                              1077.0                0.0
50\%                              2164.0                0.0
75\%                              3757.0                0.0
max                              9728.0                0.0

       generation nuclear  generation other  generation other renewable  \textbackslash{}
count             35046.0           35045.0                     35045.0
mean               6263.9              60.2                        85.6
std                 839.7              20.2                        14.1
min                   0.0               0.0                         0.0
25\%                5760.0              53.0                        73.0
50\%                6565.5              57.0                        88.0
75\%                7025.0              80.0                        97.0
max                7117.0             106.0                       119.0

       generation solar  generation waste  generation wind offshore  \textbackslash{}
count           35045.0           35044.0                   35045.0
mean             1432.7             269.5                       0.0
std              1680.1              50.2                       0.0
min                 0.0               0.0                       0.0
25\%                71.0             240.0                       0.0
50\%               616.0             279.0                       0.0
75\%              2578.0             310.0                       0.0
max              5792.0             357.0                       0.0

       generation wind onshore  forecast solar day ahead  \textbackslash{}
count                  35045.0                   35063.0
mean                    5464.5                    1439.1
std                     3213.7                    1677.7
min                        0.0                       0.0
25\%                     2933.0                      69.0
50\%                     4849.0                     576.0
75\%                     7398.0                    2636.0
max                    17436.0                    5836.0

       forecast wind offshore eday ahead  forecast wind onshore day ahead  \textbackslash{}
count                                0.0                          35063.0
mean                                 NaN                           5471.2
std                                  NaN                           3176.4
min                                  NaN                            237.0
25\%                                  NaN                           2979.0
50\%                                  NaN                           4855.0
75\%                                  NaN                           7353.0
max                                  NaN                          17430.0

       total load forecast  total load actual  price day ahead  price actual
count              35063.0            35027.0          35063.0       35063.0
mean               28712.2            28697.0             49.9          57.9
std                 4594.1             4575.0             14.6          14.2
min                18105.0            18041.0              2.1           9.3
25\%                24793.5            24807.5             41.5          49.3
50\%                28906.0            28901.0             50.5          58.0
75\%                32263.5            32192.0             60.5          68.0
max                41390.0            41015.0            102.0         116.8
\end{Verbatim}
\end{tcolorbox}
        
    \begin{itemize}
\tightlist
\item
  Eliminaci√≥n de features
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{8}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}energy} \PY{o}{=} \PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation fossil coal\PYZhy{}derived gas}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation fossil oil shale}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                            \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation fossil peat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation geothermal}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                            \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation hydro pumped storage aggregated}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation marine}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                            \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation wind offshore}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{forecast wind offshore eday ahead}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                            \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{total load forecast}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{forecast solar day ahead}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                            \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{forecast wind onshore day ahead}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price day ahead}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}
                            \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #f5d769; padding: 5px; border-radius: 5px;">
      La eliminaci√≥n de las features anteriores se debe a que no pueden tener valores de generaci√≥n nulos a lo largo de todo su comportamiento.
      </p>
      Adem√°s, existen features totalmente ocupadas por valores NaN.
\end{verbatim}

    \begin{itemize}
\tightlist
\item
  Chequeo por la dimensi√≥n del dataframe
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{9}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{shape}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{9}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
(35063, 16)
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{1}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{pip} \PY{n}{install} \PY{n}{pandoc}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
Collecting pandoc
  Downloading pandoc-2.3.tar.gz (33 kB)
  Preparing metadata (setup.py): started
  Preparing metadata (setup.py): finished with status 'done'
Collecting plumbum
  Downloading plumbum-1.8.2-py3-none-any.whl (127 kB)
     -------------------------------------- 127.0/127.0 kB 1.9 MB/s eta 0:00:00
Requirement already satisfied: ply in c:\textbackslash{}users\textbackslash{}jtroccoli\textbackslash{}anaconda3\textbackslash{}lib\textbackslash{}site-
packages (from pandoc) (3.11)
Requirement already satisfied: pywin32 in c:\textbackslash{}users\textbackslash{}jtroccoli\textbackslash{}anaconda3\textbackslash{}lib\textbackslash{}site-
packages (from plumbum->pandoc) (302)
Building wheels for collected packages: pandoc
  Building wheel for pandoc (setup.py): started
  Building wheel for pandoc (setup.py): finished with status 'done'
  Created wheel for pandoc: filename=pandoc-2.3-py3-none-any.whl size=33282
sha256=ff95840b7aef779bf407adfb5912b4f3ce70cac87904ab760faf000190cc6e07
  Stored in directory: c:\textbackslash{}users\textbackslash{}jtroccoli\textbackslash{}appdata\textbackslash{}local\textbackslash{}pip\textbackslash{}cache\textbackslash{}wheels\textbackslash{}14\textbackslash{}2e\textbackslash{}1
3\textbackslash{}d2f2f65fdb91f6c4f39f86697297e0b265d7890a41744fd322
Successfully built pandoc
Installing collected packages: plumbum, pandoc
Successfully installed pandoc-2.3 plumbum-1.8.2
Note: you may need to restart the kernel to use updated packages.
    \end{Verbatim}

    \begin{itemize}
\tightlist
\item
  Recuento de datos temporales para cada a√±o
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{10}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}energy\PYZus{}2015} \PY{o}{=} \PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{year} \PY{o}{==} \PY{l+m+mi}{2015}\PY{p}{]}
\PY{n}{df\PYZus{}energy\PYZus{}2016} \PY{o}{=} \PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{year} \PY{o}{==} \PY{l+m+mi}{2016}\PY{p}{]}
\PY{n}{df\PYZus{}energy\PYZus{}2017} \PY{o}{=} \PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{year} \PY{o}{==} \PY{l+m+mi}{2017}\PY{p}{]}
\PY{n}{df\PYZus{}energy\PYZus{}2018} \PY{o}{=} \PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{year} \PY{o}{==} \PY{l+m+mi}{2018}\PY{p}{]}

\PY{n}{count\PYZus{}2015} \PY{o}{=} \PY{n}{df\PYZus{}energy\PYZus{}2015}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}
\PY{n}{count\PYZus{}2016} \PY{o}{=} \PY{n}{df\PYZus{}energy\PYZus{}2016}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}
\PY{n}{count\PYZus{}2017} \PY{o}{=} \PY{n}{df\PYZus{}energy\PYZus{}2017}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}
\PY{n}{count\PYZus{}2018} \PY{o}{=} \PY{n}{df\PYZus{}energy\PYZus{}2018}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}

\PY{n}{conteo} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{A√±o}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{p}{[}\PY{l+m+mi}{2015}\PY{p}{,} \PY{l+m+mi}{2016}\PY{p}{,} \PY{l+m+mi}{2017}\PY{p}{,} \PY{l+m+mi}{2018}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{N√∫mero de filas}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{p}{[}\PY{n}{df\PYZus{}energy\PYZus{}2015}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{,} \PY{n}{df\PYZus{}energy\PYZus{}2016}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{,} \PY{n}{df\PYZus{}energy\PYZus{}2017}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{,} \PY{n}{df\PYZus{}energy\PYZus{}2018}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{]}\PY{p}{\PYZcb{}}\PY{p}{)}

\PY{n}{conteo}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{10}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
    A√±o  N√∫mero de filas
0  2015             8760
1  2016             8784
2  2017             8760
3  2018             8759
\end{Verbatim}
\end{tcolorbox}
        
    \begin{itemize}
\tightlist
\item
  Chequeo por los duplicados en el index
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{11}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{has\PYZus{}duplicates}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{11}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
False
\end{Verbatim}
\end{tcolorbox}
        
    \begin{itemize}
\tightlist
\item
  Chequeo de valores nulos en cada una de las features restantes
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{12}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{isna}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{12}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
generation biomass                             19
generation fossil brown coal/lignite           18
generation fossil gas                          18
generation fossil hard coal                    18
generation fossil oil                          19
generation hydro pumped storage consumption    19
generation hydro run-of-river and poundage     19
generation hydro water reservoir               18
generation nuclear                             17
generation other                               18
generation other renewable                     18
generation solar                               18
generation waste                               19
generation wind onshore                        18
total load actual                              36
price actual                                    0
dtype: int64
\end{Verbatim}
\end{tcolorbox}
        
    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #f5d769; padding: 5px; border-radius: 5px;">
      Se puede observar que la mayor√≠a de los datos nulos pertenecen a la variable de demanda.
      </p>
      Afortunadamente, no se encuentran valores nulos en la columna perteneciente a la variable target.
      </p>
      Para aplicar un tratamiento simple, se tratar√°n a estos datos nulos con un m√©todo de interpolaci√≥n lineal. Seg√∫n el siguiente <a href="ttps://www.kaggle.com/code/dimitriosroussis/electricity-price-forecasting-with-dnns-eda" target="_blank"> proyecto</a> hecho en Kaggle, el m√©todo aplicado contraer√° un leve ruido al an√°lisis, pero no suficiente para alterar el rendimiento del trabajo en su totalidad.
\end{verbatim}

    \begin{itemize}
\tightlist
\item
  Visualizaci√≥n de los valores NaN en el dataframe
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{13}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{isnull}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{13}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
                     generation biomass  generation fossil brown coal/lignite  \textbackslash{}
time
2015-01-05 02:00:00                 NaN                                   NaN
2015-01-05 11:00:00                 NaN                                   NaN
2015-01-05 12:00:00                 NaN                                   NaN
2015-01-05 13:00:00                 NaN                                   NaN
2015-01-05 14:00:00                 NaN                                   NaN
2015-01-05 15:00:00                 NaN                                   NaN
2015-01-05 16:00:00                 NaN                                   NaN
2015-01-19 18:00:00                 NaN                                   NaN
2015-01-19 19:00:00                 NaN                                   NaN
2015-01-27 18:00:00                 NaN                                   NaN
2015-01-28 12:00:00                 NaN                                   NaN
2015-02-01 06:00:00               449.0                                 312.0
2015-02-01 07:00:00               453.0                                 312.0
2015-02-01 08:00:00               452.0                                 302.0
2015-02-01 11:00:00               405.0                                 317.0
2015-02-01 12:00:00               402.0                                 317.0
2015-02-01 13:00:00               400.0                                 317.0
2015-02-01 14:00:00               393.0                                 321.0
2015-02-01 15:00:00               413.0                                 325.0
2015-02-01 16:00:00               465.0                                 321.0
2015-02-01 17:00:00               482.0                                 326.0
2015-02-01 18:00:00               474.0                                 326.0
2015-04-05 01:00:00               371.0                                   0.0
2015-04-16 07:00:00                 NaN                                   NaN
2015-04-20 06:00:00               424.0                                 642.0
2015-04-23 19:00:00                 NaN                                   NaN
2015-05-02 08:00:00               497.0                                   0.0
2015-05-29 01:00:00               569.0                                 756.0
2015-06-15 07:00:00                 NaN                                   NaN
2015-10-02 06:00:00               483.0                                 961.0
2015-10-02 09:00:00                 NaN                                   NaN
2015-12-02 08:00:00                 NaN                                   NaN
2016-04-13 03:00:00               220.0                                   0.0
2016-04-25 03:00:00               190.0                                   0.0
2016-04-25 05:00:00               206.0                                   0.0
2016-05-10 21:00:00               348.0                                 960.0
2016-06-11 23:00:00               356.0                                 595.0
2016-07-09 20:00:00                 NaN                                   NaN
2016-07-11 22:00:00               346.0                                 595.0
2016-09-28 07:00:00               347.0                                 594.0
2016-10-27 21:00:00               351.0                                 554.0
2016-11-23 03:00:00                 NaN                                 900.0
2017-11-14 11:00:00                 0.0                                   0.0
2017-11-14 18:00:00                 0.0                                   0.0
2018-06-11 16:00:00               331.0                                 506.0
2018-07-11 07:00:00                 NaN                                   NaN

                     generation fossil gas  generation fossil hard coal  \textbackslash{}
time
2015-01-05 02:00:00                    NaN                          NaN
2015-01-05 11:00:00                    NaN                          NaN
2015-01-05 12:00:00                    NaN                          NaN
2015-01-05 13:00:00                    NaN                          NaN
2015-01-05 14:00:00                    NaN                          NaN
2015-01-05 15:00:00                    NaN                          NaN
2015-01-05 16:00:00                    NaN                          NaN
2015-01-19 18:00:00                    NaN                          NaN
2015-01-19 19:00:00                    NaN                          NaN
2015-01-27 18:00:00                    NaN                          NaN
2015-01-28 12:00:00                    NaN                          NaN
2015-02-01 06:00:00                 4765.0                       5269.0
2015-02-01 07:00:00                 4938.0                       5652.0
2015-02-01 08:00:00                 4997.0                       5770.0
2015-02-01 11:00:00                 5247.0                       6008.0
2015-02-01 12:00:00                 5449.0                       6005.0
2015-02-01 13:00:00                 5266.0                       5995.0
2015-02-01 14:00:00                 5209.0                       5939.0
2015-02-01 15:00:00                 5642.0                       6000.0
2015-02-01 16:00:00                 6127.0                       5912.0
2015-02-01 17:00:00                 7386.0                       6002.0
2015-02-01 18:00:00                 7963.0                       6026.0
2015-04-05 01:00:00                 5015.0                       3248.0
2015-04-16 07:00:00                    NaN                          NaN
2015-04-20 06:00:00                 5614.0                       5784.0
2015-04-23 19:00:00                    NaN                          NaN
2015-05-02 08:00:00                 5502.0                       5677.0
2015-05-29 01:00:00                 4239.0                       4635.0
2015-06-15 07:00:00                    NaN                          NaN
2015-10-02 06:00:00                 6545.0                       8250.0
2015-10-02 09:00:00                    NaN                          NaN
2015-12-02 08:00:00                    NaN                          NaN
2016-04-13 03:00:00                 3390.0                       1242.0
2016-04-25 03:00:00                 2969.0                        886.0
2016-04-25 05:00:00                 3673.0                       1143.0
2016-05-10 21:00:00                 6800.0                       5219.0
2016-06-11 23:00:00                 5719.0                       6165.0
2016-07-09 20:00:00                    NaN                          NaN
2016-07-11 22:00:00                 5951.0                       6131.0
2016-09-28 07:00:00                 5522.0                       6272.0
2016-10-27 21:00:00                 7176.0                       5690.0
2016-11-23 03:00:00                 4838.0                       4547.0
2017-11-14 11:00:00                10064.0                          0.0
2017-11-14 18:00:00                12336.0                          0.0
2018-06-11 16:00:00                 7538.0                       5360.0
2018-07-11 07:00:00                    NaN                          NaN

                     generation fossil oil  \textbackslash{}
time
2015-01-05 02:00:00                    NaN
2015-01-05 11:00:00                    NaN
2015-01-05 12:00:00                    NaN
2015-01-05 13:00:00                    NaN
2015-01-05 14:00:00                    NaN
2015-01-05 15:00:00                    NaN
2015-01-05 16:00:00                    NaN
2015-01-19 18:00:00                    NaN
2015-01-19 19:00:00                    NaN
2015-01-27 18:00:00                    NaN
2015-01-28 12:00:00                    NaN
2015-02-01 06:00:00                  222.0
2015-02-01 07:00:00                  288.0
2015-02-01 08:00:00                  296.0
2015-02-01 11:00:00                  333.0
2015-02-01 12:00:00                  318.0
2015-02-01 13:00:00                  327.0
2015-02-01 14:00:00                  345.0
2015-02-01 15:00:00                  345.0
2015-02-01 16:00:00                  346.0
2015-02-01 17:00:00                  340.0
2015-02-01 18:00:00                  343.0
2015-04-05 01:00:00                  257.0
2015-04-16 07:00:00                    NaN
2015-04-20 06:00:00                  369.0
2015-04-23 19:00:00                    NaN
2015-05-02 08:00:00                  375.0
2015-05-29 01:00:00                  365.0
2015-06-15 07:00:00                    NaN
2015-10-02 06:00:00                  385.0
2015-10-02 09:00:00                    NaN
2015-12-02 08:00:00                    NaN
2016-04-13 03:00:00                  243.0
2016-04-25 03:00:00                  151.0
2016-04-25 05:00:00                  185.0
2016-05-10 21:00:00                  299.0
2016-06-11 23:00:00                  274.0
2016-07-09 20:00:00                    NaN
2016-07-11 22:00:00                    NaN
2016-09-28 07:00:00                  292.0
2016-10-27 21:00:00                  321.0
2016-11-23 03:00:00                  269.0
2017-11-14 11:00:00                    0.0
2017-11-14 18:00:00                    0.0
2018-06-11 16:00:00                  300.0
2018-07-11 07:00:00                    NaN

                     generation hydro pumped storage consumption  \textbackslash{}
time
2015-01-05 02:00:00                                          NaN
2015-01-05 11:00:00                                          NaN
2015-01-05 12:00:00                                          NaN
2015-01-05 13:00:00                                          NaN
2015-01-05 14:00:00                                          NaN
2015-01-05 15:00:00                                          NaN
2015-01-05 16:00:00                                          NaN
2015-01-19 18:00:00                                          NaN
2015-01-19 19:00:00                                          NaN
2015-01-27 18:00:00                                          NaN
2015-01-28 12:00:00                                          NaN
2015-02-01 06:00:00                                        480.0
2015-02-01 07:00:00                                          0.0
2015-02-01 08:00:00                                          0.0
2015-02-01 11:00:00                                          0.0
2015-02-01 12:00:00                                          0.0
2015-02-01 13:00:00                                          0.0
2015-02-01 14:00:00                                          0.0
2015-02-01 15:00:00                                          0.0
2015-02-01 16:00:00                                          0.0
2015-02-01 17:00:00                                          0.0
2015-02-01 18:00:00                                          0.0
2015-04-05 01:00:00                                        799.0
2015-04-16 07:00:00                                          NaN
2015-04-20 06:00:00                                          0.0
2015-04-23 19:00:00                                          NaN
2015-05-02 08:00:00                                          0.0
2015-05-29 01:00:00                                        755.0
2015-06-15 07:00:00                                          NaN
2015-10-02 06:00:00                                          0.0
2015-10-02 09:00:00                                          NaN
2015-12-02 08:00:00                                          NaN
2016-04-13 03:00:00                                       2270.0
2016-04-25 03:00:00                                       1340.0
2016-04-25 05:00:00                                        162.0
2016-05-10 21:00:00                                          0.0
2016-06-11 23:00:00                                        382.0
2016-07-09 20:00:00                                          NaN
2016-07-11 22:00:00                                        494.0
2016-09-28 07:00:00                                          0.0
2016-10-27 21:00:00                                          NaN
2016-11-23 03:00:00                                       1413.0
2017-11-14 11:00:00                                          0.0
2017-11-14 18:00:00                                          0.0
2018-06-11 16:00:00                                          1.0
2018-07-11 07:00:00                                          NaN

                     generation hydro run-of-river and poundage  \textbackslash{}
time
2015-01-05 02:00:00                                         NaN
2015-01-05 11:00:00                                         NaN
2015-01-05 12:00:00                                         NaN
2015-01-05 13:00:00                                         NaN
2015-01-05 14:00:00                                         NaN
2015-01-05 15:00:00                                         NaN
2015-01-05 16:00:00                                         NaN
2015-01-19 18:00:00                                         NaN
2015-01-19 19:00:00                                         NaN
2015-01-27 18:00:00                                         NaN
2015-01-28 12:00:00                                         NaN
2015-02-01 06:00:00                                       980.0
2015-02-01 07:00:00                                      1031.0
2015-02-01 08:00:00                                      1083.0
2015-02-01 11:00:00                                      1119.0
2015-02-01 12:00:00                                      1171.0
2015-02-01 13:00:00                                      1216.0
2015-02-01 14:00:00                                      1204.0
2015-02-01 15:00:00                                      1193.0
2015-02-01 16:00:00                                      1214.0
2015-02-01 17:00:00                                      1299.0
2015-02-01 18:00:00                                      1313.0
2015-04-05 01:00:00                                      1233.0
2015-04-16 07:00:00                                         NaN
2015-04-20 06:00:00                                      1122.0
2015-04-23 19:00:00                                         NaN
2015-05-02 08:00:00                                      1425.0
2015-05-29 01:00:00                                       667.0
2015-06-15 07:00:00                                         NaN
2015-10-02 06:00:00                                      1323.0
2015-10-02 09:00:00                                         NaN
2015-12-02 08:00:00                                         NaN
2016-04-13 03:00:00                                      1622.0
2016-04-25 03:00:00                                      1564.0
2016-04-25 05:00:00                                      1648.0
2016-05-10 21:00:00                                       443.0
2016-06-11 23:00:00                                         NaN
2016-07-09 20:00:00                                         NaN
2016-07-11 22:00:00                                       709.0
2016-09-28 07:00:00                                       524.0
2016-10-27 21:00:00                                       417.0
2016-11-23 03:00:00                                       795.0
2017-11-14 11:00:00                                         0.0
2017-11-14 18:00:00                                         0.0
2018-06-11 16:00:00                                      1134.0
2018-07-11 07:00:00                                         NaN

                     generation hydro water reservoir  generation nuclear  \textbackslash{}
time
2015-01-05 02:00:00                               NaN                 NaN
2015-01-05 11:00:00                               NaN                 NaN
2015-01-05 12:00:00                               NaN                 NaN
2015-01-05 13:00:00                               NaN                 NaN
2015-01-05 14:00:00                               NaN                 NaN
2015-01-05 15:00:00                               NaN                 NaN
2015-01-05 16:00:00                               NaN                 NaN
2015-01-19 18:00:00                               NaN                 NaN
2015-01-19 19:00:00                               NaN                 NaN
2015-01-27 18:00:00                               NaN                 NaN
2015-01-28 12:00:00                               NaN                 NaN
2015-02-01 06:00:00                            1174.0              7101.0
2015-02-01 07:00:00                            3229.0              7099.0
2015-02-01 08:00:00                            4574.0              7097.0
2015-02-01 11:00:00                            4416.0              7095.0
2015-02-01 12:00:00                            4475.0              7096.0
2015-02-01 13:00:00                            4412.0              7098.0
2015-02-01 14:00:00                            3403.0              7097.0
2015-02-01 15:00:00                            3333.0              7097.0
2015-02-01 16:00:00                            4684.0              7096.0
2015-02-01 17:00:00                            6187.0              7095.0
2015-02-01 18:00:00                            6895.0              7096.0
2015-04-05 01:00:00                            2531.0              4027.0
2015-04-16 07:00:00                               NaN                 NaN
2015-04-20 06:00:00                            4050.0              6954.0
2015-04-23 19:00:00                               NaN                 NaN
2015-05-02 08:00:00                            5289.0              6353.0
2015-05-29 01:00:00                            1277.0              5035.0
2015-06-15 07:00:00                               NaN                 NaN
2015-10-02 06:00:00                            5378.0              7013.0
2015-10-02 09:00:00                               NaN                 NaN
2015-12-02 08:00:00                               NaN                 NaN
2016-04-13 03:00:00                            4515.0              7097.0
2016-04-25 03:00:00                            5389.0              7094.0
2016-04-25 05:00:00                            6807.0              7095.0
2016-05-10 21:00:00                            1750.0              7002.0
2016-06-11 23:00:00                            1325.0              5056.0
2016-07-09 20:00:00                               NaN              6923.0
2016-07-11 22:00:00                            1215.0              5058.0
2016-09-28 07:00:00                            2494.0              6997.0
2016-10-27 21:00:00                            1295.0              6967.0
2016-11-23 03:00:00                             435.0              5040.0
2017-11-14 11:00:00                               0.0                 0.0
2017-11-14 18:00:00                               0.0                 0.0
2018-06-11 16:00:00                            4258.0              5856.0
2018-07-11 07:00:00                               NaN                 NaN

                     generation other  generation other renewable  \textbackslash{}
time
2015-01-05 02:00:00               NaN                         NaN
2015-01-05 11:00:00               NaN                         NaN
2015-01-05 12:00:00               NaN                         NaN
2015-01-05 13:00:00               NaN                         NaN
2015-01-05 14:00:00               NaN                         NaN
2015-01-05 15:00:00               NaN                         NaN
2015-01-05 16:00:00               NaN                         NaN
2015-01-19 18:00:00               NaN                         NaN
2015-01-19 19:00:00               NaN                         NaN
2015-01-27 18:00:00               NaN                         NaN
2015-01-28 12:00:00               NaN                         NaN
2015-02-01 06:00:00              44.0                        75.0
2015-02-01 07:00:00              44.0                        75.0
2015-02-01 08:00:00              43.0                        71.0
2015-02-01 11:00:00              42.0                        72.0
2015-02-01 12:00:00              41.0                        73.0
2015-02-01 13:00:00              42.0                        79.0
2015-02-01 14:00:00              41.0                        79.0
2015-02-01 15:00:00              40.0                        77.0
2015-02-01 16:00:00              41.0                        77.0
2015-02-01 17:00:00              41.0                        79.0
2015-02-01 18:00:00              42.0                        82.0
2015-04-05 01:00:00              81.0                        67.0
2015-04-16 07:00:00               NaN                         NaN
2015-04-20 06:00:00              41.0                        62.0
2015-04-23 19:00:00               NaN                         NaN
2015-05-02 08:00:00              93.0                        72.0
2015-05-29 01:00:00              85.0                        69.0
2015-06-15 07:00:00               NaN                         NaN
2015-10-02 06:00:00              87.0                        70.0
2015-10-02 09:00:00               NaN                         NaN
2015-12-02 08:00:00               NaN                         NaN
2016-04-13 03:00:00              53.0                        69.0
2016-04-25 03:00:00              50.0                        59.0
2016-04-25 05:00:00              51.0                        62.0
2016-05-10 21:00:00              50.0                        91.0
2016-06-11 23:00:00              56.0                        86.0
2016-07-09 20:00:00               NaN                         NaN
2016-07-11 22:00:00              49.0                        83.0
2016-09-28 07:00:00              61.0                        86.0
2016-10-27 21:00:00              58.0                        91.0
2016-11-23 03:00:00              60.0                        85.0
2017-11-14 11:00:00               0.0                         0.0
2017-11-14 18:00:00               0.0                         0.0
2018-06-11 16:00:00              52.0                        96.0
2018-07-11 07:00:00               NaN                         NaN

                     generation solar  generation waste  \textbackslash{}
time
2015-01-05 02:00:00               NaN               NaN
2015-01-05 11:00:00               NaN               NaN
2015-01-05 12:00:00               NaN               NaN
2015-01-05 13:00:00               NaN               NaN
2015-01-05 14:00:00               NaN               NaN
2015-01-05 15:00:00               NaN               NaN
2015-01-05 16:00:00               NaN               NaN
2015-01-19 18:00:00               NaN               NaN
2015-01-19 19:00:00               NaN               NaN
2015-01-27 18:00:00               NaN               NaN
2015-01-28 12:00:00               NaN               NaN
2015-02-01 06:00:00              48.0             208.0
2015-02-01 07:00:00              73.0             207.0
2015-02-01 08:00:00             809.0             204.0
2015-02-01 11:00:00            3817.0             200.0
2015-02-01 12:00:00            3836.0             193.0
2015-02-01 13:00:00            3701.0             199.0
2015-02-01 14:00:00            3475.0             204.0
2015-02-01 15:00:00            2742.0             203.0
2015-02-01 16:00:00            1281.0             207.0
2015-02-01 17:00:00             328.0             208.0
2015-02-01 18:00:00             161.0             207.0
2015-04-05 01:00:00              31.0             142.0
2015-04-16 07:00:00               NaN               NaN
2015-04-20 06:00:00             636.0             147.0
2015-04-23 19:00:00               NaN               NaN
2015-05-02 08:00:00            2535.0             205.0
2015-05-29 01:00:00             662.0             201.0
2015-06-15 07:00:00               NaN               NaN
2015-10-02 06:00:00             140.0             205.0
2015-10-02 09:00:00               NaN               NaN
2015-12-02 08:00:00               NaN               NaN
2016-04-13 03:00:00             150.0               NaN
2016-04-25 03:00:00             454.0             195.0
2016-04-25 05:00:00             283.0             214.0
2016-05-10 21:00:00              58.0             280.0
2016-06-11 23:00:00              30.0             291.0
2016-07-09 20:00:00               NaN               NaN
2016-07-11 22:00:00              31.0             309.0
2016-09-28 07:00:00             982.0             300.0
2016-10-27 21:00:00              70.0             299.0
2016-11-23 03:00:00              15.0             227.0
2017-11-14 11:00:00               0.0               0.0
2017-11-14 18:00:00               0.0               0.0
2018-06-11 16:00:00             170.0             269.0
2018-07-11 07:00:00               NaN               NaN

                     generation wind onshore  total load actual  price actual
time
2015-01-05 02:00:00                      NaN            21182.0         59.68
2015-01-05 11:00:00                      NaN                NaN         79.14
2015-01-05 12:00:00                      NaN                NaN         73.95
2015-01-05 13:00:00                      NaN                NaN         71.93
2015-01-05 14:00:00                      NaN                NaN         71.50
2015-01-05 15:00:00                      NaN                NaN         71.85
2015-01-05 16:00:00                      NaN                NaN         80.53
2015-01-19 18:00:00                      NaN            39304.0         88.95
2015-01-19 19:00:00                      NaN            39262.0         87.94
2015-01-27 18:00:00                      NaN            38335.0         83.97
2015-01-28 12:00:00                      NaN                NaN         77.62
2015-02-01 06:00:00                   3289.0                NaN         16.98
2015-02-01 07:00:00                   3102.0                NaN         19.56
2015-02-01 08:00:00                   2838.0                NaN         23.13
2015-02-01 11:00:00                   1413.0                NaN         22.51
2015-02-01 12:00:00                   1347.0                NaN         23.44
2015-02-01 13:00:00                   1345.0                NaN         24.10
2015-02-01 14:00:00                   1487.0                NaN         21.12
2015-02-01 15:00:00                   1648.0                NaN         21.73
2015-02-01 16:00:00                   1857.0                NaN         25.93
2015-02-01 17:00:00                   1864.0                NaN         54.13
2015-02-01 18:00:00                   1813.0                NaN         68.53
2015-04-05 01:00:00                   3153.0                NaN         29.04
2015-04-16 07:00:00                      NaN                NaN         67.55
2015-04-20 06:00:00                    797.0                NaN         72.92
2015-04-23 19:00:00                      NaN                NaN         82.57
2015-05-02 08:00:00                  10903.0                NaN         59.09
2015-05-29 01:00:00                   6503.0                NaN         55.07
2015-06-15 07:00:00                      NaN            30047.0         73.82
2015-10-02 06:00:00                   4362.0                NaN         70.13
2015-10-02 09:00:00                      NaN                NaN         70.49
2015-12-02 08:00:00                      NaN                NaN         80.44
2016-04-13 03:00:00                   8596.0            23614.0         25.14
2016-04-25 03:00:00                   5989.0                NaN         22.65
2016-04-25 05:00:00                   5682.0                NaN         40.18
2016-05-10 21:00:00                   3311.0                NaN         39.11
2016-06-11 23:00:00                   2019.0            24155.0         48.72
2016-07-09 20:00:00                      NaN                NaN         51.72
2016-07-11 22:00:00                   2031.0            25103.0         47.49
2016-09-28 07:00:00                   5478.0                NaN         56.40
2016-10-27 21:00:00                   3193.0            26583.0         62.84
2016-11-23 03:00:00                   4598.0            23112.0         49.11
2017-11-14 11:00:00                      0.0                NaN         66.17
2017-11-14 18:00:00                      0.0                NaN         75.45
2018-06-11 16:00:00                   9165.0                NaN         64.93
2018-07-11 07:00:00                      NaN                NaN         69.79
\end{Verbatim}
\end{tcolorbox}
        
    \begin{itemize}
\tightlist
\item
  Reemplazo de valores nulos -empleando el m√©todo de interpolaci√≥n
  lineal-
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{14}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{interpolate}\PY{p}{(}\PY{n}{method}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{linear}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{limit\PYZus{}direction}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{forward}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{itemize}
\tightlist
\item
  Chequeo del reemplazo por el m√©todo citado anteriormente
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{15}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{dataframe\PYZus{}energy\PYZus{}nulos} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Cantidad NaN}\PY{l+s+s1}{\PYZsq{}} \PY{p}{:} \PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{isnull}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}\PY{p}{\PYZcb{}}\PY{p}{)}

\PY{n}{dataframe\PYZus{}energy\PYZus{}nulos}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{15}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
                                             Cantidad NaN
generation biomass                                      0
generation fossil brown coal/lignite                    0
generation fossil gas                                   0
generation fossil hard coal                             0
generation fossil oil                                   0
generation hydro pumped storage consumption             0
generation hydro run-of-river and poundage              0
generation hydro water reservoir                        0
generation nuclear                                      0
generation other                                        0
generation other renewable                              0
generation solar                                        0
generation waste                                        0
generation wind onshore                                 0
total load actual                                       0
price actual                                            0
\end{Verbatim}
\end{tcolorbox}
        
    \begin{itemize}
\tightlist
\item
  Chequeo final para datos faltantes/nulos -NaN-
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{16}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{info}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
<class 'pandas.core.frame.DataFrame'>
DatetimeIndex: 35063 entries, 2015-01-01 00:00:00 to 2018-12-31 22:00:00
Data columns (total 16 columns):
 \#   Column                                       Non-Null Count  Dtype
---  ------                                       --------------  -----
 0   generation biomass                           35063 non-null  float64
 1   generation fossil brown coal/lignite         35063 non-null  float64
 2   generation fossil gas                        35063 non-null  float64
 3   generation fossil hard coal                  35063 non-null  float64
 4   generation fossil oil                        35063 non-null  float64
 5   generation hydro pumped storage consumption  35063 non-null  float64
 6   generation hydro run-of-river and poundage   35063 non-null  float64
 7   generation hydro water reservoir             35063 non-null  float64
 8   generation nuclear                           35063 non-null  float64
 9   generation other                             35063 non-null  float64
 10  generation other renewable                   35063 non-null  float64
 11  generation solar                             35063 non-null  float64
 12  generation waste                             35063 non-null  float64
 13  generation wind onshore                      35063 non-null  float64
 14  total load actual                            35063 non-null  float64
 15  price actual                                 35063 non-null  float64
dtypes: float64(16)
memory usage: 5.6 MB
    \end{Verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 30px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #f5d769; padding: 1px; border-radius: 5px;">
      Enriquecimiento de los datos
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #f5d769; padding: 5px; border-radius: 5px;">
      "Etapa referida a agregaci√≥n de datos extra (de fuentes externas) que complementen a los ya existentes, para agregar informaci√≥n extra al an√°lisis. En algunos casos se habla de la creaci√≥n de variables resumen, en forma adicional".
\end{verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 5px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 25px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #f5d769; padding: 5px; border-radius: 5px;">
  2¬∞ Dataset - API p√∫blica de Kaggle a Google Colab
\end{verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 30px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #f5d769; padding: 1px; border-radius: 5px;">
      Pasos a realizar:
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; text-align: left; color: black; background-color: #f5d769; padding: 5px; border-radius: 5px;">
      1.  Ingresar a Kaggle, registrar un usuario y dirigirse al siguiente apartado <a href="https://www.kaggle.com/settings" target="_blank"> (configuraci√≥n)</a>
      </p>
      2.  Solicitar una API key en la secci√≥n de APIs.
      </p>
      3.  Al archivo descargado, en formato .json, ubicarlo en la carpeta de descargas, por defecto.
      </p>
      4.  Abrir el entorno de Google Colab, y seguir los dem√°s pasos (continuaci√≥n).
\end{verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; text-align: left; color: black; background-color: #f5d769; padding: 5px; border-radius: 5px;">
      5.  Ejecutar el c√≥digo "!pip install kaggle" e importar kaggle con "import kaggle" al entorno.
\end{verbatim}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{o}{!} pip install kaggle
\end{Verbatim}
\end{tcolorbox}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; text-align: left; color: black; background-color: #f5d769; padding: 5px; border-radius: 5px;">
      6.  Subir el archivo que contiene la API key, en formato .json.
\end{verbatim}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k+kn}{from} \PY{n+nn}{google}\PY{n+nn}{.}\PY{n+nn}{colab} \PY{k+kn}{import} \PY{n}{files}
\PY{n}{files}\PY{o}{.}\PY{n}{upload}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; text-align: left; color: black; background-color: #f5d769; padding: 5px; border-radius: 5px;">
      7.  Creaci√≥n de un nuevo directorio.
\end{verbatim}

    \begin{itemize}
\tightlist
\item
  √âste comando crea el directorio '' \textasciitilde/.kaggle'' en caso
  de que no exista

  \begin{itemize}
  \tightlist
  \item
    Comando que se utiliza en entornos de terminal o shell
  \item
    ``mkdir'' es un comando que crea directorios (carpetas)
  \item
    ``-p'' es una opci√≥n que indica al comando que cree directorios
    intermedios si no existen -creaci√≥n autom√°tica de los directorios
    principales de ser necesario-
  \item
    Para este caso: '' \textasciitilde/.kaggle'' es la ruta del
    directorio que se desea crear
  \end{itemize}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{19}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{o}{!}mkdir \PYZhy{}p \PYZti{}/.kaggle
\end{Verbatim}
\end{tcolorbox}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; text-align: left; color: black; background-color: #f5d769; padding: 5px; border-radius: 5px;">
      8.  Movimiento del archivo que contiene la API key al directorio nuevo creado.
\end{verbatim}

    \begin{itemize}
\tightlist
\item
  Este comando utiliza ``mv'' -comando para mover o renombrar archivos o
  directorios-

  \begin{itemize}
  \tightlist
  \item
    ``kaggle.json'' es el nombre del archivo que se est√° moviendo y
    ``\textasciitilde/.kaggle/'' es la ubicaci√≥n de destino donde se
    desea mover el archivo
  \item
    En este caso: se est√° moviendo el archivo kaggle.json al directorio
    ``\textasciitilde/.kaggle/''
  \end{itemize}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{20}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{o}{!}mv kaggle.json \PYZti{}/.kaggle/
\end{Verbatim}
\end{tcolorbox}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; text-align: left; color: black; background-color: #f5d769; padding: 5px; border-radius: 5px;">
      9.  Revisi√≥n de los pasos realizados, particularmente para hacer un chequeo de que el archivo .json se encuentre en el lugar deseado.
\end{verbatim}

    \begin{itemize}
\tightlist
\item
  Al ejecutar este comando, se visualiza una lista de los archivos y
  carpetas dentro del directorio ``\textasciitilde/.kaggle''

  \begin{itemize}
  \tightlist
  \item
    El comando ``ls'' se utiliza para listar los contenidos de un
    directorio
  \item
    ``\textasciitilde/.kaggle'' es el directorio que se desea listar
  \end{itemize}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{21}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{o}{!}ls \PYZti{}/.kaggle
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
kaggle.json
    \end{Verbatim}

    \begin{itemize}
\tightlist
\item
  Al ejecutar este comando, se mostrar√° informaci√≥n sobre el archivo
  ``kaggle.json'' si existe en la ubicaci√≥n especificada

  \begin{itemize}
  \tightlist
  \item
    Similar al anterior, pero se aplica a un archivo espec√≠fico, en este
    caso, ``kaggle.json''
  \end{itemize}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{22}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{o}{!}ls \PYZti{}/.kaggle/kaggle.json
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
/root/.kaggle/kaggle.json
    \end{Verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; text-align: left; color: black; background-color: #f5d769; padding: 5px; border-radius: 5px;">
      10.  Enlistar los datasets de Kaggle
\end{verbatim}

    \begin{itemize}
\tightlist
\item
  Este comando permite hacer una b√∫squeda de datasets, filtrando por las
  palabras clave deseadas
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{o}{!}kaggle datasets list \PYZhy{}s \PY{l+s+s1}{\PYZsq{}energy\PYZsq{}}
\end{Verbatim}
\end{tcolorbox}

    \begin{itemize}
\item
  Se procede a seleccionar el dataset general que se emple√≥ en las
  primeras entregas: ``Hourly energy demand generation and weather''
\item
  Espec√≠ficamente, y a partir de ahora, se debe seleccionar un archivo
  .csv de los dos que contiene el dataset general
  (weather\_features.csv).
\end{itemize}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; text-align: left; color: black; background-color: #f5d769; padding: 5px; border-radius: 5px;">
      11.  Descargar el dataset proveniente de Kaggle.
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #f5d769; padding: 5px; border-radius: 5px;">
      Se procede a seleccionar el dataset general que se emple√≥ en las primeras entregas: "Hourly energy demand generation and weather".
    </p>
    Espec√≠ficamente, y a partir de ahora, se debe seleccionar un archivo .csv de los dos que contiene el dataset general: "weather_features.csv".
\end{verbatim}

    \begin{itemize}
\tightlist
\item
  Descarga del dataset
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{o}{!}kaggle datasets download \PYZhy{}d \PY{l+s+s1}{\PYZsq{}nicholasjhana/energy\PYZhy{}consumption\PYZhy{}generation\PYZhy{}prices\PYZhy{}and\PYZhy{}weather\PYZsq{}}
\end{Verbatim}
\end{tcolorbox}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; text-align: left; color: black; background-color: #f5d769; padding: 5px; border-radius: 5px;">
      12.  Descomprimir los archivos descargados.
\end{verbatim}

    \begin{itemize}
\item
  Extracci√≥n del contenido del archivo ZIP
  ``energy-consumption-generation-prices-and-weather.zip''
\item
  Descompresi√≥n y colocaci√≥n en la carpeta ``data/'', en el entorno de
  -por defecto: colocar ``/y''-
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{o}{!}unzip energy\PYZhy{}consumption\PYZhy{}generation\PYZhy{}prices\PYZhy{}and\PYZhy{}weather.zip \PYZhy{}d data/y
\end{Verbatim}
\end{tcolorbox}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; text-align: left; color: black; background-color: #f5d769; padding: 5px; border-radius: 5px;">
      13.  Cambio del directorio para darle continuidad al trabajo.
\end{verbatim}

    \begin{itemize}
\tightlist
\item
  Cambio al directorio ``data, para luego listar los contenidos de ese
  directorio
\item
  ``\&\&'' es un operador l√≥gico que se utiliza en comandos de shell
\item
  En este contexto, ``\&\&'' significa ``y''. Lo que hace es ejecutar el
  segundo comando solo si el primero se ejecuta con √©xito, es decir, si
  el cambio de directorio a ``data'' tiene √©xito.
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{o}{!}\PY{n+nb}{cd} data \PY{o}{\PYZam{}\PYZam{}} ls
\end{Verbatim}
\end{tcolorbox}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; text-align: left; color: black; background-color: #f5d769; padding: 5px; border-radius: 5px;">
      14.  Continuaci√≥n del trabajo con la carga del dataset y de las librer√≠as necesarias, para pasar a la siguiente etapa de Data Wrangling.
\end{verbatim}

    \begin{itemize}
\tightlist
\item
  Empleo de pandas para cargar el dataset
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{27}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}weather} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{/content/gdrive/MyDrive/data/y/weather\PYZus{}features.csv}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #f5d769; padding: 5px; border-radius: 5px;">
      Para este dataset se debe efectuar otro proceso de estructuraci√≥n y limpieza.
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #f5d769; padding: 5px; border-radius: 5px;">
      Inicialmente se modificar√°n los tipos de datos, pasando los "int64" a "float64". Se incluyen las features presi√≥n; humedad; velocidad y direcci√≥n de viento; nubosidad y 'weather_id'.
\end{verbatim}

    \begin{itemize}
\tightlist
\item
  Chequeo sobre el tipo de datos
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{28}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}weather}\PY{o}{.}\PY{n}{info}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
<class 'pandas.core.frame.DataFrame'>
RangeIndex: 178396 entries, 0 to 178395
Data columns (total 17 columns):
 \#   Column               Non-Null Count   Dtype
---  ------               --------------   -----
 0   dt\_iso               178396 non-null  object
 1   city\_name            178396 non-null  object
 2   temp                 178396 non-null  float64
 3   temp\_min             178396 non-null  float64
 4   temp\_max             178396 non-null  float64
 5   pressure             178396 non-null  int64
 6   humidity             178396 non-null  int64
 7   wind\_speed           178396 non-null  int64
 8   wind\_deg             178396 non-null  int64
 9   rain\_1h              178396 non-null  float64
 10  rain\_3h              178396 non-null  float64
 11  snow\_3h              178396 non-null  float64
 12  clouds\_all           178396 non-null  int64
 13  weather\_id           178396 non-null  int64
 14  weather\_main         178396 non-null  object
 15  weather\_description  178396 non-null  object
 16  weather\_icon         178396 non-null  object
dtypes: float64(6), int64(6), object(5)
memory usage: 23.1+ MB
    \end{Verbatim}

    \begin{itemize}
\tightlist
\item
  Identificaci√≥n de las columnas con un tipo de dato espec√≠fico, sumado
  a la conversi√≥n a otro dtype y devolviendo el dataframe modificado
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{29}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k}{def} \PY{n+nf}{conversor}\PY{p}{(}\PY{n}{df\PYZus{}weather}\PY{p}{,} \PY{n}{convert\PYZus{}from}\PY{p}{,} \PY{n}{convert\PYZus{}to}\PY{p}{)}\PY{p}{:}
    \PY{n}{columnas} \PY{o}{=} \PY{n}{df\PYZus{}weather}\PY{o}{.}\PY{n}{select\PYZus{}dtypes}\PY{p}{(}\PY{n}{include}\PY{o}{=}\PY{p}{[}\PY{n}{convert\PYZus{}from}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{columns}

    \PY{k}{for} \PY{n}{col} \PY{o+ow}{in} \PY{n}{columnas}\PY{p}{:}
        \PY{n}{df\PYZus{}weather}\PY{p}{[}\PY{n}{col}\PY{p}{]} \PY{o}{=} \PY{n}{df\PYZus{}weather}\PY{p}{[}\PY{n}{col}\PY{p}{]}\PY{o}{.}\PY{n}{values}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{n}{convert\PYZus{}to}\PY{p}{)}

    \PY{k}{return} \PY{n}{df\PYZus{}weather}
\end{Verbatim}
\end{tcolorbox}

    \begin{itemize}
\tightlist
\item
  Aplicaci√≥n de la funci√≥n convertidora de datos (int64 a float64)
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{30}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}weather} \PY{o}{=} \PY{n}{conversor}\PY{p}{(}\PY{n}{df\PYZus{}weather}\PY{p}{,} \PY{n}{np}\PY{o}{.}\PY{n}{int64}\PY{p}{,} \PY{n}{np}\PY{o}{.}\PY{n}{float64}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{itemize}
\tightlist
\item
  Chequeo repetido en tipos de datos
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{31}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}weather}\PY{o}{.}\PY{n}{info}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
<class 'pandas.core.frame.DataFrame'>
RangeIndex: 178396 entries, 0 to 178395
Data columns (total 17 columns):
 \#   Column               Non-Null Count   Dtype
---  ------               --------------   -----
 0   dt\_iso               178396 non-null  object
 1   city\_name            178396 non-null  object
 2   temp                 178396 non-null  float64
 3   temp\_min             178396 non-null  float64
 4   temp\_max             178396 non-null  float64
 5   pressure             178396 non-null  float64
 6   humidity             178396 non-null  float64
 7   wind\_speed           178396 non-null  float64
 8   wind\_deg             178396 non-null  float64
 9   rain\_1h              178396 non-null  float64
 10  rain\_3h              178396 non-null  float64
 11  snow\_3h              178396 non-null  float64
 12  clouds\_all           178396 non-null  float64
 13  weather\_id           178396 non-null  float64
 14  weather\_main         178396 non-null  object
 15  weather\_description  178396 non-null  object
 16  weather\_icon         178396 non-null  object
dtypes: float64(12), object(5)
memory usage: 23.1+ MB
    \end{Verbatim}

    \begin{itemize}
\tightlist
\item
  Establecimiento de la feature `dt\_iso' como index
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{32}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}weather}\PY{o}{.}\PY{n}{index} \PY{o}{=} \PY{n}{df\PYZus{}weather}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dt\PYZus{}iso}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
\PY{n}{df\PYZus{}weather} \PY{o}{=} \PY{n}{df\PYZus{}weather}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dt\PYZus{}iso}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{columns}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}

\PY{n}{df\PYZus{}weather}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{32}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
                          city\_name     temp  temp\_min  temp\_max  pressure  \textbackslash{}
dt\_iso
2015-01-01 00:00:00+01:00  Valencia  270.475   270.475   270.475    1001.0
2015-01-01 01:00:00+01:00  Valencia  270.475   270.475   270.475    1001.0
2015-01-01 02:00:00+01:00  Valencia  269.686   269.686   269.686    1002.0
2015-01-01 03:00:00+01:00  Valencia  269.686   269.686   269.686    1002.0
2015-01-01 04:00:00+01:00  Valencia  269.686   269.686   269.686    1002.0
{\ldots}                             {\ldots}      {\ldots}       {\ldots}       {\ldots}       {\ldots}
2018-12-31 19:00:00+01:00   Seville  287.760   287.150   288.150    1028.0
2018-12-31 20:00:00+01:00   Seville  285.760   285.150   286.150    1029.0
2018-12-31 21:00:00+01:00   Seville  285.150   285.150   285.150    1028.0
2018-12-31 22:00:00+01:00   Seville  284.150   284.150   284.150    1029.0
2018-12-31 23:00:00+01:00   Seville  283.970   282.150   285.150    1029.0

                           humidity  wind\_speed  wind\_deg  rain\_1h  rain\_3h  \textbackslash{}
dt\_iso
2015-01-01 00:00:00+01:00      77.0         1.0      62.0      0.0      0.0
2015-01-01 01:00:00+01:00      77.0         1.0      62.0      0.0      0.0
2015-01-01 02:00:00+01:00      78.0         0.0      23.0      0.0      0.0
2015-01-01 03:00:00+01:00      78.0         0.0      23.0      0.0      0.0
2015-01-01 04:00:00+01:00      78.0         0.0      23.0      0.0      0.0
{\ldots}                             {\ldots}         {\ldots}       {\ldots}      {\ldots}      {\ldots}
2018-12-31 19:00:00+01:00      54.0         3.0      30.0      0.0      0.0
2018-12-31 20:00:00+01:00      62.0         3.0      30.0      0.0      0.0
2018-12-31 21:00:00+01:00      58.0         4.0      50.0      0.0      0.0
2018-12-31 22:00:00+01:00      57.0         4.0      60.0      0.0      0.0
2018-12-31 23:00:00+01:00      70.0         3.0      50.0      0.0      0.0

                           snow\_3h  clouds\_all  weather\_id weather\_main  \textbackslash{}
dt\_iso
2015-01-01 00:00:00+01:00      0.0         0.0       800.0        clear
2015-01-01 01:00:00+01:00      0.0         0.0       800.0        clear
2015-01-01 02:00:00+01:00      0.0         0.0       800.0        clear
2015-01-01 03:00:00+01:00      0.0         0.0       800.0        clear
2015-01-01 04:00:00+01:00      0.0         0.0       800.0        clear
{\ldots}                            {\ldots}         {\ldots}         {\ldots}          {\ldots}
2018-12-31 19:00:00+01:00      0.0         0.0       800.0        clear
2018-12-31 20:00:00+01:00      0.0         0.0       800.0        clear
2018-12-31 21:00:00+01:00      0.0         0.0       800.0        clear
2018-12-31 22:00:00+01:00      0.0         0.0       800.0        clear
2018-12-31 23:00:00+01:00      0.0         0.0       800.0        clear

                          weather\_description weather\_icon
dt\_iso
2015-01-01 00:00:00+01:00        sky is clear          01n
2015-01-01 01:00:00+01:00        sky is clear          01n
2015-01-01 02:00:00+01:00        sky is clear          01n
2015-01-01 03:00:00+01:00        sky is clear          01n
2015-01-01 04:00:00+01:00        sky is clear          01n
{\ldots}                                       {\ldots}          {\ldots}
2018-12-31 19:00:00+01:00        sky is clear          01n
2018-12-31 20:00:00+01:00        sky is clear          01n
2018-12-31 21:00:00+01:00        sky is clear          01n
2018-12-31 22:00:00+01:00        sky is clear          01n
2018-12-31 23:00:00+01:00        sky is clear          01n

[178396 rows x 16 columns]
\end{Verbatim}
\end{tcolorbox}
        
    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #f5d769; padding: 5px; border-radius: 5px;">
      Acondicinamiento del index en el dataframe.
\end{verbatim}

    \begin{itemize}
\tightlist
\item
  Seteo del index como un dtype=datetime, y seteo de sus valores con
  respecto a tiempo universal coordinado o UTC

  \begin{itemize}
  \tightlist
  \item
    UTC es el principal est√°ndar de tiempo por el cual el mundo regula
    los relojes y el tiempo
  \item
    Chequeo de que el index sea un tipo de dtype=datetime
  \end{itemize}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}weather}\PY{o}{.}\PY{n}{index} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{to\PYZus{}datetime}\PY{p}{(}\PY{n}{df\PYZus{}weather}\PY{o}{.}\PY{n}{index}\PY{p}{,} \PY{n}{utc}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{True}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}

\PY{n}{df\PYZus{}weather}\PY{o}{.}\PY{n}{index}
\end{Verbatim}
\end{tcolorbox}

    \begin{itemize}
\tightlist
\item
  Empleo del comando tz\_localize para remover el uso horario o time
  zone, manteniendo el resto de los valores temporales

  \begin{itemize}
  \tightlist
  \item
    Remoci√≥n del valor temporal de 2014, ya que no aporta a la data
  \end{itemize}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}weather} \PY{o}{=} \PY{n}{df\PYZus{}weather}\PY{o}{.}\PY{n}{tz\PYZus{}localize}\PY{p}{(}\PY{k+kc}{None}\PY{p}{)}

\PY{n}{df\PYZus{}weather} \PY{o}{=} \PY{n}{df\PYZus{}weather}\PY{p}{[}\PY{n}{df\PYZus{}weather}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{year} \PY{o}{\PYZgt{}}\PY{o}{=}\PY{l+m+mi}{2015}\PY{p}{]}

\PY{n}{df\PYZus{}weather}\PY{o}{.}\PY{n}{index}
\end{Verbatim}
\end{tcolorbox}

    \begin{itemize}
\tightlist
\item
  Cambio en el nombre de la feature: de `dt\_iso' a `time'
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{35}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}weather}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{name} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{time}\PY{l+s+s1}{\PYZsq{}}
\end{Verbatim}
\end{tcolorbox}

    \begin{itemize}
\tightlist
\item
  Chequeo para revisar el nombre del index
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n+nb}{print}\PY{p}{(}\PY{n}{df\PYZus{}weather}\PY{o}{.}\PY{n}{index}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #f5d769; padding: 5px; border-radius: 5px;">
      An√°lisis de valores duplicados
\end{verbatim}

    \begin{itemize}
\tightlist
\item
  Utilizaci√≥n de ``groupby'' para las variables cuantitativas
  -agrupadas- por ciudad
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{37}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{mean\PYZus{}values\PYZus{}city} \PY{o}{=} \PY{n}{df\PYZus{}weather}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{city\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}

\PY{n}{mean\PYZus{}values\PYZus{}city}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
<ipython-input-37-8579e694ca45>:1: FutureWarning: The default value of
numeric\_only in DataFrameGroupBy.mean is deprecated. In a future version,
numeric\_only will default to False. Either specify numeric\_only or select only
columns which should be valid for the function.
  mean\_values\_city = df\_weather.groupby('city\_name').mean()
    \end{Verbatim}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{37}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
                  temp    temp\_min    temp\_max     pressure   humidity  \textbackslash{}
city\_name
 Barcelona  289.848480  288.594901  291.022252  1284.017505  73.993488
Bilbao      286.378954  284.917086  288.037198  1017.566926  79.088957
Madrid      288.061643  286.825415  289.156202  1011.839574  59.776843
Seville     293.105985  291.184604  295.963066  1018.504134  64.140426
Valencia    290.781358  290.222838  291.355619  1015.974220  65.144776

            wind\_speed    wind\_deg   rain\_1h   rain\_3h   snow\_3h  clouds\_all  \textbackslash{}
city\_name
 Barcelona    2.786469  187.191684  0.117082  0.000327  0.000000   23.230303
Bilbao        1.957524  159.881697  0.123497  0.001034  0.023456   43.961919
Madrid        2.441736  173.289417  0.055085  0.000129  0.000029   22.397645
Seville       2.483828  151.760856  0.045393  0.000180  0.000000   14.749184
Valencia      2.692864  160.756630  0.035925  0.000226  0.000154   20.821591

            weather\_id
city\_name
 Barcelona  760.916364
Bilbao      723.941113
Madrid      762.259224
Seville     771.409045
Valencia    781.227749
\end{Verbatim}
\end{tcolorbox}
        
    \begin{itemize}
\tightlist
\item
  Aplicaci√≥n del m√©todo ``.describe'' para las variables cualitativas
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{38}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}weather}\PY{o}{.}\PY{n}{describe}\PY{p}{(}\PY{n}{include}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{object}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{38}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
       city\_name weather\_main weather\_description weather\_icon
count     178391       178391              178391       178391
unique         5           12                  43           24
top       Madrid        clear        sky is clear          01n
freq       36266        82680               82680        38537
\end{Verbatim}
\end{tcolorbox}
        
    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #f5d769; padding: 5px; border-radius: 5px;">
    Se puede concluir que la feature 'weather_id' no aporta al an√°lisis del trabajo, debido a que s√≥lamente representa una utilidad en fuente de informaci√≥n trabajando en el sitio web de OpenWeather.
\end{verbatim}

    \begin{itemize}
\tightlist
\item
  Despliegue de los valores √∫nicos en las features:

  \begin{itemize}
  \tightlist
  \item
    `weather\_description'
  \item
    `weather\_main'
  \item
    `weather\_id'
  \end{itemize}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{39}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{wd\PYZus{}unique} \PY{o}{=} \PY{n}{df\PYZus{}weather}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{weather\PYZus{}description}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{unique}\PY{p}{(}\PY{p}{)}

\PY{n}{wd\PYZus{}unique}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{39}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
array(['sky is clear', 'few clouds', 'scattered clouds', 'broken clouds',
       'overcast clouds', 'light rain', 'moderate rain',
       'heavy intensity rain', 'mist', 'heavy intensity shower rain',
       'shower rain', 'very heavy rain', 'thunderstorm with heavy rain',
       'thunderstorm with light rain', 'thunderstorm with rain',
       'proximity thunderstorm', 'thunderstorm',
       'light intensity shower rain', 'light intensity drizzle', 'fog',
       'drizzle', 'smoke', 'heavy intensity drizzle', 'haze',
       'proximity shower rain', 'light intensity drizzle rain',
       'light snow', 'rain and snow', 'light rain and snow', 'snow',
       'light thunderstorm', 'heavy snow', 'sleet', 'rain and drizzle',
       'shower sleet', 'light shower sleet', 'light shower snow',
       'proximity moderate rain', 'ragged shower rain',
       'sand dust whirls', 'proximity drizzle', 'dust', 'squalls'],
      dtype=object)
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{40}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{wm\PYZus{}unique} \PY{o}{=} \PY{n}{df\PYZus{}weather}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{weather\PYZus{}main}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{unique}\PY{p}{(}\PY{p}{)}

\PY{n}{wm\PYZus{}unique}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{40}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
array(['clear', 'clouds', 'rain', 'mist', 'thunderstorm', 'drizzle',
       'fog', 'smoke', 'haze', 'snow', 'dust', 'squall'], dtype=object)
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{41}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{wid\PYZus{}unique} \PY{o}{=} \PY{n}{df\PYZus{}weather}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{weather\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{unique}\PY{p}{(}\PY{p}{)}

\PY{n}{wid\PYZus{}unique}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{41}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
array([800., 801., 802., 803., 804., 500., 501., 502., 701., 522., 521.,
       503., 202., 200., 201., 211., 520., 300., 741., 301., 711., 302.,
       721., 310., 600., 616., 615., 601., 210., 602., 611., 311., 612.,
       620., 531., 731., 761., 771.])
\end{Verbatim}
\end{tcolorbox}
        
    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #f5d769; padding: 5px; border-radius: 5px;">
    En materia de descripciones cualitativas, se tiene:
    <ul style="color: black; text-align: left;">
    <li>'weather_main' presenta una versi√≥n "m√°s simple" o menos detallada comparada con la 'weather_description'.
    <li>'weather_id' presenta una informaci√≥n precisa y √∫til, combin√°ndose de mejor forma con la de 'weather_description', ya que ambas, incluso, contienen casi el mismo n√∫mero de valores √∫nicos.
    </ul>
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #f5d769; padding: 5px; border-radius: 5px;">
    Por lo tanto, no ser√≠a una mala idea eliminar 'weather_main', en virtud de mantener las otras dos.
\end{verbatim}

    \begin{itemize}
\tightlist
\item
  Conteo de valores NaNs en df\_weather
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{42}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{conteo\PYZus{}missing} \PY{o}{=} \PY{n}{df\PYZus{}weather}\PY{o}{.}\PY{n}{isnull}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}
\PY{n+nb}{print}\PY{p}{(}\PY{l+s+sa}{f}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Existen }\PY{l+s+si}{\PYZob{}}\PY{n}{conteo\PYZus{}missing}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s1}{ valores NaN en df\PYZus{}weather.}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
Existen 0 valores NaN en df\_weather.
    \end{Verbatim}

    \begin{itemize}
\tightlist
\item
  Conteo de registros duplicados en df\_weather
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{43}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{conteo\PYZus{}dupplicated} \PY{o}{=} \PY{n}{df\PYZus{}weather}\PY{o}{.}\PY{n}{duplicated}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}
\PY{n+nb}{print}\PY{p}{(}\PY{l+s+sa}{f}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Existen }\PY{l+s+si}{\PYZob{}}\PY{n}{conteo\PYZus{}dupplicated}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s1}{ valores/registros duplicados, basados en todas las columnas, en df\PYZus{}weather.}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
Existen 8618 valores/registros duplicados, basados en todas las columnas, en
df\_weather.
    \end{Verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #f5d769; padding: 5px; border-radius: 5px;">
    Pasos a seguir para la eliminaci√≥n de NaNs:
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: left; background-color: #f5d769; padding: 5px; border-radius: 5px;">
    1. Inicialmente, se determina el n√∫mero de registros duplicados, agrup√°ndolos por ciudad.
\end{verbatim}

    \begin{itemize}
\tightlist
\item
  Conteo de registros en df\_weather, para cada ciudad
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{44}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k}{for} \PY{n}{city}\PY{p}{,} \PY{n}{group} \PY{o+ow}{in} \PY{n}{df\PYZus{}weather}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{city\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{:}
    \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Existen }\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{ registros en df\PYZus{}weather en referencia a la ciudad de: }\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{.}\PY{l+s+s1}{\PYZsq{}}
          \PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{n}{group}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{,} \PY{n}{city}\PY{p}{)}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
Existen 35475 registros en df\_weather en referencia a la ciudad de:  Barcelona.
Existen 35950 registros en df\_weather en referencia a la ciudad de: Bilbao.
Existen 36266 registros en df\_weather en referencia a la ciudad de: Madrid.
Existen 35556 registros en df\_weather en referencia a la ciudad de: Seville.
Existen 35144 registros en df\_weather en referencia a la ciudad de: Valencia.
    \end{Verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: left; background-color: #f5d769; padding: 5px; border-radius: 5px;">
    2. Se procede a emplear una eliminaci√≥n de duplicados, manteniendo el primer duplicado (por un lado) y manteniendo el √∫ltimo duplicado (por otro lado).
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #f5d769; padding: 5px; border-radius: 5px;">
    Explicaci√≥n del m√©todo para mantenimiento de duplicados:
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #f5d769; padding: 5px; border-radius: 5px;">
    Los dos bloques de c√≥digo realizar√°n una operaci√≥n de limpieza para los datos. Para el dataframe, se estar√≠an eliminando duplicados bas√°ndose en las columnas 'time' y 'city_name'.
    </p>
    La diferencia entre 'first' y 'last' en el par√°metro keep radica en qu√© duplicado se mantiene, y la elecci√≥n entre ambos m√©todos tiene una fuerte dependencia con la naturaleza de los datos y de qu√© duplicado se prefiera mantener.
\end{verbatim}

    \begin{itemize}
\tightlist
\item
  Creaci√≥n de un dataframe alternativo (df\_weather\_2) y eliminaci√≥n de
  los duplicados - manteniendo el √∫ltimo valor -

  \begin{itemize}
  \tightlist
  \item
    Si hubiese m√∫ltiples registros con los mismos valores de `time' y
    `city\_name', se conservar√≠a la √∫ltima entrada (la m√°s reciente en
    el conjunto de datos)
  \end{itemize}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{45}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}weather\PYZus{}2} \PY{o}{=} \PY{n}{df\PYZus{}weather}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{drop\PYZus{}duplicates}\PY{p}{(}\PY{n}{subset}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{time}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{city\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}
                                                        \PY{n}{keep}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{last}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{set\PYZus{}index}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{time}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{itemize}
\tightlist
\item
  Conteo de registros en df\_weather\_2, para cada ciudad
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{46}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k}{for} \PY{n}{city}\PY{p}{,} \PY{n}{group} \PY{o+ow}{in} \PY{n}{df\PYZus{}weather\PYZus{}2}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{city\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{:}
    \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Existen }\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{ registros en df\PYZus{}weather\PYZus{}2 en referencia a la ciudad de: }\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{.}\PY{l+s+s1}{\PYZsq{}}
          \PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{n}{group}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{,} \PY{n}{city}\PY{p}{)}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
Existen 35063 registros en df\_weather\_2 en referencia a la ciudad de:
Barcelona.
Existen 35063 registros en df\_weather\_2 en referencia a la ciudad de: Bilbao.
Existen 35063 registros en df\_weather\_2 en referencia a la ciudad de: Madrid.
Existen 35063 registros en df\_weather\_2 en referencia a la ciudad de: Seville.
Existen 35063 registros en df\_weather\_2 en referencia a la ciudad de: Valencia.
    \end{Verbatim}

    \begin{itemize}
\tightlist
\item
  Se hace lo an√°logo en eliminaci√≥n de duplicados, pero con el dataframe
  original (df\_weather) - manteniendo el primer valor -

  \begin{itemize}
  \tightlist
  \item
    Si hubiese m√∫ltiples registros con los mismos valores de `time' y
    `city\_name', se conservar√≠a la primera entrada (la m√°s antigua en
    el conjunto de datos)
  \end{itemize}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{47}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}weather} \PY{o}{=} \PY{n}{df\PYZus{}weather}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{drop\PYZus{}duplicates}\PY{p}{(}\PY{n}{subset}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{time}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{city\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}
                                                      \PY{n}{keep}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{first}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{set\PYZus{}index}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{time}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{itemize}
\tightlist
\item
  Conteo de registros en df\_weather, para cada ciudad
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{48}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k}{for} \PY{n}{city}\PY{p}{,} \PY{n}{group} \PY{o+ow}{in} \PY{n}{df\PYZus{}weather}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{city\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{:}
    \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Existen }\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{ registros en df\PYZus{}weather en referencia a la ciudad de: }\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{.}\PY{l+s+s1}{\PYZsq{}}
          \PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{n}{group}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{,} \PY{n}{city}\PY{p}{)}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
Existen 35063 registros en df\_weather en referencia a la ciudad de:  Barcelona.
Existen 35063 registros en df\_weather en referencia a la ciudad de: Bilbao.
Existen 35063 registros en df\_weather en referencia a la ciudad de: Madrid.
Existen 35063 registros en df\_weather en referencia a la ciudad de: Seville.
Existen 35063 registros en df\_weather en referencia a la ciudad de: Valencia.
    \end{Verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: left; background-color: #f5d769; padding: 5px; border-radius: 5px;">
    3. Por √∫ltimo, se aplica la t√©cnica de R cuadrado para evaluar y decidir sobre la eliminaci√≥n de las variables 'weather_main', 'weather_id', 'weather_description' y 'weather_icon' (columnas responsables de acarrear los valores duplicados).
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #f5d769; padding: 5px; border-radius: 5px;">
    Se invita a consultar el siguiente <a href=https://docs.google.com/document/d/170KNyWPwnbt01WbgS1F_DlyRyRpC9Jc8yjNgVvbDjd4/edit?usp=sharing target="_blank"> extracto</a> para seguir la t√©cnica y metodolog√≠a empleada para decidir la eliminaci√≥n de las columnas mencionadas.
    <h1 style="border: 2px solid #f8f8f8; font-size: 16px; font-family: 'Lexend', sans-serif; color: black; text-align: left; background-color: #f5d769; padding: 5px; border-radius: 5px;">
    I. Explicaci√≥n: El autor comienza describiendo las caracter√≠sticas cualitativas de las columnas 'weather_main', 'weather_id', y 'weather_description' en t√©rminos de la informaci√≥n que contienen. Observa que 'weather_main' parece tener la informaci√≥n menos detallada, mientras que 'weather_id' y 'weather_description' son m√°s detalladas y tienen aproximadamente el mismo n√∫mero de valores √∫nicos.
    </p>
    II. Chequeo de Consistencia: Se menciona la importancia de verificar la consistencia de la informaci√≥n en estas columnas. Dado que el conjunto de datos conten√≠a filas duplicadas y se utilizaron dos dataframes diferentes para limpiarlo ('df_weather' y 'df_weather_2'), se propone utilizar el coeficiente de determinaci√≥n (R-squared) para comparar estos dos conjuntos de datos despu√©s de la codificaci√≥n de 'weather_description' y 'weather_main' de cadenas a etiquetas num√©ricas.
    </p>
    III. C√≥digo para Calcular R-Squared Score: Se define una funci√≥n "encode_and_display_r2_score" que calcula y muestra el coeficiente R-squared para una columna espec√≠fica entre dos dataFrames. Se aplica esta funci√≥n para 'weather_description', 'weather_main' (ambos codificados) y 'weather_id' (no codificado) para los dataframes 'df_weather' y 'df_weather_2'.
    </p>
    IV. Resultados del Coeficiente R-Squared: Los resultados indican que 'weather_description' tiene un coeficiente R-squared de 0.973, 'weather_main' tiene 0.963 y 'weather_id' tiene 0.921 (valores cercanos a 1 indican alta similitud).
    </p>
    V. Conclusi√≥n y acciones tomadas: Se concluye que hay inconsistencias en el conjunto de datos, ya que las columnas contienen grandes cantidades de duplicados. Se decide eliminar las columnas 'weather_main', 'weather_id', 'weather_description', y 'weather_icon' del DataFrame 'df_weather' probablemente debido a la alta correlaci√≥n y redundancia de informaci√≥n.
\end{verbatim}

    \begin{itemize}
\tightlist
\item
  Eliminaci√≥n de las features que no aportan informaci√≥n relevante al
  an√°lisis
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{49}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}weather} \PY{o}{=} \PY{n}{df\PYZus{}weather}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{weather\PYZus{}main}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{weather\PYZus{}id}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                              \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{weather\PYZus{}description}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{weather\PYZus{}icon}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #f5d769; padding: 5px; border-radius: 5px;">
    Se opta por mantener los primeros duplicados ("keep='first'"), ya que las pruebas indican que no se hace una diferencia notoria con respecto a mantener los √∫ltimos duplicados ("keep='last'").
\end{verbatim}

    \begin{itemize}
\item
  Conteo de las filas duplicadas en df\_weather, una vez eliminadas las
  variables que alteran el an√°lisis
\item
  El argumento `subset={[}'time', 'city\_name'{]}' especifica que se
  deben considerar duplicados s√≥lo cuando las columnas ``time'' y
  ``city\_name'' tengan el mismo valor
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{50}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{temp\PYZus{}weather} \PY{o}{=} \PY{n}{df\PYZus{}weather}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{duplicated}\PY{p}{(}\PY{n}{subset}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{time}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{city\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}
                                                   \PY{n}{keep}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{first}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}
\PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Existen }\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{ valores/registros duplicados en df\PYZus{}weather }\PY{l+s+s1}{\PYZsq{}} \PYZbs{}
      \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{bas√°ndose en todas las columnas, a excepci√≥n de }\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{time}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{ y }\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{city\PYZus{}name}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{.}\PY{l+s+s1}{\PYZsq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{n}{temp\PYZus{}weather}\PY{p}{)}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
Existen 0 valores/registros duplicados en df\_weather bas√°ndose en todas las
columnas, a excepci√≥n de "time" y "city\_name".
    \end{Verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 30px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #f5d769; padding: 1px; border-radius: 5px;">
      Publicaci√≥n de los datos
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #f5d769; padding: 5px; border-radius: 5px;">
      "Una vez que los datos est√°n validados, se pueden compartir para su uso, realizar an√°lisis exploratorios, entrenar modelos y tomar decisiones. Se entiende como un producto final que se entrega para ser usado".
    </p>
    Se procede a realizar el trabajo de Data Storytelling, motivo por el cual √©sta notebook se ha hido desarrollando de principio a fin.
\end{verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 30px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #f5d769; padding: 1px; border-radius: 5px;">
      Validaci√≥n de los datos
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #f5d769; padding: 5px; border-radius: 5px;">
      "Es muy importante para los equipos de trabajo ligados al √°rea de Data Science, asegurarse que los datos son precisos  y que la informaci√≥n no se alter√≥ durante el proceso. Esto significa asegurar la fiabilidad, credibilidad y calidad de los datos limpios debido a que van a utilizarse para tomar decisiones.".
    </p>
    Se pueden consultar las referencias empleadas m√°s arriba y comprobar que los datos garantizan calidad, precisi√≥n y fiabilidad.
\end{verbatim}

    \begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{exploratory-data-analysis-eda}{%
\subsubsection{Exploratory Data Analysis
(EDA)}\label{exploratory-data-analysis-eda}}

\begin{verbatim}
<div style="background-color: #DEB887; padding: 20px; border-radius: 10px;">
  <h1 style="border: 2px solid #f8f8f8; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #f5d769; font-size: 50px; padding: 5px; border-radius: 10px;">
    üìä Exploratory Data Analysis (EDA)
  </h1>
</div>
\end{verbatim}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: left; background-color: #f5d769; padding: 1px; border-radius: 5px;">
      ‚ö° Interrogante 1. Evoluci√≥n de la demanda de energ√≠a en el pa√≠s. ¬øC√≥mo evoluciona la situaci√≥n de esta variable para los a√±os de estudio? ¬øQu√© comportamientos se muestran con respecto a su tendencia? ¬øQu√© se puede concluir respecto a un per√≠odo semanal de consumo?
\end{verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 1px solid #240b36; font-size: 16px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    Una caracter√≠stica que destaca a este tipo de variables (consumo/demanda) es su periodicidad diaria-semanal-mensual. A su vez, la variable deber√≠a presentar un comportamiento marcado, a escala diaria, que responda a las necesidades del sector consumidor seg√∫n el momento del d√≠a en particular.
\end{verbatim}

    \begin{itemize}
\tightlist
\item
  Empleo de los m√©todos ``.describe'' para realizar una breve
  estad√≠stica descriptiva de la feature, seg√∫n los a√±os de estudio
  (2015, 2016, 2017 y 2018)
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{51}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}demand\PYZus{}2015} \PY{o}{=} \PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{year} \PY{o}{==} \PY{l+m+mi}{2015}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{total load actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
\PY{n}{stats\PYZus{}2015} \PY{o}{=} \PY{n}{df\PYZus{}demand\PYZus{}2015}\PY{o}{.}\PY{n}{describe}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{load\PYZus{}table\PYZus{}2015} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{stats\PYZus{}2015}\PY{p}{)}

\PY{n}{load\PYZus{}table\PYZus{}2015}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{51}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
       total load actual
count             8760.0
mean             28362.4
std               4650.0
min              18041.0
25\%              24444.5
50\%              28617.0
75\%              31663.8
max              40324.0
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{52}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}demand\PYZus{}2016} \PY{o}{=} \PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{year} \PY{o}{==} \PY{l+m+mi}{2016}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{total load actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
\PY{n}{stats\PYZus{}2016} \PY{o}{=} \PY{n}{df\PYZus{}demand\PYZus{}2016}\PY{o}{.}\PY{n}{describe}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{load\PYZus{}table\PYZus{}2016} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{stats\PYZus{}2016}\PY{p}{)}

\PY{n}{load\PYZus{}table\PYZus{}2016}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{52}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
       total load actual
count             8784.0
mean             28507.8
std               4432.2
min              18054.0
25\%              24668.8
50\%              28796.0
75\%              32074.0
max              40144.0
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{53}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}demand\PYZus{}2017} \PY{o}{=} \PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{year} \PY{o}{==} \PY{l+m+mi}{2017}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{total load actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
\PY{n}{stats\PYZus{}2017} \PY{o}{=} \PY{n}{df\PYZus{}demand\PYZus{}2017}\PY{o}{.}\PY{n}{describe}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{load\PYZus{}table\PYZus{}2017} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{stats\PYZus{}2017}\PY{p}{)}

\PY{n}{load\PYZus{}table\PYZus{}2017}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{53}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
       total load actual
count             8760.0
mean             28858.4
std               4558.2
min              18758.0
25\%              24955.8
50\%              29071.0
75\%              32270.0
max              41015.0
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{54}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}demand\PYZus{}2018} \PY{o}{=} \PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{year} \PY{o}{==} \PY{l+m+mi}{2018}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{total load actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
\PY{n}{stats\PYZus{}2018} \PY{o}{=} \PY{n}{df\PYZus{}demand\PYZus{}2018}\PY{o}{.}\PY{n}{describe}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{load\PYZus{}table\PYZus{}2018} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{stats\PYZus{}2018}\PY{p}{)}

\PY{n}{load\PYZus{}table\PYZus{}2018}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{54}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
       total load actual
count             8759.0
mean             29065.4
std               4627.2
min              18179.0
25\%              25120.0
50\%              29172.0
75\%              32858.0
max              40693.0
\end{Verbatim}
\end{tcolorbox}
        
    \begin{itemize}
\tightlist
\item
  Gr√°fico din√°mico para tratamiento de outliers en la variable demanda
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{55}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{pio}\PY{o}{.}\PY{n}{templates}\PY{o}{.}\PY{n}{default} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ggplot2}\PY{l+s+s2}{\PYZdq{}}

\PY{n}{df\PYZus{}energy\PYZus{}2015} \PY{o}{=} \PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{year} \PY{o}{==} \PY{l+m+mi}{2015}\PY{p}{]}
\PY{n}{df\PYZus{}energy\PYZus{}2016} \PY{o}{=} \PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{year} \PY{o}{==} \PY{l+m+mi}{2016}\PY{p}{]}
\PY{n}{df\PYZus{}energy\PYZus{}2017} \PY{o}{=} \PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{year} \PY{o}{==} \PY{l+m+mi}{2017}\PY{p}{]}
\PY{n}{df\PYZus{}energy\PYZus{}2018} \PY{o}{=} \PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{year} \PY{o}{==} \PY{l+m+mi}{2018}\PY{p}{]}

\PY{n}{load\PYZus{}hist\PYZus{}uni} \PY{o}{=} \PY{n}{px}\PY{o}{.}\PY{n}{histogram}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{,} \PY{n}{x}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{total load actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{nbins}\PY{o}{=}\PY{l+m+mi}{30}\PY{p}{,}
              \PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Distribuci√≥n de Demanda Anual de Energ√≠a \PYZhy{} Espa√±a (2015\PYZhy{}2018)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
              \PY{n}{labels}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{total load actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Demanda de Energ√≠a [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{,}
              \PY{n}{color\PYZus{}discrete\PYZus{}sequence}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}C79FEF}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
\PY{n}{load\PYZus{}hist\PYZus{}uni}\PY{o}{.}\PY{n}{update\PYZus{}xaxes}\PY{p}{(}\PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{load\PYZus{}hist\PYZus{}uni}\PY{o}{.}\PY{n}{update\PYZus{}yaxes}\PY{p}{(}\PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{load\PYZus{}hist\PYZus{}uni}\PY{o}{.}\PY{n}{update\PYZus{}layout}\PY{p}{(}\PY{n}{legend\PYZus{}title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{A√±o}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}

\PY{n}{load\PYZus{}box\PYZus{}uni} \PY{o}{=} \PY{n}{px}\PY{o}{.}\PY{n}{box}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{total load actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
              \PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Boxplot de Demanda Anual de Energ√≠a \PYZhy{} Espa√±a (2015\PYZhy{}2018)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
              \PY{n}{labels}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{total load actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Demanda de Energ√≠a [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{,}
              \PY{n}{color\PYZus{}discrete\PYZus{}sequence}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}C79FEF}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
\PY{n}{load\PYZus{}box\PYZus{}uni}\PY{o}{.}\PY{n}{update\PYZus{}xaxes}\PY{p}{(}\PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{load\PYZus{}box\PYZus{}uni}\PY{o}{.}\PY{n}{update\PYZus{}yaxes}\PY{p}{(}\PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{load\PYZus{}box\PYZus{}uni}\PY{o}{.}\PY{n}{update\PYZus{}layout}\PY{p}{(}\PY{n}{legend\PYZus{}title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{A√±o}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}

\PY{n}{load\PYZus{}hist\PYZus{}uni}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\PY{n}{load\PYZus{}box\PYZus{}uni}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    
    
    
    
    \begin{itemize}
\tightlist
\item
  Verificaci√≥n de normalidad en la variable demanda

  \begin{itemize}
  \tightlist
  \item
    Se hace uso del test de Shapiro
  \item
    Esto imprimir√° finalmente un mensaje seg√∫n los datos sigan una
    distribuci√≥n normal, o no
  \end{itemize}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{56}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{p\PYZus{}value} \PY{o}{=} \PY{n}{stats}\PY{o}{.}\PY{n}{shapiro}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{total load actual}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{)}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}

\PY{n+nb}{print}\PY{p}{(}\PY{n}{p\PYZus{}value}\PY{p}{)}

\PY{k}{if} \PY{n}{p\PYZus{}value} \PY{o}{\PYZlt{}} \PY{l+m+mf}{0.05}\PY{p}{:}
    \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Los datos no siguen una distribuci√≥n normal}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{k}{else}\PY{p}{:}
    \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Los datos siguen una distribuci√≥n normal}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
0.0
Los datos no siguen una distribuci√≥n normal
    \end{Verbatim}

    \begin{itemize}
\tightlist
\item
  C√°lculo de par√°metros estad√≠sticos descriptivos de interes:

  \begin{itemize}
  \tightlist
  \item
    Media
  \item
    Media recortada (proporci√≥n del 5\% removida en cada cola)
  \item
    Mediana
  \item
    Moda
  \item
    Desv√≠o est√°ndar
  \item
    ``IQR'' (Rango intercuart√≠lico)
  \item
    Rango
  \item
    ``MAD'' (Media Absoluta de las Desviaciones)
  \item
    ``CV'' (Coeficiente de Variaci√≥n)
  \item
    Asimetr√≠a
  \item
    Curtosis
  \end{itemize}
\item
  Empleo de un dataframe para visualizar los par√°metros calculados
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{57}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} Media}
\PY{n}{load\PYZus{}mean} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{total load actual}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{)}
\PY{c+c1}{\PYZsh{} Media recortada}
\PY{n}{load\PYZus{}trim\PYZus{}mean} \PY{o}{=} \PY{n}{stats}\PY{o}{.}\PY{n}{trim\PYZus{}mean}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{total load actual}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{,} \PY{l+m+mf}{0.05}\PY{p}{)}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{)}
\PY{c+c1}{\PYZsh{} Mediana}
\PY{n}{load\PYZus{}median} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{median}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{total load actual}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{)}
\PY{c+c1}{\PYZsh{} Moda}
\PY{n}{load\PYZus{}mode} \PY{o}{=} \PY{n}{stats}\PY{o}{.}\PY{n}{mode}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{total load actual}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{)}

\PY{c+c1}{\PYZsh{} Cuartiles 1¬∞ y 3¬∞}
\PY{n}{load\PYZus{}q1} \PY{o}{=} \PY{n}{stats}\PY{o}{.}\PY{n}{percentileofscore}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{total load actual}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{,} \PY{l+m+mi}{25}\PY{p}{)}
\PY{n}{load\PYZus{}q3} \PY{o}{=} \PY{n}{stats}\PY{o}{.}\PY{n}{percentileofscore}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{total load actual}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{,} \PY{l+m+mi}{75}\PY{p}{)}
\PY{c+c1}{\PYZsh{} Desv√≠o est√°ndar}
\PY{n}{load\PYZus{}std} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{std}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{total load actual}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{)}
\PY{c+c1}{\PYZsh{} IQR}
\PY{n}{load\PYZus{}iqr} \PY{o}{=} \PY{n}{stats}\PY{o}{.}\PY{n}{iqr}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{total load actual}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{)}
\PY{c+c1}{\PYZsh{} Rango}
\PY{n}{load\PYZus{}range} \PY{o}{=} \PY{n+nb}{max}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{total load actual}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{)} \PY{o}{\PYZhy{}} \PY{n+nb}{min}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{total load actual}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{)}
\PY{c+c1}{\PYZsh{} MAD}
\PY{n}{mad} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{median}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{abs}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{total load actual}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]} \PY{o}{\PYZhy{}} \PY{n}{load\PYZus{}median}\PY{p}{)}\PY{p}{)}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{)}
\PY{c+c1}{\PYZsh{} CV}
\PY{n}{load\PYZus{}cv} \PY{o}{=} \PY{p}{(}\PY{n}{stats}\PY{o}{.}\PY{n}{variation}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{total load actual}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{)}\PY{o}{*}\PY{l+m+mi}{100}\PY{p}{)}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{)}

\PY{c+c1}{\PYZsh{} Asimetr√≠a}
\PY{n}{load\PYZus{}skew} \PY{o}{=} \PY{n}{stats}\PY{o}{.}\PY{n}{skew}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{total load actual}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{l+m+mi}{3}\PY{p}{)}

\PY{c+c1}{\PYZsh{} Curtosis}
\PY{n}{load\PYZus{}kurtosis} \PY{o}{=} \PY{n}{stats}\PY{o}{.}\PY{n}{kurtosis}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{total load actual}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{l+m+mi}{3}\PY{p}{)} \PY{c+c1}{\PYZsh{} CA\PYZus{}p}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{58}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}load\PYZus{}estad√≠stica\PYZus{}descriptiva} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{p}{\PYZob{}}
    \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Par√°metro estad√≠stico}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Media}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Media recortada}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Mediana}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Moda}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Desv√≠o est√°ndar}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Rango intercuart√≠lico }\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Rango}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{MAD (Media Absoluta de las Desviaciones)}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{CV (Coeficiente de Variaci√≥n)}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Asimetr√≠a}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Curtosis}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{,}
    \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Valor}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{p}{[}\PY{n}{load\PYZus{}mean}\PY{p}{,} \PY{n}{load\PYZus{}trim\PYZus{}mean}\PY{p}{,} \PY{n}{load\PYZus{}median}\PY{p}{,} \PY{n}{load\PYZus{}mode}\PY{p}{,} \PY{n}{load\PYZus{}std}\PY{p}{,} \PY{n}{load\PYZus{}iqr}\PY{p}{,} \PY{n}{load\PYZus{}range}\PY{p}{,} \PY{n}{mad}\PY{p}{,} \PY{n}{load\PYZus{}cv}\PY{p}{,} \PY{n}{load\PYZus{}skew}\PY{p}{,} \PY{n}{load\PYZus{}kurtosis}\PY{p}{]}
\PY{p}{\PYZcb{}}\PY{p}{)}

\PY{n}{df\PYZus{}load\PYZus{}estad√≠stica\PYZus{}descriptiva}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{58}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
                       Par√°metro estad√≠stico          Valor
0                                      Media        28698.0
1                            Media recortada        28664.0
2                                    Mediana        28902.0
3                                       Moda  (23665.0, 12)
4                            Desv√≠o est√°ndar         4576.0
5                     Rango intercuart√≠lico          7388.0
6                                      Rango        22974.0
7   MAD (Media Absoluta de las Desviaciones)         3722.0
8              CV (Coeficiente de Variaci√≥n)          15.94
9                                  Asimetr√≠a          0.062
10                                  Curtosis         -0.916
\end{Verbatim}
\end{tcolorbox}
        
    \begin{itemize}
\tightlist
\item
  Gr√°fico interactivo para visualizar la evoluci√≥n temporal, promedio
  m√≥vil y tendencia

  \begin{itemize}
  \tightlist
  \item
    El promedio m√≥vil se calculo con una ventana de 7 d√≠as
  \item
    Se debe resetear el index para que `time' sea una columna
  \end{itemize}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{59}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{pio}\PY{o}{.}\PY{n}{templates}\PY{o}{.}\PY{n}{default} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ggplot2}\PY{l+s+s2}{\PYZdq{}}

\PY{c+c1}{\PYZsh{} Promedio m√≥vil}
\PY{n}{load\PYZus{}promedio\PYZus{}movil} \PY{o}{=} \PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{total load actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{rolling}\PY{p}{(}\PY{n}{window}\PY{o}{=}\PY{l+m+mi}{7}\PY{p}{,} \PY{n}{min\PYZus{}periods}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}
\PY{c+c1}{\PYZsh{} Tendencia}
\PY{n}{tendencia\PYZus{}demanda} \PY{o}{=} \PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{total load actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{diff}\PY{p}{(}\PY{p}{)}

\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{time}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{to\PYZus{}datetime}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{time}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{set\PYZus{}index}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{time}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}

\PY{n}{fig} \PY{o}{=} \PY{n}{px}\PY{o}{.}\PY{n}{line}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{,} \PY{n}{x}\PY{o}{=}\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{index}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{total load actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
              \PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Demanda Anual de Energ√≠a en Espa√±a (2015\PYZhy{}2018)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
              \PY{n}{labels}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{total load actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Demanda de Energ√≠a [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{,}
              \PY{n}{color\PYZus{}discrete\PYZus{}sequence}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}C79FEF}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{add\PYZus{}scatter}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{index}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{n}{load\PYZus{}promedio\PYZus{}movil}\PY{p}{,}
                \PY{n}{mode}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{lines}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{name}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Promedio m√≥vil (7 d√≠as)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{line}\PY{o}{=}\PY{n+nb}{dict}\PY{p}{(}\PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{purple}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{add\PYZus{}scatter}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{index}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{n}{tendencia\PYZus{}demanda}\PY{p}{,}
                \PY{n}{mode}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{lines}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{name}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Tendencia de la Demanda}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{line}\PY{o}{=}\PY{n+nb}{dict}\PY{p}{(}\PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}xaxes}\PY{p}{(}
    \PY{n}{rangeslider\PYZus{}visible}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,}
    \PY{n}{rangeselector}\PY{o}{=}\PY{n+nb}{dict}\PY{p}{(}
        \PY{n}{buttons}\PY{o}{=}\PY{n+nb}{list}\PY{p}{(}\PY{p}{[}
            \PY{n+nb}{dict}\PY{p}{(}\PY{n}{count}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{1 mes}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{month}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{stepmode}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{backward}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}\PY{p}{,}
            \PY{n+nb}{dict}\PY{p}{(}\PY{n}{count}\PY{o}{=}\PY{l+m+mi}{6}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{6 meses}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{month}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{stepmode}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{backward}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}\PY{p}{,}
            \PY{n+nb}{dict}\PY{p}{(}\PY{n}{count}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{1 a√±o}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{year}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{stepmode}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{backward}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}\PY{p}{,}
            \PY{n+nb}{dict}\PY{p}{(}\PY{n}{label}\PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Todos los registros}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{all}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{p}{]}\PY{p}{)}
    \PY{p}{)}
\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}xaxes}\PY{p}{(}\PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Per√≠odo temporal}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}yaxes}\PY{p}{(}\PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Demanda de Energ√≠a [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}xaxes}\PY{p}{(}\PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}yaxes}\PY{p}{(}\PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}layout}\PY{p}{(}\PY{n}{showlegend}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    
    \begin{Verbatim}[commandchars=\\\{\}]
Output hidden; open in https://colab.research.google.com to view.
    \end{Verbatim}

    
    \begin{itemize}
\tightlist
\item
  Gr√°fico interactivo para visualizar la evoluci√≥n temporal por
  trimestres

  \begin{itemize}
  \tightlist
  \item
    Se agrupan los datos por trimestre y se calcula la suma
  \end{itemize}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{60}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{pio}\PY{o}{.}\PY{n}{templates}\PY{o}{.}\PY{n}{default} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ggplot2}\PY{l+s+s2}{\PYZdq{}}

\PY{n}{quarterly\PYZus{}demand} \PY{o}{=} \PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{resample}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Q}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}
\PY{n}{quarterly\PYZus{}demand\PYZus{}df} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{p}{\PYZob{}}
    \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Trimestre\PYZhy{}A√±o}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{quarterly\PYZus{}demand}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{strftime}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZpc{}}\PY{l+s+s1}{b }\PY{l+s+s1}{\PYZpc{}}\PY{l+s+s1}{Y}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,}
    \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Demanda energ√©tica [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{quarterly\PYZus{}demand}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{total load actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
\PY{p}{\PYZcb{}}\PY{p}{)}

\PY{n}{fig} \PY{o}{=} \PY{n}{px}\PY{o}{.}\PY{n}{bar}\PY{p}{(}\PY{n}{quarterly\PYZus{}demand\PYZus{}df}\PY{p}{,} \PY{n}{x}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Trimestre\PYZhy{}A√±o}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Demanda energ√©tica [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
             \PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Evoluci√≥n Trimestral de la Demanda de Energ√≠a en Espa√±a (2015\PYZhy{}2018)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
             \PY{n}{color\PYZus{}discrete\PYZus{}sequence}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}C79FEF}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}xaxes}\PY{p}{(}\PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Trimestre\PYZhy{}A√±o}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{tickangle}\PY{o}{=}\PY{l+m+mi}{45}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}yaxes}\PY{p}{(}\PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Demanda energ√©tica [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}xaxes}\PY{p}{(}\PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}yaxes}\PY{p}{(}\PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    
    
    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 1px solid #240b36; font-size: 18px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    üí°- El an√°lisis univariado arroja que la variable demanda sigue una distribuci√≥n no normal de los datos. Tambi√©n, su distribuci√≥n presenta cierto grado de simetr√≠a y es platic√∫rtica -curtosis negativa-. Por √∫ltimo, el CV (de aproximadamente 16%) indica que la media es representativa del conjunto de datos -conjunto de datos homog√©neo-.
    </p>
    üí°- La evoluci√≥n de la demanda para los 4 a√±os es de un comportamiento muy fluctuante, por lo que no es del todo seguro afirmar de forma directa que se cuenta con una tendencia creciente o decreciente.
    </p>
    üí°- La tendencia revela que para los meses de verano e invierno se supera el piso de los 30.000 MW demandados, lo cual es un valor elevado de consumo.
    </p>
    üí°- La demanda acumulada por trimestre indica que se comienza con un valor elevado de consumo al iniciarse el a√±o (periodo invernal). De igual forma, al final del a√±o, la demanda acumulada mensual se "dispara" a valores elevados.
    </p>
    üí°- La demanda acumulada mensual durante los meses de verano tambi√©n alcanza valores elevados -meses como enero y marzo (tambi√©n julio) son los responsables de que se alcancen picos muy elevados para esta variable.
    </p>
    üí°- El consumo se mantiene elevado en el per√≠odo de d√≠as laborales (lun-vie) y luego decae en el per√≠odo de los d√≠as de fin de semana, en un intervalo de 5-2. Tambi√©n, presenta dos picos en las horas del mediod√≠a y de las 20 hs de la noche, raz√≥n que es explicada por la mayor actividad y permanencia de la poblaci√≥n en sus hogares.
\end{verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: left; background-color: #f5d769; padding: 1px; border-radius: 5px;">
      ‚ö° Interrogante 2. Variable precio. ¬øQu√© resultados se observan, haciendo un an√°lisis estad√≠stico descriptivo e inferencial, sobre la variable target?
\end{verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 1px solid #240b36; font-size: 16px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    Es acertado, para efectuar un an√°lisis b√°sico, realizar un histograma para visualizar los valores que adoptan las diferentes distribuciones, seg√∫n todo el per√≠odo evaluado, y seg√∫n para cada a√±o en particular.
\end{verbatim}

    \begin{itemize}
\tightlist
\item
  Gr√°fico interactivo para analizar la distribuci√≥n de los valores del
  precio
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{61}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{pio}\PY{o}{.}\PY{n}{templates}\PY{o}{.}\PY{n}{default} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ggplot2}\PY{l+s+s2}{\PYZdq{}}

\PY{n}{fig} \PY{o}{=} \PY{n}{px}\PY{o}{.}\PY{n}{histogram}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{,} \PY{n}{x}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{year}\PY{p}{,} \PY{n}{nbins}\PY{o}{=}\PY{l+m+mi}{30}\PY{p}{,}
                   \PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Distribuci√≥n de valores para el precio de energ√≠a el√©ctrica \PYZhy{} Espa√±a (2015\PYZhy{}2018)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                   \PY{n}{labels}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Precio de energ√≠a el√©ctrica [‚Ç¨/MWh]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{,}
                   \PY{c+c1}{\PYZsh{} facet\PYZus{}col=df\PYZus{}energy.index.year.astype(str),}
                   \PY{n}{marginal}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rug}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}xaxes}\PY{p}{(}\PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}yaxes}\PY{p}{(}\PY{n}{title}\PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Conteo}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}layout}\PY{p}{(}\PY{n}{legend\PYZus{}title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{A√±o}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}

\PY{n}{fig}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    
    
    \begin{itemize}
\tightlist
\item
  Verificaci√≥n de normalidad en la variable precio

  \begin{itemize}
  \tightlist
  \item
    Se hace uso del test de Shapiro
  \item
    Esto imprimir√° finalmente un mensaje seg√∫n los datos sigan una
    distribuci√≥n normal, o no
  \end{itemize}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{62}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{p\PYZus{}value} \PY{o}{=} \PY{n}{stats}\PY{o}{.}\PY{n}{shapiro}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{price actual}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{)}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}

\PY{n+nb}{print}\PY{p}{(}\PY{n}{p\PYZus{}value}\PY{p}{)}

\PY{k}{if} \PY{n}{p\PYZus{}value} \PY{o}{\PYZlt{}} \PY{l+m+mf}{0.05}\PY{p}{:}
    \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Los datos no siguen una distribuci√≥n normal}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{k}{else}\PY{p}{:}
    \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Los datos siguen una distribuci√≥n normal}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
6.50763006832445e-42
Los datos no siguen una distribuci√≥n normal
    \end{Verbatim}

    \begin{itemize}
\tightlist
\item
  C√°lculo de par√°metros estad√≠sticos descriptivos de interes:

  \begin{itemize}
  \tightlist
  \item
    Media
  \item
    Media recortada (proporci√≥n del 5\% removida en cada cola)
  \item
    Mediana
  \item
    Moda
  \item
    Desv√≠o est√°ndar
  \item
    ``IQR'' (Rango intercuart√≠lico)
  \item
    Rango
  \item
    ``MAD'' (Media Absoluta de las Desviaciones)
  \item
    ``CV'' (Coeficiente de Variaci√≥n)
  \item
    Asimetr√≠a
  \item
    Curtosis
  \end{itemize}
\item
  Empleo de un dataframe para visualizar los par√°metros calculados
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{63}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} Media}
\PY{n}{load\PYZus{}mean} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{price actual}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{)}
\PY{c+c1}{\PYZsh{} Media recortada}
\PY{n}{load\PYZus{}trim\PYZus{}mean} \PY{o}{=} \PY{n}{stats}\PY{o}{.}\PY{n}{trim\PYZus{}mean}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{price actual}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{,} \PY{l+m+mf}{0.05}\PY{p}{)}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{)}
\PY{c+c1}{\PYZsh{} Mediana}
\PY{n}{load\PYZus{}median} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{median}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{price actual}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{)}
\PY{c+c1}{\PYZsh{} Moda}
\PY{n}{load\PYZus{}mode} \PY{o}{=} \PY{n}{stats}\PY{o}{.}\PY{n}{mode}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{price actual}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{)}

\PY{c+c1}{\PYZsh{} Cuartiles 1¬∞ y 3¬∞}
\PY{n}{load\PYZus{}q1} \PY{o}{=} \PY{n}{stats}\PY{o}{.}\PY{n}{percentileofscore}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{price actual}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{,} \PY{l+m+mi}{25}\PY{p}{)}
\PY{n}{load\PYZus{}q3} \PY{o}{=} \PY{n}{stats}\PY{o}{.}\PY{n}{percentileofscore}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{price actual}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{,} \PY{l+m+mi}{75}\PY{p}{)}
\PY{c+c1}{\PYZsh{} Desv√≠o est√°ndar}
\PY{n}{load\PYZus{}std} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{std}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{price actual}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{)}
\PY{c+c1}{\PYZsh{} IQR}
\PY{n}{load\PYZus{}iqr} \PY{o}{=} \PY{n}{stats}\PY{o}{.}\PY{n}{iqr}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{price actual}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{)}
\PY{c+c1}{\PYZsh{} Rango}
\PY{n}{load\PYZus{}range} \PY{o}{=} \PY{n+nb}{max}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{price actual}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{)} \PY{o}{\PYZhy{}} \PY{n+nb}{min}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{price actual}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{)}
\PY{c+c1}{\PYZsh{} MAD}
\PY{n}{mad} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{median}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{abs}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{price actual}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]} \PY{o}{\PYZhy{}} \PY{n}{load\PYZus{}median}\PY{p}{)}\PY{p}{)}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{)}
\PY{c+c1}{\PYZsh{} CV}
\PY{n}{load\PYZus{}cv} \PY{o}{=} \PY{p}{(}\PY{n}{stats}\PY{o}{.}\PY{n}{variation}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{price actual}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{)}\PY{o}{*}\PY{l+m+mi}{100}\PY{p}{)}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{)}

\PY{c+c1}{\PYZsh{} Asimetr√≠a}
\PY{n}{load\PYZus{}skew} \PY{o}{=} \PY{n}{stats}\PY{o}{.}\PY{n}{skew}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{price actual}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{l+m+mi}{3}\PY{p}{)} \PY{c+c1}{\PYZsh{} CA}

\PY{c+c1}{\PYZsh{} Curtosis}
\PY{n}{load\PYZus{}kurtosis} \PY{o}{=} \PY{n}{stats}\PY{o}{.}\PY{n}{kurtosis}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{price actual}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{l+m+mi}{3}\PY{p}{)} \PY{c+c1}{\PYZsh{} CA\PYZus{}p}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{64}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}load\PYZus{}estad√≠stica\PYZus{}descriptiva} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{p}{\PYZob{}}
    \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Par√°metro estad√≠stico}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Media}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Media recortada}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Mediana}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Moda}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Desv√≠o est√°ndar}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Rango intercuart√≠lico }\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Rango}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{MAD (Media Absoluta de las Desviaciones)}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{CV (Coeficiente de Variaci√≥n)}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Asimetr√≠a}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Curtosis}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}\PY{p}{,}
    \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Valor}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{p}{[}\PY{n}{load\PYZus{}mean}\PY{p}{,} \PY{n}{load\PYZus{}trim\PYZus{}mean}\PY{p}{,} \PY{n}{load\PYZus{}median}\PY{p}{,} \PY{n}{load\PYZus{}mode}\PY{p}{,} \PY{n}{load\PYZus{}std}\PY{p}{,} \PY{n}{load\PYZus{}iqr}\PY{p}{,} \PY{n}{load\PYZus{}range}\PY{p}{,} \PY{n}{mad}\PY{p}{,} \PY{n}{load\PYZus{}cv}\PY{p}{,} \PY{n}{load\PYZus{}skew}\PY{p}{,} \PY{n}{load\PYZus{}kurtosis}\PY{p}{]}
\PY{p}{\PYZcb{}}\PY{p}{)}

\PY{n}{df\PYZus{}load\PYZus{}estad√≠stica\PYZus{}descriptiva}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{64}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
                       Par√°metro estad√≠stico        Valor
0                                      Media         58.0
1                            Media recortada         58.0
2                                    Mediana         58.0
3                                       Moda  (56.85, 24)
4                            Desv√≠o est√°ndar         14.0
5                     Rango intercuart√≠lico          19.0
6                                      Rango       107.47
7   MAD (Media Absoluta de las Desviaciones)          9.0
8              CV (Coeficiente de Variaci√≥n)        24.54
9                                  Asimetr√≠a       -0.324
10                                  Curtosis        0.469
\end{Verbatim}
\end{tcolorbox}
        
    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 1px solid #240b36; font-size: 18px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    üí°- El an√°lisis univariado arroja que la variable target sigue una distribuci√≥n no normal de los datos. Tambi√©n, su distribuci√≥n es sim√©trica y es platic√∫rtica -curtosis negativa-. Por √∫ltimo, el CV (de aproximadamente 25%) indica que la media es representativa del conjunto de datos -conjunto de datos homog√©neo-.
    </p>
    üí°- La distribuci√≥n del precio para el a√±o 2017 es la que mas centrada se encuentra con respecto a un precio cercano a 60 ‚Ç¨/MWh, ya que no presenta un corrimiento de la media hacia valores m√°s peque√±os o m√°s grandes, y adem√°s es una distribuci√≥n unimodal.
    </p>
    üí°- Caso contrario, es el de la variable para el a√±o 2016, la cual se corre hacia la izquierda, para el 2018 en la cual sucede lo mismo pero para la derecha.
    </p>
    üí°- La distribuci√≥n para el a√±o 2015 presenta una distribuci√≥n bimodal, y tiene mucha presencia hacia la derecha del valor que se toma como referencia (60 ‚Ç¨/MWh).
\end{verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: left; background-color: #f5d769; padding: 1px; border-radius: 5px;">
      ‚ö° Interrogante 3. Evoluci√≥n temporal para el precio. ¬øC√≥mo se comporta el precio de la energ√≠a el√©ctrica a lo largo del per√≠odo considerado? ¬øC√≥mo se lleva a cabo la descomposici√≥n de la serie temporal, y qu√© se puede determinar realizando √©sto? ¬øQu√© sucede con la estacionalidad de la serie temporal?        
\end{verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 1px solid #240b36; font-size: 16px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    Se hace una una descomposici√≥n de la serie temporal (de forma aditiva y multiplicativa) -obteniendo la tendencia, estacionalidad y valores residuales-.
    </p>
    Para valerse de predicciones acertadas y eficientes, se debe comprobar que la serie temporal sea estacionaria, esto se llevar√° a cabo con una prueba espec√≠fica (a detallar m√°s adelante). Una serie temporal estacionaria deber√≠a presentar una media y varianza constantes en el tiempo analizado, de no presentarse esta condici√≥n en la serie, se har√° uso de algunos m√©todos para modificar la serie de tiempo, y volverla estacionaria (diferenciaci√≥n, logaritmos, etc.).
\end{verbatim}

    \begin{itemize}
\tightlist
\item
  Gr√°fico interactivo de descomposici√≥n aditiva para el precio
\item
  Componentes de la descomposici√≥n:

  \begin{itemize}
  \tightlist
  \item
    Tendencia
  \item
    Estacionalidad
  \item
    Residuos
  \end{itemize}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{65}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{pio}\PY{o}{.}\PY{n}{templates}\PY{o}{.}\PY{n}{default} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ggplot2}\PY{l+s+s2}{\PYZdq{}}

\PY{n}{result} \PY{o}{=} \PY{n}{sm}\PY{o}{.}\PY{n}{tsa}\PY{o}{.}\PY{n}{seasonal\PYZus{}decompose}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{model}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{aditive}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}

\PY{n}{tendencia} \PY{o}{=} \PY{n}{result}\PY{o}{.}\PY{n}{trend}
\PY{n}{estacionalidad} \PY{o}{=} \PY{n}{result}\PY{o}{.}\PY{n}{seasonal}
\PY{n}{residuos} \PY{o}{=} \PY{n}{result}\PY{o}{.}\PY{n}{resid}

\PY{n}{colors} \PY{o}{=} \PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Tendencia}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Estacionalidad}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}316395}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Residuos}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}FF9900}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}

\PY{n}{df\PYZus{}decomposition} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{concat}\PY{p}{(}\PY{p}{[}\PY{n}{tendencia}\PY{p}{,} \PY{n}{estacionalidad}\PY{p}{,} \PY{n}{residuos}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{df\PYZus{}decomposition}\PY{o}{.}\PY{n}{columns} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Tendencia}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Estacionalidad}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Residuos}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}

\PY{n}{fig} \PY{o}{=} \PY{n}{px}\PY{o}{.}\PY{n}{line}\PY{p}{(}\PY{n}{df\PYZus{}decomposition}\PY{p}{,} \PY{n}{x}\PY{o}{=}\PY{n}{df\PYZus{}decomposition}\PY{o}{.}\PY{n}{index}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{n}{df\PYZus{}decomposition}\PY{o}{.}\PY{n}{columns}\PY{p}{,}
              \PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Descomposici√≥n Aditiva de la variable Precio de la energ√≠a el√©ctrica \PYZhy{} Espa√±a (2015\PYZhy{}2018)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
              \PY{n}{labels}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{value}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Valor}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{variable}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Componente}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{,}
              \PY{n}{facet\PYZus{}col}\PY{o}{=}\PY{n}{df\PYZus{}decomposition}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{year}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{n+nb}{str}\PY{p}{)}\PY{p}{,}
              \PY{n}{facet\PYZus{}col\PYZus{}spacing}\PY{o}{=}\PY{l+m+mf}{0.05}\PY{p}{,}
              \PY{n}{color\PYZus{}discrete\PYZus{}map}\PY{o}{=}\PY{n}{colors}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}xaxes}\PY{p}{(}\PY{n}{title}\PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Per√≠odo temporal}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mf}{1.5}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}yaxes}\PY{p}{(}\PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mf}{1.5}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}layout}\PY{p}{(}\PY{n}{legend\PYZus{}title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Componente}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}

\PY{n}{fig}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    
    \begin{Verbatim}[commandchars=\\\{\}]
Output hidden; open in https://colab.research.google.com to view.
    \end{Verbatim}

    
    \begin{itemize}
\tightlist
\item
  Gr√°fico interactivo de descomposici√≥n multiplicativa para el precio
\item
  Componentes de la descomposici√≥n:

  \begin{itemize}
  \tightlist
  \item
    Tendencia
  \item
    Estacionalidad
  \item
    Residuos
  \end{itemize}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{66}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{pio}\PY{o}{.}\PY{n}{templates}\PY{o}{.}\PY{n}{default} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ggplot2}\PY{l+s+s2}{\PYZdq{}}


\PY{n}{result} \PY{o}{=} \PY{n}{sm}\PY{o}{.}\PY{n}{tsa}\PY{o}{.}\PY{n}{seasonal\PYZus{}decompose}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{model}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{multiplicative}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}

\PY{n}{tendencia} \PY{o}{=} \PY{n}{result}\PY{o}{.}\PY{n}{trend}
\PY{n}{estacionalidad} \PY{o}{=} \PY{n}{result}\PY{o}{.}\PY{n}{seasonal}
\PY{n}{residuos} \PY{o}{=} \PY{n}{result}\PY{o}{.}\PY{n}{resid}

\PY{n}{colors} \PY{o}{=} \PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Tendencia}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Estacionalidad}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}316395}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Residuos}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}FF9900}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}

\PY{n}{df\PYZus{}decomposition} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{concat}\PY{p}{(}\PY{p}{[}\PY{n}{tendencia}\PY{p}{,} \PY{n}{estacionalidad}\PY{p}{,} \PY{n}{residuos}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{df\PYZus{}decomposition}\PY{o}{.}\PY{n}{columns} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Tendencia}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Estacionalidad}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Residuos}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}

\PY{n}{fig} \PY{o}{=} \PY{n}{px}\PY{o}{.}\PY{n}{line}\PY{p}{(}\PY{n}{df\PYZus{}decomposition}\PY{p}{,} \PY{n}{x}\PY{o}{=}\PY{n}{df\PYZus{}decomposition}\PY{o}{.}\PY{n}{index}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{n}{df\PYZus{}decomposition}\PY{o}{.}\PY{n}{columns}\PY{p}{,}
              \PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Descomposici√≥n Multiplicativa de la variable Precio de la energ√≠a el√©ctrica \PYZhy{} Espa√±a (2015\PYZhy{}2018)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
              \PY{n}{labels}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{value}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Valor}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{variable}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Componente}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{,}
              \PY{n}{facet\PYZus{}col}\PY{o}{=}\PY{n}{df\PYZus{}decomposition}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{year}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{n+nb}{str}\PY{p}{)}\PY{p}{,}
              \PY{n}{facet\PYZus{}col\PYZus{}spacing}\PY{o}{=}\PY{l+m+mf}{0.05}\PY{p}{,}
              \PY{n}{color\PYZus{}discrete\PYZus{}map}\PY{o}{=}\PY{n}{colors}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}xaxes}\PY{p}{(}\PY{n}{title}\PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Per√≠odo temporal}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mf}{1.5}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}yaxes}\PY{p}{(}\PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mf}{1.5}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}layout}\PY{p}{(}\PY{n}{legend\PYZus{}title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Componente}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}

\PY{n}{fig}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    
    \begin{Verbatim}[commandchars=\\\{\}]
Output hidden; open in https://colab.research.google.com to view.
    \end{Verbatim}

    
    \begin{itemize}
\item
  Para acompa√±ar las visualizaciones generadas en los interrogantes 3 y
  4, se realiza la prueba de ADF para la variable precio.
\item
  Para m√°s informaci√≥n, es de mucha utilidad consultar el siguiente
  documento, con recopilaci√≥n bibliogr√°fica para √©ste tema.
\item
  Las hip√≥tesis empleadas son las siguientes:

  \begin{itemize}
  \tightlist
  \item
    Hip√≥tesis nula (H0):

    \begin{itemize}
    \tightlist
    \item
      Existe una ra√≠z unitaria en la ST -con estructura dependiente del
      tiempo- (por ejemplo, la serie est√° autocorrelacionada con un
      r=1), ergo, no es estacionaria.
    \end{itemize}
  \item
    Hip√≥tesis alternativa (HA):

    \begin{itemize}
    \tightlist
    \item
      La ST no contiene una ra√≠z unitaria, y es estacionaria o puede
      serlo a partir de una diferenciaci√≥n.
    \end{itemize}
  \end{itemize}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{67}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{y} \PY{o}{=} \PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
\PY{n}{adf\PYZus{}test} \PY{o}{=} \PY{n}{adfuller}\PY{p}{(}\PY{n}{y}\PY{p}{,} \PY{n}{regression}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{c}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}

\PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Estad√≠stico ADF: }\PY{l+s+si}{\PYZob{}:.6f\PYZcb{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s1}{p\PYZhy{}value: }\PY{l+s+si}{\PYZob{}:.6f\PYZcb{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s1}{\PYZsh{}Lags usados: }\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZsq{}}
      \PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{n}{adf\PYZus{}test}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{,} \PY{n}{adf\PYZus{}test}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{,} \PY{n}{adf\PYZus{}test}\PY{p}{[}\PY{l+m+mi}{2}\PY{p}{]}\PY{p}{)}\PY{p}{)}
\PY{k}{for} \PY{n}{key}\PY{p}{,} \PY{n}{value} \PY{o+ow}{in} \PY{n}{adf\PYZus{}test}\PY{p}{[}\PY{l+m+mi}{4}\PY{p}{]}\PY{o}{.}\PY{n}{items}\PY{p}{(}\PY{p}{)}\PY{p}{:}
    \PY{n+nb}{print}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Valor cr√≠tico (}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{): }\PY{l+s+si}{\PYZob{}:.6f\PYZcb{}}\PY{l+s+s1}{\PYZsq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{n}{key}\PY{p}{,} \PY{n}{value}\PY{p}{)}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
Estad√≠stico ADF: -9.148003
p-value: 0.000000
\#Lags usados: 50
Valor cr√≠tico (1\%): -3.430537
Valor cr√≠tico (5\%): -2.861623
Valor cr√≠tico (10\%): -2.566814
    \end{Verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 1px solid #240b36; font-size: 18px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    üí°- El p-value para la ADF es mucho m√°s peque√±o que 0.05, por ende, la ST se define como estacionaria con un 5% de significancia. Adem√°s, el estad√≠stico de prueba ADF (-9.148003) es menor que el valor cr√≠tico para un 1% de significancia (-3.430537), por lo tanto se rechaza la hip√≥tesis nula, abrazando la alternativa, ahora con 1% de significancia.
    </p>
    üí°- La tendencia de la variable precio modifica su comportamiento seg√∫n las estaciones en las que se encuentre analizada √©sta: no es posible determinar un comportamiento regular en el tiempo. Sin embargo, existe una marcada subida del precio en el inicio del a√±o 2017.
    </p>
    üí°- Como primera observaci√≥n, el componente residual parece presentar un comportamiento caracter√≠stico de una variable que tiene anomal√≠as en los primeros meses de cada a√±o.
    </p>
\end{verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: left; background-color: #f5d769; padding: 1px; border-radius: 5px;">
      ‚ö° Interrogante 4. Evoluci√≥n temporal para el precio. ¬øC√≥mo se comporta el precio de la energ√≠a el√©ctrica analizando cada a√±o en particular?          
\end{verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 1px solid #240b36; font-size: 16px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    Se analizar√°n ciertos comportamientos empleando elementos tales como: tendencia y promedio m√≥vil simple para cada a√±o en particular.
    </p>
    Un buen aporte al an√°lisis es el de revelar qu√© sucede con la variable precio en per√≠odos m√°s acortados, por ejemplo: a escalas mensuales (√≠dem para lo realizado con la variable demanda).
\end{verbatim}

    \begin{itemize}
\tightlist
\item
  Gr√°fico interactivo para visualizar el precio, teniendo en cuenta:

  \begin{itemize}
  \tightlist
  \item
    Evoluci√≥n temporal
  \item
    Promedio m√≥vil
  \item
    Tendencia
  \end{itemize}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{68}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{pio}\PY{o}{.}\PY{n}{templates}\PY{o}{.}\PY{n}{default} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ggplot2}\PY{l+s+s2}{\PYZdq{}}

\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{time}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{to\PYZus{}datetime}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{time}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{set\PYZus{}index}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{time}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}

\PY{n}{tendencia\PYZus{}precio} \PY{o}{=} \PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{diff}\PY{p}{(}\PY{p}{)}

\PY{n}{load\PYZus{}promedio\PYZus{}movil\PYZus{}2} \PY{o}{=} \PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{rolling}\PY{p}{(}\PY{n}{window}\PY{o}{=}\PY{l+m+mi}{7}\PY{p}{,} \PY{n}{min\PYZus{}periods}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}

\PY{n}{fig\PYZus{}precio} \PY{o}{=} \PY{n}{px}\PY{o}{.}\PY{n}{line}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{,} \PY{n}{x}\PY{o}{=}\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{index}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
              \PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Evoluci√≥n del precio de energ√≠a el√©ctrica \PYZhy{} Espa√±a (2015\PYZhy{}2018)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
              \PY{n}{labels}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Precio energ√©tico [‚Ç¨/MWh]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{,}
              \PY{n}{color\PYZus{}discrete\PYZus{}sequence}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{teal}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
\PY{n}{fig\PYZus{}precio}\PY{o}{.}\PY{n}{add\PYZus{}scatter}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{index}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{n}{load\PYZus{}promedio\PYZus{}movil\PYZus{}2}\PY{p}{,}
                \PY{n}{mode}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{lines}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{name}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Promedio m√≥vil (7 d√≠as)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{fig\PYZus{}precio}\PY{o}{.}\PY{n}{update\PYZus{}xaxes}\PY{p}{(}
    \PY{n}{rangeslider\PYZus{}visible}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,}
    \PY{n}{rangeselector}\PY{o}{=}\PY{n+nb}{dict}\PY{p}{(}
        \PY{n}{buttons}\PY{o}{=}\PY{n+nb}{list}\PY{p}{(}\PY{p}{[}
            \PY{n+nb}{dict}\PY{p}{(}\PY{n}{count}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{1 mes}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{month}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{stepmode}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{backward}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}\PY{p}{,}
            \PY{n+nb}{dict}\PY{p}{(}\PY{n}{count}\PY{o}{=}\PY{l+m+mi}{6}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{6 meses}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{month}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{stepmode}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{backward}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}\PY{p}{,}
            \PY{n+nb}{dict}\PY{p}{(}\PY{n}{count}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{1 a√±o}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{year}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{stepmode}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{backward}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}\PY{p}{,}
            \PY{n+nb}{dict}\PY{p}{(}\PY{n}{label}\PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Todos los registros}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{all}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{p}{]}\PY{p}{)}
    \PY{p}{)}\PY{p}{,}
    \PY{n}{title\PYZus{}text}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Per√≠odo temporal}\PY{l+s+s2}{\PYZdq{}}
\PY{p}{)}
\PY{n}{fig\PYZus{}precio}\PY{o}{.}\PY{n}{update\PYZus{}yaxes}\PY{p}{(}\PY{n}{title\PYZus{}text}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Precio de Energ√≠a [‚Ç¨/MWh]}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}

\PY{n}{fig\PYZus{}tendencia\PYZus{}precio} \PY{o}{=} \PY{n}{px}\PY{o}{.}\PY{n}{line}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{,} \PY{n}{x}\PY{o}{=}\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{index}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{n}{tendencia\PYZus{}precio}\PY{p}{,}
                \PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Tendencia del Precio de Energ√≠a El√©ctrica \PYZhy{} Espa√±a (2015\PYZhy{}2018)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                \PY{n}{labels}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{y}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Tendencia del Precio [‚Ç¨/MWh]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{,}
                \PY{n}{color\PYZus{}discrete\PYZus{}sequence}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
\PY{n}{fig\PYZus{}tendencia\PYZus{}precio}\PY{o}{.}\PY{n}{update\PYZus{}xaxes}\PY{p}{(}
    \PY{n}{rangeslider\PYZus{}visible}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,}
    \PY{n}{rangeselector}\PY{o}{=}\PY{n+nb}{dict}\PY{p}{(}
        \PY{n}{buttons}\PY{o}{=}\PY{n+nb}{list}\PY{p}{(}\PY{p}{[}
            \PY{n+nb}{dict}\PY{p}{(}\PY{n}{count}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{1 mes}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{month}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{stepmode}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{backward}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}\PY{p}{,}
            \PY{n+nb}{dict}\PY{p}{(}\PY{n}{count}\PY{o}{=}\PY{l+m+mi}{6}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{6 meses}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{month}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{stepmode}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{backward}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}\PY{p}{,}
            \PY{n+nb}{dict}\PY{p}{(}\PY{n}{count}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{1 a√±o}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{year}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{stepmode}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{backward}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}\PY{p}{,}
            \PY{n+nb}{dict}\PY{p}{(}\PY{n}{label}\PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Todos los registros}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{all}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{p}{]}\PY{p}{)}
    \PY{p}{)}\PY{p}{,}
    \PY{n}{title\PYZus{}text}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Per√≠odo temporal}\PY{l+s+s2}{\PYZdq{}}
\PY{p}{)}
\PY{n}{fig\PYZus{}tendencia\PYZus{}precio}\PY{o}{.}\PY{n}{update\PYZus{}yaxes}\PY{p}{(}\PY{n}{title\PYZus{}text}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Tendencia del Precio [‚Ç¨/MWh]}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}

\PY{n}{fig\PYZus{}precio}\PY{o}{.}\PY{n}{update\PYZus{}xaxes}\PY{p}{(}\PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig\PYZus{}precio}\PY{o}{.}\PY{n}{update\PYZus{}yaxes}\PY{p}{(}\PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig\PYZus{}tendencia\PYZus{}precio}\PY{o}{.}\PY{n}{update\PYZus{}xaxes}\PY{p}{(}\PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig\PYZus{}tendencia\PYZus{}precio}\PY{o}{.}\PY{n}{update\PYZus{}yaxes}\PY{p}{(}\PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig\PYZus{}precio}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\PY{n}{fig\PYZus{}tendencia\PYZus{}precio}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    
    \begin{Verbatim}[commandchars=\\\{\}]
Output hidden; open in https://colab.research.google.com to view.
    \end{Verbatim}

    
    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 1px solid #240b36; font-size: 18px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    üí°- El precio se mantiene en valores altos durante los meses de invierno.
    </p>
    üí°- Se destaca la gran subida que se observa en todos los a√±os para el mes de enero. Sin embargo, pasado este mes, comienza a decaer el valor. Durante los meses de verano para los a√±os estudiados (salvo para el a√±o 2017), se observa una lenta, pero visible tendencia positiva del precio de la energ√≠a.
    </p>
    üí°- Entre el cierre del a√±o 2016 e inicio del 2017, se observ√≥ el pico m√°s alto en lo que respecta al valor del precio.
    </p>
    üí°- Durante los meses de marzo-abril-mayo, el precio alcanza valores muy bajos, para todos los a√±os estudiados.
    </p>
    üí°- El precio tiene un componente estacional muy presente, debido a los distintos comportamientos que presenta el sector consumidor acorde a las estaciones.
    </p>
    üí°- El precio, an√°logo a la demanda, presenta un comportamiento peculiar durante los d√≠as de una semana est√°ndar: siendo alto durante los d√≠as laborales (lun-vie) y bajo durante los fines de semana.
    </p>
    üí°- El precio durante las horas de sue√±o (o altas horas de la noche) tiende a disminuir, mientras que durante el resto del d√≠a presenta dos subidas de valor, las cuales son durante el mediod√≠a y durante la tarde-noche.
\end{verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: left; background-color: #f5d769; padding: 1px; border-radius: 5px;">
      ‚ö° Interrogante 5. ¬øQu√© relaci√≥n se puede establecer, a grandes rasgos, entre la variable demanda y el precio fijado de la energ√≠a el√©ctrica?
\end{verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 1px solid #240b36; font-size: 16px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    Mediante un gr√°fico de dispersi√≥n, se deber√≠a obtener una conclusi√≥n certera sobre la relaci√≥n entre estas variables.
    </p>
    Seg√∫n expertos en el sector energ√©tico y en los trabajos bibliogr√°ficos consultados, cuando la demanda sube, el precio, generalmente, lo hace tambi√©n.
    </p>
    Recordando de prestar especial atenci√≥n al "mix" energ√©tico con el que el sector generador de la energ√≠a abastece a la poblaci√≥n: haciendo que el precio suba o baje seg√∫n var√≠e la combinaci√≥n entre generaci√≥n por combustibles f√≥siles y fuentes renovables de energ√≠a (70%-30%, 50%-50%, etc.).
\end{verbatim}

    \begin{itemize}
\tightlist
\item
  Gr√°fico interactivo entre demanda y precio - scatterplot -
\item
  An√°lisis de regresi√≥n lineal

  \begin{itemize}
  \tightlist
  \item
    Split entre data train/test (70-30)
  \item
    Obtenci√≥n de par√°metros
  \end{itemize}
\item
  An√°lisis de regresi√≥n no lineal - polin√≥mica de grado 2 -

  \begin{itemize}
  \tightlist
  \item
    Obtenci√≥n de par√°metros
  \end{itemize}
\item
  Obtenci√≥n de coeficiente de correlaci√≥n, seg√∫n
\item
  Impresi√≥n de los datos obtenidos
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{69}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{pio}\PY{o}{.}\PY{n}{templates}\PY{o}{.}\PY{n}{default} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ggplot2}\PY{l+s+s2}{\PYZdq{}}

\PY{n}{df\PYZus{}2015\PYZus{}2018} \PY{o}{=} \PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{year} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mi}{2015}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{year} \PY{o}{\PYZlt{}}\PY{o}{=} \PY{l+m+mi}{2018}\PY{p}{)}\PY{p}{]}

\PY{n}{fig} \PY{o}{=} \PY{n}{px}\PY{o}{.}\PY{n}{scatter}\PY{p}{(}\PY{n}{df\PYZus{}2015\PYZus{}2018}\PY{p}{,} \PY{n}{x}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{total load actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{n}{df\PYZus{}2015\PYZus{}2018}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{year}\PY{p}{,}
                 \PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Precio vs Demanda \PYZhy{} A√±os 2015\PYZhy{}2018}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                 \PY{n}{labels}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Precio [‚Ç¨/MWh]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{total load actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Demanda [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{,}
                 \PY{n}{trendline}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ols}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}xaxes}\PY{p}{(}\PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Precio [‚Ç¨/MWh]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}yaxes}\PY{p}{(}\PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Demanda [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}traces}\PY{p}{(}\PY{n}{marker}\PY{o}{=}\PY{n+nb}{dict}\PY{p}{(}\PY{n}{size}\PY{o}{=}\PY{l+m+mf}{2.5}\PY{p}{)}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}layout}\PY{p}{(}
    \PY{n}{coloraxis\PYZus{}colorbar}\PY{o}{=}\PY{n+nb}{dict}\PY{p}{(}
        \PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{A√±o}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
        \PY{n}{tickvals}\PY{o}{=}\PY{p}{[}\PY{l+m+mi}{2015}\PY{p}{,} \PY{l+m+mi}{2016}\PY{p}{,} \PY{l+m+mi}{2017}\PY{p}{,} \PY{l+m+mi}{2018}\PY{p}{]}\PY{p}{,}
        \PY{n}{ticktext}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2015}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2016}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2017}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2018}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
    \PY{p}{)}\PY{p}{)}

\PY{n}{fig}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    
    
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{70}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{X\PYZus{}train}\PY{p}{,} \PY{n}{X\PYZus{}test}\PY{p}{,} \PY{n}{y\PYZus{}train}\PY{p}{,} \PY{n}{y\PYZus{}test} \PY{o}{=} \PY{n}{train\PYZus{}test\PYZus{}split}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{p}{,} \PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{total load actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{test\PYZus{}size}\PY{o}{=}\PY{l+m+mf}{0.3}\PY{p}{)}

\PY{n}{lr} \PY{o}{=} \PY{n}{LinearRegression}\PY{p}{(}\PY{p}{)}
\PY{n}{lr}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{X\PYZus{}train}\PY{p}{,} \PY{n}{y\PYZus{}train}\PY{p}{)}

\PY{n}{a} \PY{o}{=} \PY{n}{lr}\PY{o}{.}\PY{n}{intercept\PYZus{}}
\PY{n}{b} \PY{o}{=} \PY{n}{lr}\PY{o}{.}\PY{n}{coef\PYZus{}}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}

\PY{n}{poly\PYZus{}features} \PY{o}{=} \PY{n}{PolynomialFeatures}\PY{p}{(}\PY{n}{degree}\PY{o}{=}\PY{l+m+mi}{2}\PY{p}{)}
\PY{n}{X\PYZus{}poly} \PY{o}{=} \PY{n}{poly\PYZus{}features}\PY{o}{.}\PY{n}{fit\PYZus{}transform}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{p}{)}

\PY{n}{lr} \PY{o}{=} \PY{n}{LinearRegression}\PY{p}{(}\PY{p}{)}
\PY{n}{lr}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{X\PYZus{}poly}\PY{p}{,} \PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{total load actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}

\PY{n}{a} \PY{o}{=} \PY{n}{lr}\PY{o}{.}\PY{n}{intercept\PYZus{}}
\PY{n}{b} \PY{o}{=} \PY{n}{lr}\PY{o}{.}\PY{n}{coef\PYZus{}}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}
\PY{n}{c} \PY{o}{=} \PY{n}{lr}\PY{o}{.}\PY{n}{coef\PYZus{}}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}

\PY{n}{r}\PY{p}{,} \PY{n}{p} \PY{o}{=} \PY{n}{pearsonr}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{total load actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}

\PY{n+nb}{print}\PY{p}{(}\PY{l+s+sa}{f}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Ecuaci√≥n de regresi√≥n: Y = }\PY{l+s+si}{\PYZob{}}\PY{n+nb}{round}\PY{p}{(}\PY{n}{a}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{)}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s1}{ + }\PY{l+s+si}{\PYZob{}}\PY{n+nb}{round}\PY{p}{(}\PY{n}{b}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{)}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s1}{X}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n+nb}{print}\PY{p}{(}\PY{l+s+sa}{f}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Ecuaci√≥n de regresi√≥n: Y = }\PY{l+s+si}{\PYZob{}}\PY{n+nb}{round}\PY{p}{(}\PY{n}{a}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{)}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s1}{ + }\PY{l+s+si}{\PYZob{}}\PY{n+nb}{round}\PY{p}{(}\PY{n}{b}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{)}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s1}{X + }\PY{l+s+si}{\PYZob{}}\PY{n+nb}{round}\PY{p}{(}\PY{n}{c}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{)}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s1}{X\PYZca{}2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n+nb}{print}\PY{p}{(}\PY{l+s+sa}{f}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Coeficiente de Pearson: }\PY{l+s+si}{\PYZob{}}\PY{n+nb}{round}\PY{p}{(}\PY{n}{r}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{)}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
Ecuaci√≥n de regresi√≥n: Y = 25219.52 + 0.0X
Ecuaci√≥n de regresi√≥n: Y = 25219.52 + 0.0X + -38.63X\^{}2
Coeficiente de Pearson: 0.44
    \end{Verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 1px solid #240b36; font-size: 18px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    üí°- En la mayor√≠a de las ocasiones relacionales que forman al gr√°fico, la variable precio aumenta a medida que la demanda lo hace tambi√©n.
    
\end{verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: left; background-color: #f5d769; padding: 1px; border-radius: 5px;">
      ‚ö° Interrogante 6. Relaciones con la variable precio. ¬øQu√© relaci√≥n se puede establecer, a grandes rasgos, entre la variable target y las dem√°s features?
\end{verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 1px solid #240b36; font-size: 16px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    Mediante un esquema gr√°fico de mapa de calor, que sigue el m√©todo de Pearson, se buscar√° determinar si existe una relaci√≥n fuerte del tipo lineal entre las variables de generaci√≥n convencional, generaci√≥n renovable, consumo y variable precio (target).
    </p>
    De no asegurar la completa linealidad entre las features mencionadas con la target, se buscar√° analizar la correlaci√≥n desde otros puntos de vista.
\end{verbatim}

    \begin{itemize}
\tightlist
\item
  Creaci√≥n de la matriz de correlaci√≥n - heatmap -
\item
  Creaci√≥n de una tabla - df - con las correlaciones m√°s fuertes
  impresas
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{71}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{correlaciones\PYZus{}energy} \PY{o}{=} \PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{corr}\PY{p}{(}\PY{n}{method}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{pearson}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{filas} \PY{o}{=} \PY{n}{correlaciones\PYZus{}energy}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{tolist}\PY{p}{(}\PY{p}{)}
\PY{n}{columnas} \PY{o}{=} \PY{n}{correlaciones\PYZus{}energy}\PY{o}{.}\PY{n}{columns}\PY{o}{.}\PY{n}{tolist}\PY{p}{(}\PY{p}{)}

\PY{n}{correlaciones} \PY{o}{=} \PY{p}{[}\PY{p}{]}
\PY{k}{for} \PY{n}{i}\PY{p}{,} \PY{n}{fila} \PY{o+ow}{in} \PY{n+nb}{enumerate}\PY{p}{(}\PY{n}{filas}\PY{p}{)}\PY{p}{:}
    \PY{k}{for} \PY{n}{j}\PY{p}{,} \PY{n}{columna} \PY{o+ow}{in} \PY{n+nb}{enumerate}\PY{p}{(}\PY{n}{columnas}\PY{p}{)}\PY{p}{:}
        \PY{n}{correlacion} \PY{o}{=} \PY{n}{correlaciones\PYZus{}energy}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{n}{j}\PY{p}{]}
        \PY{n}{correlaciones}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{p}{(}\PY{n}{fila}\PY{p}{,} \PY{n}{columna}\PY{p}{,} \PY{n}{correlacion}\PY{p}{)}\PY{p}{)}

\PY{n}{data} \PY{o}{=} \PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{filas}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{p}{[}\PY{n}{x}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{n}{correlaciones}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{columnas}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{p}{[}\PY{n}{x}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{n}{correlaciones}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{correlaciones}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{p}{[}\PY{n}{x}\PY{p}{[}\PY{l+m+mi}{2}\PY{p}{]} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{n}{correlaciones}\PY{p}{]}\PY{p}{\PYZcb{}}
\PY{n}{source} \PY{o}{=} \PY{n}{ColumnDataSource}\PY{p}{(}\PY{n}{data}\PY{p}{)}
\PY{n}{mapper} \PY{o}{=} \PY{n}{linear\PYZus{}cmap}\PY{p}{(}\PY{n}{field\PYZus{}name}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{correlaciones}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{palette}\PY{o}{=}\PY{n}{Viridis256}\PY{p}{,} \PY{n}{low}\PY{o}{=}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{high}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}

\PY{n}{p} \PY{o}{=} \PY{n}{figure}\PY{p}{(}\PY{n}{x\PYZus{}range}\PY{o}{=}\PY{n}{filas}\PY{p}{,} \PY{n}{y\PYZus{}range}\PY{o}{=}\PY{n}{columnas}\PY{p}{,} \PY{n}{width}\PY{o}{=}\PY{l+m+mi}{1000}\PY{p}{,} \PY{n}{height}\PY{o}{=}\PY{l+m+mi}{800}\PY{p}{,} \PY{n}{tooltips}\PY{o}{=}\PY{p}{[}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Filas}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{@filas}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,} \PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Columnas}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{@columnas}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,} \PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Correlaci√≥n}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{@correlaciones}\PY{l+s+si}{\PYZob{}0.00\PYZcb{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{]}\PY{p}{)}
\PY{n}{p}\PY{o}{.}\PY{n}{rect}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{filas}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{columnas}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{width}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{height}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{source}\PY{o}{=}\PY{n}{source}\PY{p}{,}
       \PY{n}{line\PYZus{}color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{white}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{fill\PYZus{}color}\PY{o}{=}\PY{n}{mapper}\PY{p}{)}
\PY{n}{p}\PY{o}{.}\PY{n}{xaxis}\PY{o}{.}\PY{n}{major\PYZus{}label\PYZus{}orientation} \PY{o}{=} \PY{l+m+mf}{3.14} \PY{o}{/} \PY{l+m+mi}{4}
\PY{n}{p}\PY{o}{.}\PY{n}{title}\PY{o}{.}\PY{n}{text} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Matriz de Correlaciones \PYZhy{} M√©todo Pearson}\PY{l+s+s1}{\PYZsq{}}
\PY{n}{p}\PY{o}{.}\PY{n}{outline\PYZus{}line\PYZus{}color} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}
\PY{n}{p}\PY{o}{.}\PY{n}{outline\PYZus{}line\PYZus{}width} \PY{o}{=} \PY{l+m+mi}{4}
\PY{n}{color\PYZus{}bar} \PY{o}{=} \PY{n}{ColorBar}\PY{p}{(}\PY{n}{color\PYZus{}mapper}\PY{o}{=}\PY{n}{mapper}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{transform}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{width}\PY{o}{=}\PY{l+m+mi}{8}\PY{p}{,} \PY{n}{location}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{0}\PY{p}{)}\PY{p}{)}
\PY{n}{p}\PY{o}{.}\PY{n}{add\PYZus{}layout}\PY{p}{(}\PY{n}{color\PYZus{}bar}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{right}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{p}\PY{o}{.}\PY{n}{add\PYZus{}tools}\PY{p}{(}\PY{n}{HoverTool}\PY{p}{(}\PY{p}{)}\PY{p}{)}

\PY{n}{output\PYZus{}notebook}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{multivariado\PYZus{}principal.html}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}

\PY{n}{output\PYZus{}notebook}\PY{p}{(}\PY{p}{)}
\PY{n}{show}\PY{p}{(}\PY{n}{p}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    
    
    
    
    
    
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{72}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{correlacion\PYZus{}positiva} \PY{o}{=} \PY{n+nb}{abs}\PY{p}{(}\PY{n}{correlaciones\PYZus{}energy}\PY{p}{[}\PY{n}{correlaciones\PYZus{}energy} \PY{o}{\PYZgt{}} \PY{l+m+mf}{0.5}\PY{p}{]}\PY{p}{)}
\PY{n}{fuerte\PYZus{}correlacion} \PY{o}{=} \PY{n}{correlacion\PYZus{}positiva}\PY{p}{[}\PY{n}{correlacion\PYZus{}positiva} \PY{o}{\PYZlt{}} \PY{l+m+mf}{1.0}\PY{p}{]}\PY{o}{.}\PY{n}{stack}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{p}{)}
\PY{n}{fuerte\PYZus{}correlacion}\PY{o}{.}\PY{n}{columns} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Variable A}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Variable B}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Correlaci√≥n}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}

\PY{n}{fuerte\PYZus{}correlacion}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{72}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
                                    Variable A  \textbackslash{}
0                           generation biomass
1         generation fossil brown coal/lignite
2                        generation fossil gas
3                        generation fossil gas
4                  generation fossil hard coal
5                  generation fossil hard coal
6   generation hydro run-of-river and poundage
7             generation hydro water reservoir
8                             generation other
9                   generation other renewable
10                            generation waste
11                           total load actual

                                    Variable B  Correlaci√≥n
0                             generation other     0.658438
1                  generation fossil hard coal     0.768835
2                  generation fossil hard coal     0.541688
3                            total load actual     0.548983
4         generation fossil brown coal/lignite     0.768835
5                        generation fossil gas     0.541688
6             generation hydro water reservoir     0.652728
7   generation hydro run-of-river and poundage     0.652728
8                           generation biomass     0.658438
9                             generation waste     0.613998
10                  generation other renewable     0.613998
11                       generation fossil gas     0.548983
\end{Verbatim}
\end{tcolorbox}
        
    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 1px solid #240b36; font-size: 18px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    üí°- Los valores de correlaci√≥n no son tales como para asegurar una correlaci√≥n completamente lineal, a excepci√≥n de demanda-precio.
    </p>
    üí°- Existe un leve indicio alto de correlaci√≥n positiva entre las variables de generaci√≥n a partir de recursos convencionales (gas natural, carb√≥n y fueloil) y el precio. A medida que la generaci√≥n a partir de las convencionales aumenta, el precio lo hace tambi√©n.
    </p>
    üí°- Hay una correlaci√≥n baja y tendiendo a ser negativa entre las energ√≠as obtenidas a partir de fuentes renovables (hidroel√©ctricas, solar, biomasa, e√≥lica, etc.). Reiterando, a medida que la generaci√≥n de las renovables aumenta el precio deber√≠a disminuir su valor.
    </p>
    üí°- La variable demanda presenta la relaci√≥n lineal positiva m√°s fuerte entre todas las features. A mayores valores de consumo, el sector de productores energ√©ticos tendr√° mayores posibilidades de ofrecer su energ√≠a producida a valores m√°s elevados.
    </p>
    üí°- Las variables de generaci√≥n a partir de carb√≥n marr√≥n y carb√≥n duro presentan una correlaci√≥n positiva, esto es debido a que ambas comparten la misma materia prima para producir electricidad.
    </p>
    üí°- An√°logo a lo anterior, es para las variables renovables de generaci√≥n hidroel√©ctrica (fluyente y reservorio) y de biomasa/otras renovables.
\end{verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: left; background-color: #f5d769; padding: 1px; border-radius: 5px;">
      ‚ö° Interrogante 7. Generaci√≥n energ√©tica. ¬øQu√© se puede observar cuando se analiza la distribuci√≥n de valores en un histograma para cada variable?
\end{verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 1px solid #240b36; font-size: 16px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    La flexibilidad a la hora de generar energ√≠a el√©ctrica, lo cual depende del tipo de materia prima empleada, proceso productivo y condicionantes del mercado -tanto internos como externos-, es fundamental para entender estas variables.
    </p>
    Variables que presenten una curva de distribuci√≥n con alta variabilidad, ser√°n aquellas que con una alta seguridad, presenten una gran capacidad para ser flexibles en su producci√≥n: lo cual les otorga un gran margen de maniobra para atender las necesidades del mercado.
\end{verbatim}

    \begin{itemize}
\tightlist
\item
  Gr√°fico interactivo entre distribuciones de variables de producci√≥n
  el√©ctrica
\item
  Se crea el df empleando el m√©todo ``melt''
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{73}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{variables\PYZus{}hist} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation fossil gas}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation fossil hard coal}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation fossil brown coal/lignite}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                  \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation fossil oil}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation hydro water reservoir}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation hydro pumped storage consumption}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                  \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation hydro run\PYZhy{}of\PYZhy{}river and poundage}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation nuclear}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation solar}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                  \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation wind onshore}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation biomass}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation other}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation other renewable}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                  \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation waste}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
\PY{n}{color\PYZus{}palette} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}929591}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}D1B26F}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}653700}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}FBDD7E}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}4C78A8}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}0099C6}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}19D3F3}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}BBF90F}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}FFA500}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                 \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}069AF3}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}006400}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}620042}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}DA60CA}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}33FF6A}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}

\PY{n}{df\PYZus{}melted} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{melt}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{,} \PY{n}{value\PYZus{}vars}\PY{o}{=}\PY{n}{variables\PYZus{}hist}\PY{p}{,} \PY{n}{var\PYZus{}name}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Variable}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{value\PYZus{}name}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Value}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}

\PY{n}{fig} \PY{o}{=} \PY{n}{px}\PY{o}{.}\PY{n}{histogram}\PY{p}{(}\PY{n}{df\PYZus{}melted}\PY{p}{,} \PY{n}{x}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Value}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Variable}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{nbins}\PY{o}{=}\PY{l+m+mi}{30}\PY{p}{,} \PY{n}{color\PYZus{}discrete\PYZus{}map}\PY{o}{=}\PY{p}{\PYZob{}}\PY{n}{var}\PY{p}{:} \PY{n}{color} \PY{k}{for} \PY{n}{var}\PY{p}{,} \PY{n}{color} \PY{o+ow}{in} \PY{n+nb}{zip}\PY{p}{(}\PY{n}{variables\PYZus{}hist}\PY{p}{,} \PY{n}{color\PYZus{}palette}\PY{p}{)}\PY{p}{\PYZcb{}}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}xaxes}\PY{p}{(}\PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}yaxes}\PY{p}{(}\PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}layout}\PY{p}{(}\PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Histogramas de Generaci√≥n de Energ√≠a \PYZhy{} Espa√±a (2015\PYZhy{}2018)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{title\PYZus{}font\PYZus{}size}\PY{o}{=}\PY{l+m+mi}{18}\PY{p}{)}

\PY{n}{fig}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    
    \begin{Verbatim}[commandchars=\\\{\}]
Output hidden; open in https://colab.research.google.com to view.
    \end{Verbatim}

    
    \begin{itemize}
\tightlist
\item
  Verificaci√≥n de normalidad en las variables de generaci√≥n -
  `variables\_hist' -

  \begin{itemize}
  \tightlist
  \item
    Se hace uso del test de Shapiro
  \item
    Esto imprimir√° finalmente un mensaje seg√∫n los datos sigan una
    distribuci√≥n normal, o no
  \end{itemize}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{74}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k}{def} \PY{n+nf}{test\PYZus{}normalidad}\PY{p}{(}\PY{n}{x}\PY{p}{)}\PY{p}{:}
    \PY{n}{p\PYZus{}value} \PY{o}{=} \PY{n}{shapiro}\PY{p}{(}\PY{n}{x}\PY{p}{)}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}
    \PY{k}{if} \PY{n}{p\PYZus{}value} \PY{o}{\PYZlt{}} \PY{l+m+mf}{0.05}\PY{p}{:}
        \PY{k}{return} \PY{l+s+sa}{f}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Los datos no siguen una distribuci√≥n normal (p\PYZhy{}value = }\PY{l+s+si}{\PYZob{}}\PY{n}{p\PYZus{}value}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s2}{)}\PY{l+s+s2}{\PYZdq{}}
    \PY{k}{else}\PY{p}{:}
        \PY{k}{return} \PY{l+s+sa}{f}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Los datos siguen una distribuci√≥n normal (p\PYZhy{}value = }\PY{l+s+si}{\PYZob{}}\PY{n}{p\PYZus{}value}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s2}{)}\PY{l+s+s2}{\PYZdq{}}

\PY{k}{for} \PY{n}{variable} \PY{o+ow}{in} \PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{columns}\PY{p}{:}
    \PY{k}{if} \PY{n}{variable} \PY{o+ow}{in} \PY{n}{variables\PYZus{}hist}\PY{p}{:}
        \PY{n+nb}{print}\PY{p}{(}\PY{l+s+sa}{f}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Variable: }\PY{l+s+si}{\PYZob{}}\PY{n}{variable}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s2}{ \PYZhy{}\PYZhy{}\PYZhy{} Resultado: }\PY{l+s+si}{\PYZob{}}\PY{n}{test\PYZus{}normalidad}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{n}{variable}\PY{p}{]}\PY{p}{)}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
Variable: generation biomass --- Resultado: Los datos no siguen una distribuci√≥n
normal (p-value = 0.0)
Variable: generation fossil brown coal/lignite --- Resultado: Los datos no
siguen una distribuci√≥n normal (p-value = 0.0)
Variable: generation fossil gas --- Resultado: Los datos no siguen una
distribuci√≥n normal (p-value = 0.0)
Variable: generation fossil hard coal --- Resultado: Los datos no siguen una
distribuci√≥n normal (p-value = 0.0)
Variable: generation fossil oil --- Resultado: Los datos no siguen una
distribuci√≥n normal (p-value = 1.3563168815539375e-33)
Variable: generation hydro pumped storage consumption --- Resultado: Los datos
no siguen una distribuci√≥n normal (p-value = 0.0)
Variable: generation hydro run-of-river and poundage --- Resultado: Los datos no
siguen una distribuci√≥n normal (p-value = 0.0)
Variable: generation hydro water reservoir --- Resultado: Los datos no siguen
una distribuci√≥n normal (p-value = 0.0)
Variable: generation nuclear --- Resultado: Los datos no siguen una distribuci√≥n
normal (p-value = 0.0)
Variable: generation other --- Resultado: Los datos no siguen una distribuci√≥n
normal (p-value = 0.0)
Variable: generation other renewable --- Resultado: Los datos no siguen una
distribuci√≥n normal (p-value = 0.0)
Variable: generation solar --- Resultado: Los datos no siguen una distribuci√≥n
normal (p-value = 0.0)
Variable: generation waste --- Resultado: Los datos no siguen una distribuci√≥n
normal (p-value = 0.0)
Variable: generation wind onshore --- Resultado: Los datos no siguen una
distribuci√≥n normal (p-value = 0.0)
    \end{Verbatim}

    \begin{itemize}
\tightlist
\item
  Se utiliza un ciclo ``for''
\item
  Inicia con un df vac√≠o y se itera sobre cada variable
\item
  Luego, se calculan los par√°metros estad√≠sticos descriptivos de
  interes:

  \begin{itemize}
  \tightlist
  \item
    Media
  \item
    Media recortada (proporci√≥n del 5\% removida en cada cola)
  \item
    Mediana
  \item
    Moda
  \item
    Desv√≠o est√°ndar
  \item
    ``IQR'' (Rango intercuart√≠lico)
  \item
    Rango
  \item
    ``MAD'' (Media Absoluta de las Desviaciones)
  \item
    ``CV'' (Coeficiente de Variaci√≥n)
  \item
    Asimetr√≠a
  \item
    Curtosis
  \end{itemize}
\item
  Empleo de un dataframe para visualizar los par√°metros calculados

  \begin{itemize}
  \tightlist
  \item
    Se agrega una fila con los datos al df inicial
  \end{itemize}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{75}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}stats} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{p}{)}

\PY{k}{for} \PY{n}{variable} \PY{o+ow}{in} \PY{n}{variables\PYZus{}hist}\PY{p}{:}

    \PY{c+c1}{\PYZsh{} Media}
    \PY{n}{load\PYZus{}mean} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{n}{variable}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{)}
    \PY{c+c1}{\PYZsh{} Media recortada}
    \PY{n}{load\PYZus{}trim\PYZus{}mean} \PY{o}{=} \PY{n}{stats}\PY{o}{.}\PY{n}{trim\PYZus{}mean}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{n}{variable}\PY{p}{]}\PY{p}{,} \PY{l+m+mf}{0.05}\PY{p}{)}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{)}
    \PY{c+c1}{\PYZsh{} Mediana}
    \PY{n}{load\PYZus{}median} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{median}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{n}{variable}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{)}
    \PY{c+c1}{\PYZsh{} Moda}
    \PY{n}{load\PYZus{}mode} \PY{o}{=} \PY{n}{stats}\PY{o}{.}\PY{n}{mode}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{n}{variable}\PY{p}{]}\PY{p}{)}

    \PY{c+c1}{\PYZsh{} Cuartiles 1¬∞ y 3¬∞}
    \PY{n}{load\PYZus{}q1} \PY{o}{=} \PY{n}{stats}\PY{o}{.}\PY{n}{percentileofscore}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{n}{variable}\PY{p}{]}\PY{p}{,} \PY{l+m+mi}{25}\PY{p}{)}
    \PY{n}{load\PYZus{}q3} \PY{o}{=} \PY{n}{stats}\PY{o}{.}\PY{n}{percentileofscore}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{n}{variable}\PY{p}{]}\PY{p}{,} \PY{l+m+mi}{75}\PY{p}{)}
    \PY{c+c1}{\PYZsh{} Desv√≠o est√°ndar}
    \PY{n}{load\PYZus{}std} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{std}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{n}{variable}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{)}
    \PY{c+c1}{\PYZsh{} IQR}
    \PY{n}{load\PYZus{}iqr} \PY{o}{=} \PY{n}{stats}\PY{o}{.}\PY{n}{iqr}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{n}{variable}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{)}
    \PY{c+c1}{\PYZsh{} Rango}
    \PY{n}{load\PYZus{}range} \PY{o}{=} \PY{n+nb}{max}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{n}{variable}\PY{p}{]}\PY{p}{)} \PY{o}{\PYZhy{}} \PY{n+nb}{min}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{n}{variable}\PY{p}{]}\PY{p}{)}
    \PY{c+c1}{\PYZsh{} MAD}
    \PY{n}{mad} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{median}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{abs}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{n}{variable}\PY{p}{]} \PY{o}{\PYZhy{}} \PY{n}{load\PYZus{}median}\PY{p}{)}\PY{p}{)}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{)}
    \PY{c+c1}{\PYZsh{} CV}
    \PY{n}{load\PYZus{}cv} \PY{o}{=} \PY{p}{(}\PY{n}{stats}\PY{o}{.}\PY{n}{variation}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{n}{variable}\PY{p}{]}\PY{p}{)}\PY{o}{*}\PY{l+m+mi}{100}\PY{p}{)}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{)}

    \PY{c+c1}{\PYZsh{} Asimetr√≠a}
    \PY{n}{load\PYZus{}skew} \PY{o}{=} \PY{n}{stats}\PY{o}{.}\PY{n}{skew}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{n}{variable}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{l+m+mi}{3}\PY{p}{)}
    \PY{c+c1}{\PYZsh{} Curtosis}
    \PY{n}{load\PYZus{}kurtosis} \PY{o}{=} \PY{n}{stats}\PY{o}{.}\PY{n}{kurtosis}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{n}{variable}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{l+m+mi}{3}\PY{p}{)}

    \PY{n}{df\PYZus{}stats} \PY{o}{=} \PY{n}{df\PYZus{}stats}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{p}{\PYZob{}}
        \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Variable}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{n}{variable}\PY{p}{,}
        \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Media}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{n}{load\PYZus{}mean}\PY{p}{,}
        \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Media Recortada}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{n}{load\PYZus{}trim\PYZus{}mean}\PY{p}{,}
        \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Mediana}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{n}{load\PYZus{}median}\PY{p}{,}
        \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Moda}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{n}{load\PYZus{}mode}\PY{p}{,}
        \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Q1}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{n}{load\PYZus{}q1}\PY{p}{,}
        \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Q3}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{n}{load\PYZus{}q3}\PY{p}{,}
        \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Desviaci√≥n Est√°ndar}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{n}{load\PYZus{}std}\PY{p}{,}
        \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Rango Intercuart√≠lico}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{n}{load\PYZus{}iqr}\PY{p}{,}
        \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Rango}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{n}{load\PYZus{}range}\PY{p}{,}
        \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Desviaci√≥n Media Absoluta}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{n}{mad}\PY{p}{,}
        \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Coeficiente de Variaci√≥n}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{n}{load\PYZus{}cv}\PY{p}{,}
        \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Asimetr√≠a}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{n}{load\PYZus{}skew}\PY{p}{,}
        \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Curtosis}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{n}{load\PYZus{}kurtosis}
    \PY{p}{\PYZcb{}}\PY{p}{,} \PY{n}{ignore\PYZus{}index}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}

\PY{n}{df\PYZus{}stats}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
<ipython-input-75-c9b3ac62f86b>:33: FutureWarning:

The frame.append method is deprecated and will be removed from pandas in a
future version. Use pandas.concat instead.

<ipython-input-75-c9b3ac62f86b>:33: FutureWarning:

The frame.append method is deprecated and will be removed from pandas in a
future version. Use pandas.concat instead.

<ipython-input-75-c9b3ac62f86b>:33: FutureWarning:

The frame.append method is deprecated and will be removed from pandas in a
future version. Use pandas.concat instead.

<ipython-input-75-c9b3ac62f86b>:33: FutureWarning:

The frame.append method is deprecated and will be removed from pandas in a
future version. Use pandas.concat instead.

<ipython-input-75-c9b3ac62f86b>:33: FutureWarning:

The frame.append method is deprecated and will be removed from pandas in a
future version. Use pandas.concat instead.

<ipython-input-75-c9b3ac62f86b>:33: FutureWarning:

The frame.append method is deprecated and will be removed from pandas in a
future version. Use pandas.concat instead.

<ipython-input-75-c9b3ac62f86b>:33: FutureWarning:

The frame.append method is deprecated and will be removed from pandas in a
future version. Use pandas.concat instead.

<ipython-input-75-c9b3ac62f86b>:33: FutureWarning:

The frame.append method is deprecated and will be removed from pandas in a
future version. Use pandas.concat instead.

<ipython-input-75-c9b3ac62f86b>:33: FutureWarning:

The frame.append method is deprecated and will be removed from pandas in a
future version. Use pandas.concat instead.

<ipython-input-75-c9b3ac62f86b>:33: FutureWarning:

The frame.append method is deprecated and will be removed from pandas in a
future version. Use pandas.concat instead.

<ipython-input-75-c9b3ac62f86b>:33: FutureWarning:

The frame.append method is deprecated and will be removed from pandas in a
future version. Use pandas.concat instead.

<ipython-input-75-c9b3ac62f86b>:33: FutureWarning:

The frame.append method is deprecated and will be removed from pandas in a
future version. Use pandas.concat instead.

<ipython-input-75-c9b3ac62f86b>:33: FutureWarning:

The frame.append method is deprecated and will be removed from pandas in a
future version. Use pandas.concat instead.

<ipython-input-75-c9b3ac62f86b>:33: FutureWarning:

The frame.append method is deprecated and will be removed from pandas in a
future version. Use pandas.concat instead.

    \end{Verbatim}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{75}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
                                       Variable   Media  Media Recortada  \textbackslash{}
0                         generation fossil gas  5623.0           5420.0
1                   generation fossil hard coal  4257.0           4250.0
2          generation fossil brown coal/lignite   448.0            444.0
3                         generation fossil oil   298.0            298.0
4              generation hydro water reservoir  2606.0           2477.0
5   generation hydro pumped storage consumption   476.0            361.0
6    generation hydro run-of-river and poundage   972.0            957.0
7                            generation nuclear  6263.0           6309.0
8                              generation solar  1433.0           1304.0
9                       generation wind onshore  5465.0           5282.0
10                           generation biomass   384.0            383.0
11                             generation other    60.0             61.0
12                   generation other renewable    86.0             86.0
13                             generation waste   269.0            273.0

    Mediana           Moda         Q1         Q3  Desviaci√≥n Est√°ndar  \textbackslash{}
0    4970.0   (3993.0, 24)   0.002852   0.002852               2202.0
1    4475.0   (5266.0, 16)   0.008556   0.008556               1962.0
2     509.0   (0.0, 10524)  30.199926  30.399566                355.0
3     300.0   (303.0, 335)   0.008556   0.011408                 53.0
4    2165.0    (801.0, 26)   0.008556   0.008556               1835.0
5      68.0   (0.0, 12614)  45.259961  50.558994                792.0
6     906.0    (600.0, 59)   0.008556   0.008556                401.0
7    6564.0  (7102.0, 376)   0.008556   0.008556                840.0
8     616.0    (26.0, 258)   8.717166  25.705159               1680.0
9    4849.0   (2845.0, 15)   0.008556   0.008556               3214.0
10    367.0   (361.0, 321)   0.011408   0.011408                 85.0
11     57.0   (57.0, 2288)   8.282235  73.276673                 20.0
12     88.0    (94.0, 990)   0.014260  28.142201                 14.0
13    279.0   (317.0, 405)   0.008556   0.011408                 50.0

    Rango Intercuart√≠lico    Rango  Desviaci√≥n Media Absoluta  \textbackslash{}
0                  2303.0  20034.0                     1008.0
1                  3312.0   8359.0                     1608.0
2                   757.0    999.0                      355.0
3                    67.0    449.0                       33.0
4                  2680.0   9728.0                     1246.0
5                   616.0   4523.0                       68.0
6                   613.0   2000.0                      297.0
7                  1266.0   7117.0                      534.0
8                  2508.0   5792.0                      585.0
9                  4467.0  17436.0                     2157.0
10                  100.0    592.0                       39.0
11                   27.0    106.0                        6.0
12                   24.0    119.0                       11.0
13                   70.0    357.0                       33.0

    Coeficiente de Variaci√≥n  Asimetr√≠a  Curtosis
0                      39.15      1.615     3.185
1                      46.09     -0.073    -1.124
2                      79.14     -0.047    -1.456
3                      17.60      0.064     0.066
4                      70.43      0.897     0.173
5                     166.60      2.130     4.196
6                      41.22      0.500    -0.720
7                      13.42     -0.693    -0.496
8                     117.24      1.020    -0.388
9                      58.80      0.784     0.057
10                     22.25      0.421    -0.284
11                     33.60     -0.505     0.441
12                     16.44     -0.215    -0.827
13                     18.64     -0.849     0.138
\end{Verbatim}
\end{tcolorbox}
        
    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 1px solid #240b36; font-size: 18px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    üí°- El an√°lisis univariado arroja que ninguna variable de generaci√≥n el√©ctrica sigue una distribuci√≥n no normal de los datos.
    </p>
    üí°- El caso de las centrales t√©rmicas que emplean combustibles f√≥siles (gas natural, fueloil y carb√≥n) es llamativo por su alta flexibilidad -como se coment√≥ al iniciar el interrogante.-.
    </p>
    üí°- Las centrales nucleares poseen un comportamiento muy particular. Trabajan a plena potencia, y es por ello que cuando operan, sus niveles de participaci√≥n en materia de generaci√≥n son muy constantes y asentados (cerca de 5000, 6000 y 7000 MW generados, respectivamente).
    </p>
    üí°- Para variables dependientes de los recursos climatol√≥gicos (sector e√≥lico, solar e hidroel√©ctrico), presentan niveles de generaci√≥n condicionados por los recursos clim√°ticos (vientos, presencia de luz solar, nubosidad y lluvias), adem√°s de los niveles de potencia instalada que tienen cada una de estas centrales generadores. Por ende, a medida que las condiciones climatol√≥gicas cambian, este sector aprovecha su capacidad, ya que no presentan un grado de flexibilidad adecuado (caso contrario a los productores que emplean combustibles f√≥siles).
\end{verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: left; background-color: #f5d769; padding: 1px; border-radius: 5px;">
      ‚ö° Interrogante 8. Valores por a√±o de la variable target. ¬øQu√© an√°lisis se puede realizar teniendo en cuenta los valores del precio, seg√∫n cada a√±o?
\end{verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 1px solid #240b36; font-size: 16px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    Se utilizar√°n gr√°ficos del tipo boxplot, los cuales ayudan a entender el comportamiento del sector productivo de energ√≠a el√©ctrica.
    </p>
    Este punto del an√°lisis es importante, ya que seg√∫n bibliograf√≠a y autores consultados, se afirma que este sector tiene una participaci√≥n directa en la fijaci√≥n del precio energ√©tico, siendo los √∫nicos entes que ofertan la energ√≠a.
\end{verbatim}

    \begin{itemize}
\tightlist
\item
  Gr√°fico din√°mico para tratamiento de outliers en la variable precio
  (discriminado para a√±os de estudio 2015, 2016, 2017 y 2018)

  \begin{itemize}
  \tightlist
  \item
    Combinaci√≥n entre histograma y boxplot
  \end{itemize}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{76}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{pio}\PY{o}{.}\PY{n}{templates}\PY{o}{.}\PY{n}{default} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ggplot2}\PY{l+s+s2}{\PYZdq{}}

\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{time}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{to\PYZus{}datetime}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{time}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{set\PYZus{}index}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{time}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}

\PY{n}{df\PYZus{}energy\PYZus{}2015} \PY{o}{=} \PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{year} \PY{o}{==} \PY{l+m+mi}{2015}\PY{p}{]}

\PY{n}{fig\PYZus{}2015} \PY{o}{=} \PY{n}{px}\PY{o}{.}\PY{n}{histogram}\PY{p}{(}\PY{n}{df\PYZus{}energy\PYZus{}2015}\PY{p}{,} \PY{n}{x}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{nbins}\PY{o}{=}\PY{l+m+mi}{30}\PY{p}{,}
              \PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Distribuci√≥n de Precio de Energ√≠a El√©ctrica \PYZhy{} Espa√±a (2015)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
              \PY{n}{labels}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Precio de Energ√≠a El√©ctrica [‚Ç¨/MWh]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{,}
              \PY{n}{color\PYZus{}discrete\PYZus{}sequence}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{teal}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
\PY{n}{fig\PYZus{}2015}\PY{o}{.}\PY{n}{update\PYZus{}xaxes}\PY{p}{(}\PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig\PYZus{}2015}\PY{o}{.}\PY{n}{update\PYZus{}yaxes}\PY{p}{(}\PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig\PYZus{}2015}\PY{o}{.}\PY{n}{update\PYZus{}layout}\PY{p}{(}\PY{n}{legend\PYZus{}title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{A√±o}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}

\PY{n}{fig\PYZus{}boxplot\PYZus{}2015} \PY{o}{=} \PY{n}{px}\PY{o}{.}\PY{n}{box}\PY{p}{(}\PY{n}{df\PYZus{}energy\PYZus{}2015}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
              \PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Boxplot de Precio de Energ√≠a El√©ctrica \PYZhy{} Espa√±a (2015)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
              \PY{n}{labels}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Precio de Energ√≠a El√©ctrica [‚Ç¨/MWh]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{,}
              \PY{n}{color\PYZus{}discrete\PYZus{}sequence}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{teal}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
\PY{n}{fig\PYZus{}boxplot\PYZus{}2015}\PY{o}{.}\PY{n}{update\PYZus{}xaxes}\PY{p}{(}\PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig\PYZus{}boxplot\PYZus{}2015}\PY{o}{.}\PY{n}{update\PYZus{}yaxes}\PY{p}{(}\PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig\PYZus{}boxplot\PYZus{}2015}\PY{o}{.}\PY{n}{update\PYZus{}layout}\PY{p}{(}\PY{n}{legend\PYZus{}title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{A√±o}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}

\PY{n}{fig\PYZus{}2015}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\PY{n}{fig\PYZus{}boxplot\PYZus{}2015}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    
    
    
    
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{77}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{pio}\PY{o}{.}\PY{n}{templates}\PY{o}{.}\PY{n}{default} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ggplot2}\PY{l+s+s2}{\PYZdq{}}

\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{time}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{to\PYZus{}datetime}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{time}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{set\PYZus{}index}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{time}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}

\PY{n}{df\PYZus{}energy\PYZus{}2016} \PY{o}{=} \PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{year} \PY{o}{==} \PY{l+m+mi}{2016}\PY{p}{]}

\PY{n}{fig\PYZus{}2016} \PY{o}{=} \PY{n}{px}\PY{o}{.}\PY{n}{histogram}\PY{p}{(}\PY{n}{df\PYZus{}energy\PYZus{}2016}\PY{p}{,} \PY{n}{x}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{nbins}\PY{o}{=}\PY{l+m+mi}{30}\PY{p}{,}
              \PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Distribuci√≥n de Precio de Energ√≠a El√©ctrica \PYZhy{} Espa√±a (2016)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
              \PY{n}{labels}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Precio de Energ√≠a El√©ctrica [‚Ç¨/MWh]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{,}
              \PY{n}{color\PYZus{}discrete\PYZus{}sequence}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{teal}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
\PY{n}{fig\PYZus{}2016}\PY{o}{.}\PY{n}{update\PYZus{}xaxes}\PY{p}{(}\PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig\PYZus{}2016}\PY{o}{.}\PY{n}{update\PYZus{}yaxes}\PY{p}{(}\PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig\PYZus{}2016}\PY{o}{.}\PY{n}{update\PYZus{}layout}\PY{p}{(}\PY{n}{legend\PYZus{}title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{A√±o}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}

\PY{n}{fig\PYZus{}boxplot\PYZus{}2016} \PY{o}{=} \PY{n}{px}\PY{o}{.}\PY{n}{box}\PY{p}{(}\PY{n}{df\PYZus{}energy\PYZus{}2016}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
              \PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Boxplot de Precio de Energ√≠a El√©ctrica \PYZhy{} Espa√±a (2016)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
              \PY{n}{labels}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Precio de Energ√≠a El√©ctrica [‚Ç¨/MWh]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{,}
              \PY{n}{color\PYZus{}discrete\PYZus{}sequence}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{teal}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
\PY{n}{fig\PYZus{}boxplot\PYZus{}2016}\PY{o}{.}\PY{n}{update\PYZus{}xaxes}\PY{p}{(}\PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig\PYZus{}boxplot\PYZus{}2016}\PY{o}{.}\PY{n}{update\PYZus{}yaxes}\PY{p}{(}\PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig\PYZus{}boxplot\PYZus{}2016}\PY{o}{.}\PY{n}{update\PYZus{}layout}\PY{p}{(}\PY{n}{legend\PYZus{}title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{A√±o}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}

\PY{n}{fig\PYZus{}2016}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\PY{n}{fig\PYZus{}boxplot\PYZus{}2016}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    
    
    
    
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{78}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{pio}\PY{o}{.}\PY{n}{templates}\PY{o}{.}\PY{n}{default} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ggplot2}\PY{l+s+s2}{\PYZdq{}}

\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{time}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{to\PYZus{}datetime}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{time}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{set\PYZus{}index}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{time}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}

\PY{n}{df\PYZus{}energy\PYZus{}2017} \PY{o}{=} \PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{year} \PY{o}{==} \PY{l+m+mi}{2017}\PY{p}{]}

\PY{n}{fig\PYZus{}2017} \PY{o}{=} \PY{n}{px}\PY{o}{.}\PY{n}{histogram}\PY{p}{(}\PY{n}{df\PYZus{}energy\PYZus{}2017}\PY{p}{,} \PY{n}{x}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{nbins}\PY{o}{=}\PY{l+m+mi}{30}\PY{p}{,}
              \PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Distribuci√≥n de Precio de Energ√≠a El√©ctrica \PYZhy{} Espa√±a (2017)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
              \PY{n}{labels}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Precio de Energ√≠a El√©ctrica [‚Ç¨/MWh]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{,}
              \PY{n}{color\PYZus{}discrete\PYZus{}sequence}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{teal}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
\PY{n}{fig\PYZus{}2017}\PY{o}{.}\PY{n}{update\PYZus{}xaxes}\PY{p}{(}\PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig\PYZus{}2017}\PY{o}{.}\PY{n}{update\PYZus{}yaxes}\PY{p}{(}\PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig\PYZus{}2017}\PY{o}{.}\PY{n}{update\PYZus{}layout}\PY{p}{(}\PY{n}{legend\PYZus{}title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{A√±o}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}

\PY{n}{fig\PYZus{}boxplot\PYZus{}2017} \PY{o}{=} \PY{n}{px}\PY{o}{.}\PY{n}{box}\PY{p}{(}\PY{n}{df\PYZus{}energy\PYZus{}2017}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
              \PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Boxplot de Precio de Energ√≠a El√©ctrica \PYZhy{} Espa√±a (2017)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
              \PY{n}{labels}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Precio de Energ√≠a El√©ctrica [‚Ç¨/MWh]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{,}
              \PY{n}{color\PYZus{}discrete\PYZus{}sequence}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{teal}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
\PY{n}{fig\PYZus{}boxplot\PYZus{}2017}\PY{o}{.}\PY{n}{update\PYZus{}xaxes}\PY{p}{(}\PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig\PYZus{}boxplot\PYZus{}2017}\PY{o}{.}\PY{n}{update\PYZus{}yaxes}\PY{p}{(}\PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig\PYZus{}boxplot\PYZus{}2017}\PY{o}{.}\PY{n}{update\PYZus{}layout}\PY{p}{(}\PY{n}{legend\PYZus{}title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{A√±o}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}

\PY{n}{fig\PYZus{}2017}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\PY{n}{fig\PYZus{}boxplot\PYZus{}2017}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    
    
    
    
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{79}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{pio}\PY{o}{.}\PY{n}{templates}\PY{o}{.}\PY{n}{default} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ggplot2}\PY{l+s+s2}{\PYZdq{}}

\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{time}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{to\PYZus{}datetime}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{time}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{set\PYZus{}index}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{time}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}

\PY{n}{df\PYZus{}energy\PYZus{}2018} \PY{o}{=} \PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{year} \PY{o}{==} \PY{l+m+mi}{2018}\PY{p}{]}

\PY{n}{fig\PYZus{}2018} \PY{o}{=} \PY{n}{px}\PY{o}{.}\PY{n}{histogram}\PY{p}{(}\PY{n}{df\PYZus{}energy\PYZus{}2018}\PY{p}{,} \PY{n}{x}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{nbins}\PY{o}{=}\PY{l+m+mi}{30}\PY{p}{,}
              \PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Distribuci√≥n de Precio de Energ√≠a El√©ctrica \PYZhy{} Espa√±a (2018)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
              \PY{n}{labels}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Precio de Energ√≠a El√©ctrica [‚Ç¨/MWh]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{,}
              \PY{n}{color\PYZus{}discrete\PYZus{}sequence}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{teal}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
\PY{n}{fig\PYZus{}2018}\PY{o}{.}\PY{n}{update\PYZus{}xaxes}\PY{p}{(}\PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig\PYZus{}2018}\PY{o}{.}\PY{n}{update\PYZus{}yaxes}\PY{p}{(}\PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig\PYZus{}2018}\PY{o}{.}\PY{n}{update\PYZus{}layout}\PY{p}{(}\PY{n}{legend\PYZus{}title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{A√±o}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}

\PY{n}{fig\PYZus{}boxplot\PYZus{}2018} \PY{o}{=} \PY{n}{px}\PY{o}{.}\PY{n}{box}\PY{p}{(}\PY{n}{df\PYZus{}energy\PYZus{}2018}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
              \PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Boxplot de Precio de Energ√≠a El√©ctrica \PYZhy{} Espa√±a (2018)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
              \PY{n}{labels}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Precio de Energ√≠a El√©ctrica [‚Ç¨/MWh]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{,}
              \PY{n}{color\PYZus{}discrete\PYZus{}sequence}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{teal}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
\PY{n}{fig\PYZus{}boxplot\PYZus{}2018}\PY{o}{.}\PY{n}{update\PYZus{}xaxes}\PY{p}{(}\PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig\PYZus{}boxplot\PYZus{}2018}\PY{o}{.}\PY{n}{update\PYZus{}yaxes}\PY{p}{(}\PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig\PYZus{}boxplot\PYZus{}2018}\PY{o}{.}\PY{n}{update\PYZus{}layout}\PY{p}{(}\PY{n}{legend\PYZus{}title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{A√±o}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}

\PY{n}{fig\PYZus{}2018}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\PY{n}{fig\PYZus{}boxplot\PYZus{}2018}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    
    
    
    
    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 1px solid #240b36; font-size: 18px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    üí°- Precio - A√±o 2015: Ha alcanzado con poca frecuencia valores muy bajos (cercanos a los 20 ‚Ç¨/MWh) y valores muy elevados (cercanos a los 100 ‚Ç¨/MWh).
    </p>
    üí°- Precio - A√±o 2016: Ha alcanzado valores m√°s bajos que el a√±o anterior, llegando incluso a valores de 10 ‚Ç¨/MWh.
    </p>
    üí°- Precio - A√±o 2017: Ha mantenido elevados en reiteradas ocasiones, llegando a los mencionados 100 ‚Ç¨/MWh. Se trata de un a√±o marcado por la subida del precio de la energ√≠a el√©ctrica.
    </p>
    üí°- Precio - A√±o 2018: Ha alcanzado, tambi√©n con mucha menos frecuencia, valores muy bajos (del orden de los 10 ‚Ç¨/MWh). Sin embargo, esta distribuci√≥n es la que m√°s desplazada hacia la derecha se encuentra.
\end{verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: left; background-color: #f5d769; padding: 1px; border-radius: 5px;">
      ‚ö° Interrogante 9. Valores at√≠picos de las variables climatol√≥gicas. ¬øQu√© comportamientos presentan las variables, analizando sus valores at√≠picos? ¬øQu√© toma de decisi√≥n se puede realizar con el an√°lisis?
\end{verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 1px solid #240b36; font-size: 16px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    Se utilizar√°n gr√°ficos del tipo boxplot, los cuales ayudan a entender el comportamiento de las variables climatol√≥gicas.
    </p>
    Se hace √©nfasis en valores que afectan al an√°lisis. Esto se puede llevar por el camino de hacer una revisi√≥n de los eventos hist√≥ricos -del tipo clim√°ticos- en el pa√≠s.
\end{verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 1px solid #240b36; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    Variable presi√≥n
    <h1 style="border: 1px solid #240b36; font-size: 16px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    Se consulta en un boxplot la informaci√≥n proporcionada por los datos:
    <h1 style="border: 1px solid #240b36; font-size: 18px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    üí°- Teniendo en cuenta que el valor m√°ximo de presi√≥n registrado en Espa√±a es de 1051 HPa <a href="https://en.wikipedia.org/wiki/List_of_atmospheric_pressure_records_in_Europe#Iberia" target="_blank">(seg√∫n fuente)</a>, todo valor superior a ese mismo, ser√° considerado un outlier. An√°logo a esto, valores menores a 950 ser√°n considerados tambi√©n outliers, debido a que el valor m√≠nimo de presi√≥n registrado en el pa√≠s fue de dicho valor.
    </p>
    üí°- Se tratar√°n a estos valores de forma tal que queden transformados en valores NaN.
    </p>
    üí°- Posteriormente, se utilizar√° el metodo de interpolaci√≥n lineal para transformarlos nuevamente en valores num√©ricos y √∫tiles en el an√°lisis.
\end{verbatim}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{80}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{sns}\PY{o}{.}\PY{n}{set}\PY{p}{(}\PY{n}{style}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{white}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{font\PYZus{}scale}\PY{o}{=}\PY{l+m+mf}{1.2}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{14}\PY{p}{,} \PY{l+m+mi}{6}\PY{p}{)}\PY{p}{)}
\PY{n}{sns}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{n}{df\PYZus{}weather}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{pressure}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}DEB887}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Valores de presi√≥n atmosf√©rica [HPa]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{12}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Boxplot de valores de presi√≥n atmosf√©rica [HPa] \PYZhy{} Espa√±a 2015\PYZhy{}2018}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}

\PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{PROYECTO_files/PROYECTO_210_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{itemize}
\tightlist
\item
  Reemplazo de valores outliers por valores NaN
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{81}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}weather}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{df\PYZus{}weather}\PY{o}{.}\PY{n}{pressure} \PY{o}{\PYZgt{}} \PY{l+m+mi}{1051}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{pressure}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nan}
\PY{n}{df\PYZus{}weather}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{df\PYZus{}weather}\PY{o}{.}\PY{n}{pressure} \PY{o}{\PYZlt{}} \PY{l+m+mi}{950}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{pressure}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nan}
\end{Verbatim}
\end{tcolorbox}

    \begin{itemize}
\tightlist
\item
  Chequeo - Outliers `pressure'
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{82}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{sns}\PY{o}{.}\PY{n}{set}\PY{p}{(}\PY{n}{style}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{white}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{font\PYZus{}scale}\PY{o}{=}\PY{l+m+mf}{1.2}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{14}\PY{p}{,} \PY{l+m+mi}{6}\PY{p}{)}\PY{p}{)}
\PY{n}{sns}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{n}{df\PYZus{}weather}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{pressure}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}DEB887}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Valores de presi√≥n atmosf√©rica [HPa]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{12}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Boxplot de valores de presi√≥n atmosf√©rica [HPa] \PYZhy{} Espa√±a 2015\PYZhy{}2018}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}

\PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{PROYECTO_files/PROYECTO_214_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 1px solid #240b36; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    Variable velocidad de viento
    <h1 style="border: 1px solid #240b36; font-size: 16px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    Se consulta en un boxplot la informaci√≥n proporcionada por los datos:
    <h1 style="border: 1px solid #240b36; font-size: 18px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    üí°- Se considera que todos los valores superiores a 50 m/s ser√°n tratados como valores outliers. Para la escala de Fujita, entrar√≠an en el rango F1 <a href=https://en.wikipedia.org/wiki/List_of_atmospheric_pressure_records_in_Europe#Iberia target="_blank">(seg√∫n fuente)</a>. Esto, indica que los valores analizados a√∫n ser√≠an tomados como eventos asociados a da√±os moderados, y que casi entrar√≠an en da√±os considerables (casi entrando al rango F2). Por ende, se asocia a estos valores una atipicidad tal de poder eliminarlos con seguridad.
    </p>
    üí°- Se tratar√°n a estos valores de forma tal que queden transformados en valores NaN.
    </p>
    üí°- Posteriormente, se utilizar√° el metodo de interpolaci√≥n lineal para transformarlos nuevamente en valores num√©ricos y √∫tiles en el an√°lisis.
\end{verbatim}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{83}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{14}\PY{p}{,} \PY{l+m+mi}{6}\PY{p}{)}\PY{p}{)}
\PY{n}{sns}\PY{o}{.}\PY{n}{set}\PY{p}{(}\PY{n}{style}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{white}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{font\PYZus{}scale}\PY{o}{=}\PY{l+m+mf}{1.2}\PY{p}{)}
\PY{n}{sns}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{n}{df\PYZus{}weather}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{wind\PYZus{}speed}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}DEB887}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Valores de velocidad de viento [m/s]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{12}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Boxplot de valores de velocidad de viento [m/s] \PYZhy{} Espa√±a 2015\PYZhy{}2018}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}

\PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{PROYECTO_files/PROYECTO_216_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{itemize}
\tightlist
\item
  Reemplazo de valores outliers por valores NaN
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{84}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}weather}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{df\PYZus{}weather}\PY{o}{.}\PY{n}{wind\PYZus{}speed} \PY{o}{\PYZgt{}} \PY{l+m+mi}{50}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{wind\PYZus{}speed}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{nan}
\end{Verbatim}
\end{tcolorbox}

    \begin{itemize}
\tightlist
\item
  Chequeo - Outliers `wind\_speed'
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{85}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{14}\PY{p}{,} \PY{l+m+mi}{6}\PY{p}{)}\PY{p}{)}
\PY{n}{sns}\PY{o}{.}\PY{n}{set}\PY{p}{(}\PY{n}{style}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{white}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{font\PYZus{}scale}\PY{o}{=}\PY{l+m+mf}{1.2}\PY{p}{)}
\PY{n}{sns}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{n}{df\PYZus{}weather}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{wind\PYZus{}speed}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}DEB887}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Valores de velocidad de viento [m/s]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{12}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Boxplot de valores de velocidad de viento [m/s] \PYZhy{} Espa√±a 2015\PYZhy{}2018}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}

\PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{PROYECTO_files/PROYECTO_220_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{itemize}
\tightlist
\item
  Visualizaci√≥n de los valores NaN en el dataframe (considerando
  variables presi√≥n y velocidad de viento)
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{86}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}weather}\PY{p}{[}\PY{n}{df\PYZus{}weather}\PY{o}{.}\PY{n}{isnull}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{any}\PY{p}{(}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}\PY{p}{]}
\PY{n}{df\PYZus{}weather}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{86}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
                    city\_name     temp  temp\_min  temp\_max  pressure  \textbackslash{}
time
2015-01-01 00:00:00  Valencia  270.475   270.475   270.475    1001.0
2015-01-01 01:00:00  Valencia  269.686   269.686   269.686    1002.0
2015-01-01 02:00:00  Valencia  269.686   269.686   269.686    1002.0
2015-01-01 03:00:00  Valencia  269.686   269.686   269.686    1002.0
2015-01-01 04:00:00  Valencia  270.292   270.292   270.292    1004.0
{\ldots}                       {\ldots}      {\ldots}       {\ldots}       {\ldots}       {\ldots}
2018-12-31 18:00:00   Seville  287.760   287.150   288.150    1028.0
2018-12-31 19:00:00   Seville  285.760   285.150   286.150    1029.0
2018-12-31 20:00:00   Seville  285.150   285.150   285.150    1028.0
2018-12-31 21:00:00   Seville  284.150   284.150   284.150    1029.0
2018-12-31 22:00:00   Seville  283.970   282.150   285.150    1029.0

                     humidity  wind\_speed  wind\_deg  rain\_1h  rain\_3h  \textbackslash{}
time
2015-01-01 00:00:00      77.0         1.0      62.0      0.0      0.0
2015-01-01 01:00:00      78.0         0.0      23.0      0.0      0.0
2015-01-01 02:00:00      78.0         0.0      23.0      0.0      0.0
2015-01-01 03:00:00      78.0         0.0      23.0      0.0      0.0
2015-01-01 04:00:00      71.0         2.0     321.0      0.0      0.0
{\ldots}                       {\ldots}         {\ldots}       {\ldots}      {\ldots}      {\ldots}
2018-12-31 18:00:00      54.0         3.0      30.0      0.0      0.0
2018-12-31 19:00:00      62.0         3.0      30.0      0.0      0.0
2018-12-31 20:00:00      58.0         4.0      50.0      0.0      0.0
2018-12-31 21:00:00      57.0         4.0      60.0      0.0      0.0
2018-12-31 22:00:00      70.0         3.0      50.0      0.0      0.0

                     snow\_3h  clouds\_all
time
2015-01-01 00:00:00      0.0         0.0
2015-01-01 01:00:00      0.0         0.0
2015-01-01 02:00:00      0.0         0.0
2015-01-01 03:00:00      0.0         0.0
2015-01-01 04:00:00      0.0         0.0
{\ldots}                      {\ldots}         {\ldots}
2018-12-31 18:00:00      0.0         0.0
2018-12-31 19:00:00      0.0         0.0
2018-12-31 20:00:00      0.0         0.0
2018-12-31 21:00:00      0.0         0.0
2018-12-31 22:00:00      0.0         0.0

[175315 rows x 12 columns]
\end{Verbatim}
\end{tcolorbox}
        
    \begin{itemize}
\tightlist
\item
  Relleno valores NaN empleando la interpolaci√≥n lineal mencionada.

  \begin{itemize}
  \tightlist
  \item
    La direcci√≥n es ``hacia abajo'' en el dataframe
  \end{itemize}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{87}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}weather}\PY{o}{.}\PY{n}{interpolate}\PY{p}{(}\PY{n}{method}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{linear}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{limit\PYZus{}direction}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{forward}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{itemize}
\tightlist
\item
  Chequeo por los valores NaNs en df\_weather (luego de tratar outliers)
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{88}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{conteo\PYZus{}missing\PYZus{}2} \PY{o}{=} \PY{n}{df\PYZus{}weather}\PY{o}{.}\PY{n}{isnull}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}
\PY{n+nb}{print}\PY{p}{(}\PY{l+s+sa}{f}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Existen }\PY{l+s+si}{\PYZob{}}\PY{n}{conteo\PYZus{}missing\PYZus{}2}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s1}{ valores NaN en df\PYZus{}weather, luego de aplicar el tratamiento de outliers.}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
Existen 0 valores NaN en df\_weather, luego de aplicar el tratamiento de
outliers.
    \end{Verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 1px solid #240b36; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    Variable lluvia
    <h1 style="border: 1px solid #240b36; font-size: 16px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    Se consulta en un gr√°fico de l√≠nea la informaci√≥n proporcionada por los datos:
    <h1 style="border: 1px solid #240b36; font-size: 16px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    Teniendo en cuenta que los valores de 'rain_3h' deber√≠an ser mayores que los de la variable 'rain_1h', se grafican los datos a lo largo del per√≠odo 2015-2018.
    <h1 style="border: 1px solid #240b36; font-size: 18px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    üí°- Se eliminar√° a la variable 'rain_3h' en caso de que los valores de lluvia en las √∫ltimas 3 horas sean menores que los de la √∫ltima hora, cuesti√≥n que ocurre cuando se presenta el siguiente gr√°fico.
\end{verbatim}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{89}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{sns}\PY{o}{.}\PY{n}{set}\PY{p}{(}\PY{n}{style}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{white}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{font\PYZus{}scale}\PY{o}{=}\PY{l+m+mf}{1.2}\PY{p}{)}

\PY{n}{rain\PYZus{}features} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rain\PYZus{}1h}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rain\PYZus{}3h}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}

\PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{18}\PY{p}{,} \PY{l+m+mi}{12}\PY{p}{)}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{df\PYZus{}weather}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rain\PYZus{}1h}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Rain 1h}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{marker}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{o}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}DEB887}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{df\PYZus{}weather}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rain\PYZus{}3h}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Rain 3h}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{marker}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{.}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{navy}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Tiempo de muestra}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{ylabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Cantidad de lluvia (mm)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{title}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Gr√°fico de l√≠neas \PYZhy{} Comparativa }\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{rain 1h}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{ vs }\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{rain 3h}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Valores de lluvia}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{title\PYZus{}fontsize}\PY{o}{=}\PY{l+m+mi}{10}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{10}\PY{p}{,} \PY{n}{loc}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{upper right}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}

\PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{PROYECTO_files/PROYECTO_228_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{itemize}
\tightlist
\item
  Elimincai√≥n de la columna `rain\_3h'
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{90}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}weather} \PY{o}{=} \PY{n}{df\PYZus{}weather}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rain\PYZus{}3h}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 1px solid #240b36; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    Variable de temperatura
    <h1 style="border: 1px solid #240b36; font-size: 16px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    Se har√° la conversi√≥n de los valores de temperatura para las columnas 'temp', 'temp_max', y 'temp_min' de grados Kelvin a grados Celsius - El m√©todo que se utiliza es con definici√≥n de una funci√≥n y luego aplicando "apply".
     <h1 style="border: 1px solid #240b36; font-size: 16px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    Luego, se proceden a eliminar las columnas de temperaturas con valores en grados Kelvin.
     <h1 style="border: 1px solid #240b36; font-size: 18px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    üí°- La relaci√≥n matem√°tica empleada para hacer la conversi√≥n de unidad de temperatura es la siguiente: t(¬∞C)= T(K)-273,15
\end{verbatim}

    \begin{itemize}
\tightlist
\item
  Funci√≥n para conversi√≥n de temperatura
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{91}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k}{def} \PY{n+nf}{kelvin\PYZus{}to\PYZus{}celsius}\PY{p}{(}\PY{n}{temp\PYZus{}kelvin}\PY{p}{)}\PY{p}{:}
    \PY{k}{return} \PY{n}{temp\PYZus{}kelvin} \PY{o}{\PYZhy{}} \PY{l+m+mf}{273.15}

\PY{n}{df\PYZus{}weather}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{temp\PYZus{}c}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{df\PYZus{}weather}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{temp}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{n}{kelvin\PYZus{}to\PYZus{}celsius}\PY{p}{)}
\PY{n}{df\PYZus{}weather}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{temp\PYZus{}max\PYZus{}c}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{df\PYZus{}weather}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{temp\PYZus{}max}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{n}{kelvin\PYZus{}to\PYZus{}celsius}\PY{p}{)}
\PY{n}{df\PYZus{}weather}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{temp\PYZus{}min\PYZus{}c}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{df\PYZus{}weather}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{temp\PYZus{}min}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{apply}\PY{p}{(}\PY{n}{kelvin\PYZus{}to\PYZus{}celsius}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{itemize}
\tightlist
\item
  Eliminaci√≥n de las columnas originales (usadas en grados Kelvin)
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{92}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}weather} \PY{o}{=} \PY{n}{df\PYZus{}weather}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{temp}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{temp\PYZus{}max}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{temp\PYZus{}min}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{itemize}
\tightlist
\item
  Chequeo final de variables con el m√©todo ``.describe''
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{93}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}weather}\PY{o}{.}\PY{n}{describe}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{93}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
            pressure       humidity     wind\_speed       wind\_deg  \textbackslash{}
count  175315.000000  175315.000000  175315.000000  175315.000000
mean     1016.198528      68.031897       2.468987     166.725808
std        11.590460      21.838145       2.064999     116.548791
min       950.000000       0.000000       0.000000       0.000000
25\%      1013.000000      53.000000       1.000000      56.000000
50\%      1018.000000      72.000000       2.000000     178.000000
75\%      1022.000000      87.000000       4.000000     270.000000
max      1048.000000     100.000000      43.000000     360.000000

            rain\_1h        snow\_3h     clouds\_all         temp\_c  \textbackslash{}
count  175315.00000  175315.000000  175315.000000  175315.000000
mean        0.06931       0.004847      24.344751      16.558142
std         0.38592       0.224550      30.339676       8.024454
min         0.00000       0.000000       0.000000     -10.910000
25\%         0.00000       0.000000       0.000000      10.680000
50\%         0.00000       0.000000      16.000000      16.000000
75\%         0.00000       0.000000      40.000000      22.090000
max        12.00000      21.500000     100.000000      42.450000

          temp\_max\_c     temp\_min\_c
count  175315.000000  175315.000000
mean       18.022788      15.278888
std         8.613420       7.947862
min       -10.910000     -10.910000
25\%        11.762500       9.639000
50\%        17.000000      15.000000
75\%        24.000000      21.000000
max        48.000000      42.000000
\end{Verbatim}
\end{tcolorbox}
        
    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: left; background-color: #f5d769; padding: 1px; border-radius: 5px;">
      ‚ö° Interrogante 10. Generaci√≥n energ√©tica. ¬øCu√°l es el aporte absoluto de cada fuente de energ√≠a (renovable o convencional) a su generaci√≥n total? ¬øQu√© comportamiento exhibe cada fuente?
\end{verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 1px solid #240b36; font-size: 16px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    Un gr√°fico de barras para la generaci√≥n el√©ctrica, seg√∫n el tipo de fuente empleada y para cada a√±o, resulta una buena idea para contestar el interrogante.
    </p>
    Se buscar√° hallar un comportamiento particular, para cada tipo de generaci√≥n, en materia de su aporte global, para el plazo de un a√±o.
\end{verbatim}

    \begin{itemize}
\tightlist
\item
  Gr√°fico interactivo para evaluar el aporte anual de cada tipo de
  generaci√≥n - bar chart -
\item
  Empleo del m√©todo ``groupby'' para hacer la sumatoria de cada variable
  en todo el per√≠odo temporal
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{94}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{pio}\PY{o}{.}\PY{n}{templates}\PY{o}{.}\PY{n}{default} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ggplot2}\PY{l+s+s2}{\PYZdq{}}

\PY{n}{columnas}\PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation fossil gas}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation fossil hard coal}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation fossil brown coal/lignite}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation fossil oil}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation nuclear}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
           \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation hydro water reservoir}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation hydro pumped storage consumption}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation hydro run\PYZhy{}of\PYZhy{}river and poundage}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation biomass}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation wind onshore}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation solar}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}

\PY{n}{df\PYZus{}energy\PYZus{}2015\PYZus{}2018} \PY{o}{=} \PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{year} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mi}{2015}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{year} \PY{o}{\PYZlt{}}\PY{o}{=} \PY{l+m+mi}{2018}\PY{p}{)}\PY{p}{]}
\PY{n}{df\PYZus{}energy\PYZus{}2015\PYZus{}2018\PYZus{}sum} \PY{o}{=} \PY{n}{df\PYZus{}energy\PYZus{}2015\PYZus{}2018}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{n}{df\PYZus{}energy\PYZus{}2015\PYZus{}2018}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{year}\PY{p}{)}\PY{p}{[}\PY{n}{columnas}\PY{p}{]}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}

\PY{n}{palette} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}929591}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}D1B26F}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}653700}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}FBDD7E}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}15B01A}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}4C78A8}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}0099C6}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}19D3F3}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}006400}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}069AF3}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}FFA500}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}

\PY{n}{fig} \PY{o}{=} \PY{n}{px}\PY{o}{.}\PY{n}{bar}\PY{p}{(}\PY{n}{df\PYZus{}energy\PYZus{}2015\PYZus{}2018\PYZus{}sum}\PY{p}{,} \PY{n}{x}\PY{o}{=}\PY{n}{df\PYZus{}energy\PYZus{}2015\PYZus{}2018\PYZus{}sum}\PY{o}{.}\PY{n}{index}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{n}{columnas}\PY{p}{,} \PY{n}{color\PYZus{}discrete\PYZus{}sequence}\PY{o}{=}\PY{n}{palette}\PY{p}{,}
             \PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Generaci√≥n energ√©tica por tipo de fuente de energ√≠a \PYZhy{} Espa√±a (2015\PYZhy{}2018)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
             \PY{n}{labels}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{value}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Generaci√≥n energ√©tica [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{variable}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Tipo de energ√≠a seg√∫n fuente empleada}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{,}
             \PY{n}{category\PYZus{}orders}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{index}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{p}{[}\PY{n+nb}{str}\PY{p}{(}\PY{n}{year}\PY{p}{)} \PY{k}{for} \PY{n}{year} \PY{o+ow}{in} \PY{n}{df\PYZus{}energy\PYZus{}2015\PYZus{}2018\PYZus{}sum}\PY{o}{.}\PY{n}{index}\PY{p}{]}\PY{p}{\PYZcb{}}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}xaxes}\PY{p}{(}\PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}yaxes}\PY{p}{(}\PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}xaxes}\PY{p}{(}\PY{n}{categoryorder}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{array}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}xaxes}\PY{p}{(}\PY{n}{dtick}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    
    
    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
     <h1 style="border: 1px solid #240b36; font-size: 18px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    üí°- La generaci√≥n e√≥lica encabeza la mayor aportante en cuanto a energ√≠a generada, seguida por la hidroel√©ctrica, la solar y las derivadas de la biomasa.
    </p>
    üí°- El aporte de las renovables durante todos los a√±os evaluados es similar.
    </p>
    üí°- La energ√≠a nuclear est√° muy presente en el aporte de generaci√≥n a la matriz energ√©tica, y tambi√©n presenta un comportamiento id√©ntico en cada per√≠odo.
    </p>
    üí°- Las energ√≠as convencionales presentan una flexibilidad m√°s visible en materia de generaci√≥n, debido a que "cubren" la cantidad demandada que no pueden abastecer las renovables o la nuclear.
    </p>
    üí°- No se incluyen otras formas de generaci√≥n de energ√≠a (fuente de residuos y otras renovables) porque aportan poco al an√°lisis para responder √©ste interrogante.
\end{verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: left; background-color: #f5d769; padding: 1px; border-radius: 5px;">
      ‚ö° Interrogante 11. Generaci√≥n energ√©tica. ¬øC√≥mo se da la evoluci√≥n en el aporte de cada fuente de generaci√≥n energ√©tica en un per√≠odo anual? ¬øY c√≥mo se da la evoluci√≥n en el aporte de cada fuente de generaci√≥n energ√©tica en un per√≠odo diario? ¬øQu√© relaci√≥n se puede obtener si se incluye la variable precio a estas visualizaciones?
\end{verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 1px solid #240b36; font-size: 16px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    Se utilizan gr√°ficos de l√≠neas para visualizar la serie temporal y el comportamiento de las renovables, convencionales y la variable precio en conjunto.
    </p>
    Se podr√° obtener la pauta sobre los per√≠odos del a√±o en donde es m√°s frecuente encontrar una mayor o menor cantidad de energ√≠a producida desde las fuentes renovables (el ejemplo cl√°sico es el de la solar: durante las estaciones de verano produce mucho m√°s). √çdem que en el caso anterior, pero para el caso de las convencionales, se deber√° buscar en qu√© momento se halla una relaci√≥n fuerte entre generaci√≥n convencional y per√≠odo estacional.
    </p>
    Incluyendo a la variable precio dentro del an√°lisis de generaci√≥n energ√©tica, lograr√° identificar c√≥mo se comporta la variable target en el plazo de tiempo diario. Valores del precio elevados, o, en su defecto, bajos, deber√°n ser relacionados en base a la generaci√≥n existente, e identificar c√≥mo se da el mix energ√©tico entre cada tipo de producci√≥n.
\end{verbatim}

    \begin{itemize}
\tightlist
\item
  Gr√°fico interactivo para evaluar la evoluci√≥n anual de cada tipo de
  generaci√≥n - line chart -
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{95}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{pio}\PY{o}{.}\PY{n}{templates}\PY{o}{.}\PY{n}{default} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ggplot2}\PY{l+s+s2}{\PYZdq{}}

\PY{n}{df\PYZus{}energy\PYZus{}2015\PYZus{}2018} \PY{o}{=} \PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{year} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mi}{2015}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{year} \PY{o}{\PYZlt{}}\PY{o}{=} \PY{l+m+mi}{2018}\PY{p}{)}\PY{p}{]}

\PY{n}{columnas\PYZus{}convencionales} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation fossil gas}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation fossil hard coal}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation fossil brown coal/lignite}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation fossil oil}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation nuclear}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
\PY{n}{columnas\PYZus{}renovables} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation hydro water reservoir}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation hydro pumped storage consumption}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation hydro run\PYZhy{}of\PYZhy{}river and poundage}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation biomass}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation wind onshore}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation solar}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}

\PY{n}{colors} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}929591}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}D1B26F}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}653700}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}FBDD7E}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}15B01A}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}4C78A8}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}0099C6}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}19D3F3}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}006400}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}069AF3}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}FFA500}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}

\PY{n}{fig\PYZus{}energia} \PY{o}{=} \PY{n}{go}\PY{o}{.}\PY{n}{Figure}\PY{p}{(}\PY{p}{)}

\PY{k}{for} \PY{n}{i}\PY{p}{,} \PY{n}{columna} \PY{o+ow}{in} \PY{n+nb}{enumerate}\PY{p}{(}\PY{n}{columnas\PYZus{}convencionales} \PY{o}{+} \PY{n}{columnas\PYZus{}renovables}\PY{p}{)}\PY{p}{:}
    \PY{n}{fig\PYZus{}energia}\PY{o}{.}\PY{n}{add\PYZus{}trace}\PY{p}{(}\PY{n}{go}\PY{o}{.}\PY{n}{Scatter}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{n}{df\PYZus{}energy\PYZus{}2015\PYZus{}2018}\PY{o}{.}\PY{n}{index}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{n}{df\PYZus{}energy\PYZus{}2015\PYZus{}2018}\PY{p}{[}\PY{n}{columna}\PY{p}{]}\PY{p}{,} \PY{n}{mode}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{lines}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{name}\PY{o}{=}\PY{n}{columna}\PY{p}{,} \PY{n}{line}\PY{o}{=}\PY{n+nb}{dict}\PY{p}{(}\PY{n}{color}\PY{o}{=}\PY{n}{colors}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{)}\PY{p}{)}\PY{p}{)}

\PY{n}{fig\PYZus{}energia}\PY{o}{.}\PY{n}{add\PYZus{}trace}\PY{p}{(}\PY{n}{go}\PY{o}{.}\PY{n}{Scatter}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{n}{df\PYZus{}energy\PYZus{}2015\PYZus{}2018}\PY{o}{.}\PY{n}{index}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{n}{df\PYZus{}energy\PYZus{}2015\PYZus{}2018}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{mode}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{lines}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{name}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Precio [‚Ç¨/MWh]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{yaxis}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{y2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{line}\PY{o}{=}\PY{n+nb}{dict}\PY{p}{(}\PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}\PY{p}{)}
\PY{n}{fig\PYZus{}energia}\PY{o}{.}\PY{n}{update\PYZus{}layout}\PY{p}{(}
    \PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Generaci√≥n de Energ√≠a y Precio \PYZhy{} Espa√±a (2015\PYZhy{}2018)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
    \PY{n}{xaxis\PYZus{}title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Per√≠odo Temporal}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
    \PY{n}{yaxis\PYZus{}title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Generaci√≥n de Energ√≠a [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
    \PY{n}{yaxis2}\PY{o}{=}\PY{n+nb}{dict}\PY{p}{(}\PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Precio [‚Ç¨/MWh]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{overlaying}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{y}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{side}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{right}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,}
\PY{p}{)}
\PY{n}{fig\PYZus{}energia}\PY{o}{.}\PY{n}{update\PYZus{}layout}\PY{p}{(}\PY{n}{showlegend}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{legend}\PY{o}{=}\PY{n+nb}{dict}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{l+m+mf}{1.05}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{o}{\PYZhy{}}\PY{l+m+mf}{0.32}\PY{p}{)}\PY{p}{)}
\PY{n}{fig\PYZus{}energia}\PY{o}{.}\PY{n}{update\PYZus{}xaxes}\PY{p}{(}
    \PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,}
    \PY{n}{rangeslider\PYZus{}visible}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,}
    \PY{n}{rangeselector}\PY{o}{=}\PY{n+nb}{dict}\PY{p}{(}
        \PY{n}{buttons}\PY{o}{=}\PY{n+nb}{list}\PY{p}{(}\PY{p}{[}
            \PY{n+nb}{dict}\PY{p}{(}\PY{n}{count}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{1 d√≠a}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{day}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{stepmode}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{backward}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}\PY{p}{,}
            \PY{n+nb}{dict}\PY{p}{(}\PY{n}{count}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{1 mes}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{month}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{stepmode}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{backward}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}\PY{p}{,}
            \PY{n+nb}{dict}\PY{p}{(}\PY{n}{count}\PY{o}{=}\PY{l+m+mi}{6}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{6 meses}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{month}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{stepmode}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{backward}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}\PY{p}{,}
            \PY{n+nb}{dict}\PY{p}{(}\PY{n}{count}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{1 a√±o}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{year}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{stepmode}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{backward}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}\PY{p}{,}
            \PY{n+nb}{dict}\PY{p}{(}\PY{n}{label}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Todos los registros}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{step}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{all}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
        \PY{p}{]}\PY{p}{)}
    \PY{p}{)}
\PY{p}{)}
\PY{n}{fig\PYZus{}energia}\PY{o}{.}\PY{n}{update\PYZus{}yaxes}\PY{p}{(}\PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig\PYZus{}energia}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    
    \begin{Verbatim}[commandchars=\\\{\}]
Output hidden; open in https://colab.research.google.com to view.
    \end{Verbatim}

    
    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 1px solid #240b36; font-size: 16px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    Para un per√≠odo anual:
      <h1 style="border: 1px solid #240b36; font-size: 18px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
      üí°- Sector de la energ√≠a nuclear: presenta un comportamiento constante y tiene gran participaci√≥n en la matriz de generaci√≥n el√©ctrica.
      </p>
      üí°- La misma situaci√≥n ocurre con el del gas natural. La tecnolog√≠a que admite esta producci√≥n se asienta muy bien para abastecer cualquier imprevisto en la modificaci√≥n de la demanda. Una forma clara de visualizar esto, es que este tipo de generaci√≥n siempre alcanza el piso de los 5000 MW abastecidos.
      </p>
      üí°- El sector del carb√≥n no presenta un comportamiento muy regular, como s√≠ ocurre en los dos casos anteriores. Particularmente, el carb√≥n marr√≥n casi que no tiene participaci√≥n a escala anual, comparada con las dem√°s fuentes de energ√≠a.
      </p>
      üí°- Para el sector de las energ√≠as renovables, se puede observar una mayor participaci√≥n en la estaci√≥n de verano para la energ√≠a solar, debido a que las condiciones de temperatura y nubosidad son √≥ptimas. Estas condiciones son √≥ptimas para que las tecnolog√≠as que se utilizan demuestren todo su potencial.
      </p>
      üí°- Siguiendo con las renovables, se puede observar una gran participaci√≥n de la energ√≠a e√≥lica a lo largo del a√±o, seguida por la hidroel√©ctrica, y en mucha menor medida por la biomasa. La alta generaci√≥n provocada por la e√≥lica, en per√≠odos que no forman parte del verano (ej. enero hasta marzo), tienen que ver con las condiciones clim√°ticas que garantizan buenas velocidades del viento. De igual manera, un adecuado nivel de precipitaciones garantiza una mayor producci√≥n para el sector hidroel√©ctrico.
    <h1 style="border: 1px solid #240b36; font-size: 16px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    Para un per√≠odo diario, se toman dos d√≠as aleatorios -uno de primavera (17/11/2018) y otro de verano (25/07/2018)-:
      <h1 style="border: 1px solid #240b36; font-size: 18px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
      üí°- La energ√≠a solar es predominante durante las horas de sol, esto es, entre las 08:00 y 16:00 hs.
      </p>
      üí°- La energ√≠a nuclear aporta una elevada generaci√≥n de forma constante (plena potencia), y puede vender toda la energ√≠a producida al mercado.
      </p>
      üí°- La energ√≠a e√≥lica, al igual que la nuclear, presenta una importante relevancia en este mercado dentro de todos los tramos horarios. Al igual que la nuclear y la solar, vende toda la energ√≠a producida. Pero hay que tener en cuenta que depende fuertemente de las condiciones clim√°ticas.
      </p>
      üí°- Es importante mencionar que, para las hidroel√©tricas fluyentes, su aporte de generaci√≥n depende del caudal de los r√≠os (dependientes de las precipitaciones y niveles de agua). Para las dem√°s hidroel√©ctricas (bombeo y reservorio), no se presenta este problema con frecuencia, debido a que su sistema de producci√≥n logra una gesti√≥n m√°s eficiente de sus recursos (no es tan intermitente como la otra).
      </p>
      üí°- La energ√≠a producida por, principalmente, gas natural, carb√≥n y fueloil, son de gran importancia en el mercado. Cuando no hay producci√≥n de energ√≠a solar (ausencia de radiaci√≥n proveniente del sol), estas tecnolog√≠as asisten a la generaci√≥n energ√©tica. Las tecnolog√≠as que utilizan gas natural, se asientan de muy buena forma en el sector de la generaci√≥n, como se coment√≥.
      </p>
      üí°- Al tenerse en cuenta el d√≠a de verano, la tecnolog√≠as que utilizan la energ√≠a solar incluyen sistemas de almacenamiento de energ√≠a para maximizar su producci√≥n durante los per√≠odos en ausencia de luz solar (cuesti√≥n que, generalmente, no ocurre durante las otras estaciones del a√±o, por cuestiones de costos). Por ende, durante el verano, la energ√≠a solar explota todo su potencial.
\end{verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 1px solid #240b36; font-size: 16px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    Para completar el an√°lisis, se presentan dos tablas que muestran las variables estudiadas y su comportamiento.
\end{verbatim}

    \begin{itemize}
\tightlist
\item
  Creaci√≥n de una tabla para d√≠a de primavera - aleatorio -,
  visualizando:

  \begin{itemize}
  \tightlist
  \item
    Variable precio
  \item
    Promedio del precio en ese d√≠a
  \item
    Generaci√≥n renovable, en MW
  \item
    Generaci√≥n convencional, en MW
  \item
    Generaci√≥n total, en MW
  \item
    Generaci√≥n en ese d√≠a, en MW
  \end{itemize}
\item
  Creaci√≥n de una tabla para d√≠a de verano - aleatorio -, visualizando:

  \begin{itemize}
  \tightlist
  \item
    Variable precio
  \item
    Promedio del precio en ese d√≠a
  \item
    Generaci√≥n renovable, en MW
  \item
    Generaci√≥n convencional, en MW
  \item
    Generaci√≥n total, en MW
  \item
    Generaci√≥n en ese d√≠a, en MW
  \end{itemize}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{96}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{day} \PY{o}{=} \PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2018\PYZhy{}11\PYZhy{}17}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}

\PY{n}{hourly\PYZus{}data\PYZus{}1} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{index}\PY{o}{=}\PY{n}{day}\PY{o}{.}\PY{n}{index}\PY{p}{)}

\PY{n}{hourly\PYZus{}data\PYZus{}1}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Precio [‚Ç¨/MWh]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{day}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{hourly\PYZus{}data\PYZus{}1}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Promedio precio [‚Ç¨/MWh]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{day}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{hourly\PYZus{}data\PYZus{}1}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Generaci√≥n renovable [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{day}\PY{p}{[}\PY{n}{columnas\PYZus{}renovables}\PY{p}{]}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{hourly\PYZus{}data\PYZus{}1}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Generaci√≥n convencional [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{day}\PY{p}{[}\PY{n}{columnas\PYZus{}convencionales}\PY{p}{]}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{hourly\PYZus{}data\PYZus{}1}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Generaci√≥n total [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{hourly\PYZus{}data\PYZus{}1}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Generaci√≥n renovable [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{+} \PY{n}{hourly\PYZus{}data\PYZus{}1}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Generaci√≥n convencional [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
\PY{n}{hourly\PYZus{}data\PYZus{}1}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sumatoria total [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{hourly\PYZus{}data\PYZus{}1}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Generaci√≥n total [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}

\PY{n}{hourly\PYZus{}data\PYZus{}1}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{96}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
                     Precio [‚Ç¨/MWh]  Promedio precio [‚Ç¨/MWh]  \textbackslash{}
time
2018-11-17 00:00:00            65.1                     65.3
2018-11-17 01:00:00            60.7                     65.3
2018-11-17 02:00:00            58.2                     65.3
2018-11-17 03:00:00            55.2                     65.3
2018-11-17 04:00:00            59.6                     65.3
2018-11-17 05:00:00            60.1                     65.3
2018-11-17 06:00:00            63.0                     65.3
2018-11-17 07:00:00            66.1                     65.3
2018-11-17 08:00:00            70.4                     65.3
2018-11-17 09:00:00            70.1                     65.3
2018-11-17 10:00:00            66.3                     65.3
2018-11-17 11:00:00            63.5                     65.3
2018-11-17 12:00:00            64.6                     65.3
2018-11-17 13:00:00            65.7                     65.3
2018-11-17 14:00:00            64.0                     65.3
2018-11-17 15:00:00            65.8                     65.3
2018-11-17 16:00:00            70.7                     65.3
2018-11-17 17:00:00            75.3                     65.3
2018-11-17 18:00:00            75.5                     65.3
2018-11-17 19:00:00            70.5                     65.3
2018-11-17 20:00:00            69.4                     65.3
2018-11-17 21:00:00            64.4                     65.3
2018-11-17 22:00:00            62.4                     65.3
2018-11-17 23:00:00            61.8                     65.3

                     Generaci√≥n renovable [MW]  Generaci√≥n convencional [MW]  \textbackslash{}
time
2018-11-17 00:00:00                     7665.0                       17090.0
2018-11-17 01:00:00                     7667.0                       15870.0
2018-11-17 02:00:00                     7711.0                       15738.0
2018-11-17 03:00:00                     7744.0                       15096.0
2018-11-17 04:00:00                     7282.0                       15677.0
2018-11-17 05:00:00                     7226.0                       16027.0
2018-11-17 06:00:00                     7182.0                       16698.0
2018-11-17 07:00:00                     7570.0                       17076.0
2018-11-17 08:00:00                     8674.0                       17174.0
2018-11-17 09:00:00                     9387.0                       17122.0
2018-11-17 10:00:00                     9794.0                       17002.0
2018-11-17 11:00:00                    10117.0                       16771.0
2018-11-17 12:00:00                     9666.0                       15996.0
2018-11-17 13:00:00                     9055.0                       16423.0
2018-11-17 14:00:00                     8282.0                       16303.0
2018-11-17 15:00:00                     7585.0                       16999.0
2018-11-17 16:00:00                     8499.0                       17298.0
2018-11-17 17:00:00                    10298.0                       17586.0
2018-11-17 18:00:00                    10463.0                       17637.0
2018-11-17 19:00:00                     9159.0                       17202.0
2018-11-17 20:00:00                     8582.0                       16539.0
2018-11-17 21:00:00                     8268.0                       15939.0
2018-11-17 22:00:00                     8356.0                       15480.0
2018-11-17 23:00:00                     8845.0                       14519.0

                     Generaci√≥n total [MW]  Sumatoria total [MW]
time
2018-11-17 00:00:00                24755.0              600339.0
2018-11-17 01:00:00                23537.0              600339.0
2018-11-17 02:00:00                23449.0              600339.0
2018-11-17 03:00:00                22840.0              600339.0
2018-11-17 04:00:00                22959.0              600339.0
2018-11-17 05:00:00                23253.0              600339.0
2018-11-17 06:00:00                23880.0              600339.0
2018-11-17 07:00:00                24646.0              600339.0
2018-11-17 08:00:00                25848.0              600339.0
2018-11-17 09:00:00                26509.0              600339.0
2018-11-17 10:00:00                26796.0              600339.0
2018-11-17 11:00:00                26888.0              600339.0
2018-11-17 12:00:00                25662.0              600339.0
2018-11-17 13:00:00                25478.0              600339.0
2018-11-17 14:00:00                24585.0              600339.0
2018-11-17 15:00:00                24584.0              600339.0
2018-11-17 16:00:00                25797.0              600339.0
2018-11-17 17:00:00                27884.0              600339.0
2018-11-17 18:00:00                28100.0              600339.0
2018-11-17 19:00:00                26361.0              600339.0
2018-11-17 20:00:00                25121.0              600339.0
2018-11-17 21:00:00                24207.0              600339.0
2018-11-17 22:00:00                23836.0              600339.0
2018-11-17 23:00:00                23364.0              600339.0
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{97}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{summer\PYZus{}day} \PY{o}{=} \PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2018\PYZhy{}07\PYZhy{}25}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}

\PY{n}{hourly\PYZus{}data\PYZus{}2} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{index}\PY{o}{=}\PY{n}{summer\PYZus{}day}\PY{o}{.}\PY{n}{index}\PY{p}{)}

\PY{n}{hourly\PYZus{}data\PYZus{}2}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Precio [‚Ç¨/MWh]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{summer\PYZus{}day}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{hourly\PYZus{}data\PYZus{}2}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Promedio precio [‚Ç¨/MWh]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{summer\PYZus{}day}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{hourly\PYZus{}data\PYZus{}2}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Generaci√≥n renovable [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{summer\PYZus{}day}\PY{p}{[}\PY{n}{columnas\PYZus{}renovables}\PY{p}{]}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{hourly\PYZus{}data\PYZus{}2}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Generaci√≥n convencional [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{summer\PYZus{}day}\PY{p}{[}\PY{n}{columnas\PYZus{}convencionales}\PY{p}{]}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{hourly\PYZus{}data\PYZus{}2}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Generaci√≥n total [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{hourly\PYZus{}data\PYZus{}2}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Generaci√≥n renovable [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{+} \PY{n}{hourly\PYZus{}data\PYZus{}2}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Generaci√≥n convencional [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
\PY{n}{hourly\PYZus{}data\PYZus{}2}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Sumatoria total [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{hourly\PYZus{}data\PYZus{}2}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Generaci√≥n total [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}

\PY{n}{hourly\PYZus{}data\PYZus{}2}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{97}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
                     Precio [‚Ç¨/MWh]  Promedio precio [‚Ç¨/MWh]  \textbackslash{}
time
2018-07-25 00:00:00            63.4                     70.7
2018-07-25 01:00:00            61.3                     70.7
2018-07-25 02:00:00            60.9                     70.7
2018-07-25 03:00:00            61.6                     70.7
2018-07-25 04:00:00            65.6                     70.7
2018-07-25 05:00:00            67.2                     70.7
2018-07-25 06:00:00            71.1                     70.7
2018-07-25 07:00:00            72.8                     70.7
2018-07-25 08:00:00            73.4                     70.7
2018-07-25 09:00:00            75.8                     70.7
2018-07-25 10:00:00            77.1                     70.7
2018-07-25 11:00:00            76.8                     70.7
2018-07-25 12:00:00            76.1                     70.7
2018-07-25 13:00:00            74.6                     70.7
2018-07-25 14:00:00            74.4                     70.7
2018-07-25 15:00:00            74.4                     70.7
2018-07-25 16:00:00            73.4                     70.7
2018-07-25 17:00:00            73.0                     70.7
2018-07-25 18:00:00            71.6                     70.7
2018-07-25 19:00:00            72.6                     70.7
2018-07-25 20:00:00            72.4                     70.7
2018-07-25 21:00:00            71.1                     70.7
2018-07-25 22:00:00            69.3                     70.7
2018-07-25 23:00:00            67.7                     70.7

                     Generaci√≥n renovable [MW]  Generaci√≥n convencional [MW]  \textbackslash{}
time
2018-07-25 00:00:00                     6465.0                       17442.0
2018-07-25 01:00:00                     6251.0                       16902.0
2018-07-25 02:00:00                     6170.0                       16622.0
2018-07-25 03:00:00                     6135.0                       16786.0
2018-07-25 04:00:00                     6698.0                       17491.0
2018-07-25 05:00:00                     6805.0                       18120.0
2018-07-25 06:00:00                     7830.0                       18695.0
2018-07-25 07:00:00                    10263.0                       18917.0
2018-07-25 08:00:00                    11588.0                       18948.0
2018-07-25 09:00:00                    12220.0                       19071.0
2018-07-25 10:00:00                    12759.0                       19191.0
2018-07-25 11:00:00                    13112.0                       19207.0
2018-07-25 12:00:00                    13024.0                       18984.0
2018-07-25 13:00:00                    12559.0                       19139.0
2018-07-25 14:00:00                    12481.0                       19080.0
2018-07-25 15:00:00                    12349.0                       19166.0
2018-07-25 16:00:00                    12049.0                       19464.0
2018-07-25 17:00:00                    11620.0                       19757.0
2018-07-25 18:00:00                     9829.0                       19751.0
2018-07-25 19:00:00                     9096.0                       19814.0
2018-07-25 20:00:00                     8705.0                       19983.0
2018-07-25 21:00:00                     8051.0                       18928.0
2018-07-25 22:00:00                     7249.0                       18090.0
2018-07-25 23:00:00                     6750.0                       17667.0

                     Generaci√≥n total [MW]  Sumatoria total [MW]
time
2018-07-25 00:00:00                23907.0              677273.0
2018-07-25 01:00:00                23153.0              677273.0
2018-07-25 02:00:00                22792.0              677273.0
2018-07-25 03:00:00                22921.0              677273.0
2018-07-25 04:00:00                24189.0              677273.0
2018-07-25 05:00:00                24925.0              677273.0
2018-07-25 06:00:00                26525.0              677273.0
2018-07-25 07:00:00                29180.0              677273.0
2018-07-25 08:00:00                30536.0              677273.0
2018-07-25 09:00:00                31291.0              677273.0
2018-07-25 10:00:00                31950.0              677273.0
2018-07-25 11:00:00                32319.0              677273.0
2018-07-25 12:00:00                32008.0              677273.0
2018-07-25 13:00:00                31698.0              677273.0
2018-07-25 14:00:00                31561.0              677273.0
2018-07-25 15:00:00                31515.0              677273.0
2018-07-25 16:00:00                31513.0              677273.0
2018-07-25 17:00:00                31377.0              677273.0
2018-07-25 18:00:00                29580.0              677273.0
2018-07-25 19:00:00                28910.0              677273.0
2018-07-25 20:00:00                28688.0              677273.0
2018-07-25 21:00:00                26979.0              677273.0
2018-07-25 22:00:00                25339.0              677273.0
2018-07-25 23:00:00                24417.0              677273.0
\end{Verbatim}
\end{tcolorbox}
        
    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
      <h1 style="border: 1px solid #240b36; font-size: 18px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
      üí°- Tanto el precio como la demanda, del d√≠a de verano (25/07) son mayores que los del d√≠a aleatorio considerado (17/11).
      </p>
      üí°- Durante el verano, a pesar de que la generaci√≥n por energ√≠a solar es mayor, la demanda tambi√©n crece en n√∫mero. Esto, admite que otras fuentes de generaci√≥n (como las que emplean combustibles f√≥siles) puedan participar y encarecer el precio.
\end{verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: left; background-color: #f5d769; padding: 1px; border-radius: 5px;">
      ‚ö° Interrogante 12. Proporci√≥n en la generaci√≥n: ¬øCu√°l es la proporci√≥n porcentual de generaci√≥n de energ√≠a proveniente tanto de fuentes renovables como de fuentes convencionales?
\end{verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 1px solid #240b36; font-size: 16px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    Se utilizan gr√°ficos piechart para visualizar el balance del "mix" energ√©tico, entre renovables y convencionales.
\end{verbatim}

    \begin{itemize}
\tightlist
\item
  Gr√°fico interactivo para visualizar el reparto o ``mix'' de generaci√≥n
  el√©ctrica convencional - piechart -

  \begin{itemize}
  \tightlist
  \item
    Se realiza para ambos grupos de variables
  \end{itemize}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{98}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{pio}\PY{o}{.}\PY{n}{templates}\PY{o}{.}\PY{n}{default} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ggplot2}\PY{l+s+s2}{\PYZdq{}}

\PY{k}{def} \PY{n+nf}{piechart\PYZus{}convencionales}\PY{p}{(}\PY{n}{yr}\PY{p}{)}\PY{p}{:}

    \PY{n}{df\PYZus{}energy\PYZus{}piechart\PYZus{}c} \PY{o}{=} \PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{year} \PY{o}{==} \PY{n}{yr}\PY{p}{]}
    \PY{n}{generacion\PYZus{}convencional} \PY{o}{=} \PY{n}{df\PYZus{}energy\PYZus{}piechart\PYZus{}c}\PY{p}{[}\PY{n}{columnas\PYZus{}convencionales}\PY{p}{]}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}
    \PY{n}{data\PYZus{}convencionales} \PY{o}{=} \PY{p}{\PYZob{}}
        \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Fuente de Energ√≠a Convencional}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{columnas\PYZus{}convencionales}\PY{p}{,}
        \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Generaci√≥n de Energ√≠a (MW)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{p}{[}\PY{n}{df\PYZus{}energy\PYZus{}piechart\PYZus{}c}\PY{p}{[}\PY{n}{col}\PY{p}{]}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)} \PY{k}{for} \PY{n}{col} \PY{o+ow}{in} \PY{n}{columnas\PYZus{}convencionales}\PY{p}{]}
    \PY{p}{\PYZcb{}}
    \PY{n}{df\PYZus{}pie\PYZus{}convencionales} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{data\PYZus{}convencionales}\PY{p}{)}

    \PY{n}{colors\PYZus{}convencionales} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}929591}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}15B01A}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}D1B26F}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}653700}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}FBDD7E}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}

    \PY{n}{fig\PYZus{}convencionales} \PY{o}{=} \PY{n}{px}\PY{o}{.}\PY{n}{pie}\PY{p}{(}
        \PY{n}{df\PYZus{}pie\PYZus{}convencionales}\PY{p}{,}
        \PY{n}{names}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Fuente de Energ√≠a Convencional}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
        \PY{n}{values}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Generaci√≥n de Energ√≠a (MW)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
        \PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Proporci√≥n de generaci√≥n de energ√≠a por fuentes convencionales \PYZhy{} Espa√±a }\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZsq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{n}{yr}\PY{p}{)}\PY{p}{,}
        \PY{n}{color\PYZus{}discrete\PYZus{}sequence}\PY{o}{=}\PY{n}{colors\PYZus{}convencionales}\PY{p}{,}
        \PY{n}{hover\PYZus{}data}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Generaci√≥n de Energ√≠a (MW)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}
        \PY{n}{width}\PY{o}{=}\PY{l+m+mi}{2000}\PY{p}{,}
        \PY{n}{height}\PY{o}{=}\PY{l+m+mi}{600}
    \PY{p}{)}
    \PY{n}{fig\PYZus{}convencionales}\PY{o}{.}\PY{n}{update\PYZus{}layout}\PY{p}{(}
        \PY{n}{title}\PY{o}{=}\PY{p}{\PYZob{}}
            \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{x}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+m+mf}{0.5}\PY{p}{,}
            \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{y}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+m+mf}{0.9}\PY{p}{,}
            \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{font}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{p}{\PYZob{}}
                \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{size}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+m+mi}{24}
            \PY{p}{\PYZcb{}}
        \PY{p}{\PYZcb{}}\PY{p}{,}
        \PY{n}{legend}\PY{o}{=}\PY{p}{\PYZob{}}
            \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{x}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+m+mf}{0.95}\PY{p}{,}
            \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{y}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+m+mf}{0.1}
        \PY{p}{\PYZcb{}}\PY{p}{)}
    \PY{n}{fig\PYZus{}convencionales}\PY{o}{.}\PY{n}{update\PYZus{}traces}\PY{p}{(}\PY{n}{textfont\PYZus{}size}\PY{o}{=}\PY{l+m+mi}{20}\PY{p}{,}
                                  \PY{n}{marker}\PY{o}{=}\PY{n+nb}{dict}\PY{p}{(}\PY{n}{line}\PY{o}{=}\PY{n+nb}{dict}\PY{p}{(}\PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{width}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{)}\PY{p}{)}\PY{p}{)}
    \PY{k}{return} \PY{n}{fig\PYZus{}convencionales}

\PY{n}{piechart\PYZus{}2015\PYZus{}c} \PY{o}{=} \PY{n}{piechart\PYZus{}convencionales}\PY{p}{(}\PY{l+m+mi}{2015}\PY{p}{)}
\PY{n}{piechart\PYZus{}2016\PYZus{}c} \PY{o}{=} \PY{n}{piechart\PYZus{}convencionales}\PY{p}{(}\PY{l+m+mi}{2016}\PY{p}{)}
\PY{n}{piechart\PYZus{}2017\PYZus{}c} \PY{o}{=} \PY{n}{piechart\PYZus{}convencionales}\PY{p}{(}\PY{l+m+mi}{2017}\PY{p}{)}
\PY{n}{piechart\PYZus{}2018\PYZus{}c} \PY{o}{=} \PY{n}{piechart\PYZus{}convencionales}\PY{p}{(}\PY{l+m+mi}{2018}\PY{p}{)}

\PY{n}{piechart\PYZus{}2015\PYZus{}c}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\PY{n}{piechart\PYZus{}2016\PYZus{}c}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\PY{n}{piechart\PYZus{}2017\PYZus{}c}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\PY{n}{piechart\PYZus{}2018\PYZus{}c}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    
    
    
    
    
    
    
    
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{99}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{pio}\PY{o}{.}\PY{n}{templates}\PY{o}{.}\PY{n}{default} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ggplot2}\PY{l+s+s2}{\PYZdq{}}

\PY{k}{def} \PY{n+nf}{piechart\PYZus{}renovables}\PY{p}{(}\PY{n}{yr}\PY{p}{)}\PY{p}{:}

    \PY{n}{df\PYZus{}energy\PYZus{}piechart\PYZus{}r} \PY{o}{=} \PY{n}{df\PYZus{}energy}\PY{p}{[}\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{year} \PY{o}{==} \PY{n}{yr}\PY{p}{]}
    \PY{n}{generacion\PYZus{}renovable} \PY{o}{=} \PY{n}{df\PYZus{}energy\PYZus{}piechart\PYZus{}r}\PY{p}{[}\PY{n}{columnas\PYZus{}renovables}\PY{p}{]}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}
    \PY{n}{data\PYZus{}renovables} \PY{o}{=} \PY{p}{\PYZob{}}
        \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Fuente de Energ√≠a Renovable}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{n}{columnas\PYZus{}renovables}\PY{p}{,}
        \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Generaci√≥n de Energ√≠a (MW)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{p}{[}\PY{n}{df\PYZus{}energy\PYZus{}piechart\PYZus{}r}\PY{p}{[}\PY{n}{col}\PY{p}{]}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)} \PY{k}{for} \PY{n}{col} \PY{o+ow}{in} \PY{n}{columnas\PYZus{}renovables}\PY{p}{]}
    \PY{p}{\PYZcb{}}
    \PY{n}{df\PYZus{}pie\PYZus{}renovables} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{data\PYZus{}renovables}\PY{p}{)}

    \PY{n}{colors\PYZus{}renovables} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}069AF3}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}0099C6}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}FFA500}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}19D3F3}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}4C78A8}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}006400}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}

    \PY{n}{fig\PYZus{}renovables} \PY{o}{=} \PY{n}{px}\PY{o}{.}\PY{n}{pie}\PY{p}{(}
        \PY{n}{df\PYZus{}pie\PYZus{}renovables}\PY{p}{,}
        \PY{n}{names}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Fuente de Energ√≠a Renovable}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
        \PY{n}{values}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Generaci√≥n de Energ√≠a (MW)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
        \PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Proporci√≥n de generaci√≥n de energ√≠a por fuentes renovables \PYZhy{} Espa√±a }\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZsq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{n}{yr}\PY{p}{)}\PY{p}{,}
        \PY{n}{color\PYZus{}discrete\PYZus{}sequence}\PY{o}{=}\PY{n}{colors\PYZus{}renovables}\PY{p}{,}
        \PY{n}{hover\PYZus{}data}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Generaci√≥n de Energ√≠a (MW)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}
        \PY{n}{width}\PY{o}{=}\PY{l+m+mi}{2000}\PY{p}{,}
        \PY{n}{height}\PY{o}{=}\PY{l+m+mi}{600}
    \PY{p}{)}
    \PY{n}{fig\PYZus{}renovables}\PY{o}{.}\PY{n}{update\PYZus{}layout}\PY{p}{(}
        \PY{n}{title}\PY{o}{=}\PY{p}{\PYZob{}}
            \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{x}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+m+mf}{0.5}\PY{p}{,}
            \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{y}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+m+mf}{0.9}\PY{p}{,}
            \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{font}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{p}{\PYZob{}}
                \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{size}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+m+mi}{24}
            \PY{p}{\PYZcb{}}
        \PY{p}{\PYZcb{}}\PY{p}{,}
        \PY{n}{legend}\PY{o}{=}\PY{p}{\PYZob{}}
            \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{x}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+m+mf}{0.95}\PY{p}{,}
            \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{y}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+m+mf}{0.1}
        \PY{p}{\PYZcb{}}\PY{p}{)}
    \PY{n}{fig\PYZus{}renovables}\PY{o}{.}\PY{n}{update\PYZus{}traces}\PY{p}{(}\PY{n}{textfont\PYZus{}size}\PY{o}{=}\PY{l+m+mi}{20}\PY{p}{,}
                                  \PY{n}{marker}\PY{o}{=}\PY{n+nb}{dict}\PY{p}{(}\PY{n}{line}\PY{o}{=}\PY{n+nb}{dict}\PY{p}{(}\PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{width}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{)}\PY{p}{)}\PY{p}{)}
    \PY{k}{return} \PY{n}{fig\PYZus{}renovables}

\PY{n}{piechart\PYZus{}2015\PYZus{}r} \PY{o}{=} \PY{n}{piechart\PYZus{}renovables}\PY{p}{(}\PY{l+m+mi}{2015}\PY{p}{)}
\PY{n}{piechart\PYZus{}2016\PYZus{}r} \PY{o}{=} \PY{n}{piechart\PYZus{}renovables}\PY{p}{(}\PY{l+m+mi}{2016}\PY{p}{)}
\PY{n}{piechart\PYZus{}2017\PYZus{}r} \PY{o}{=} \PY{n}{piechart\PYZus{}renovables}\PY{p}{(}\PY{l+m+mi}{2017}\PY{p}{)}
\PY{n}{piechart\PYZus{}2018\PYZus{}r} \PY{o}{=} \PY{n}{piechart\PYZus{}renovables}\PY{p}{(}\PY{l+m+mi}{2018}\PY{p}{)}

\PY{n}{piechart\PYZus{}2015\PYZus{}r}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\PY{n}{piechart\PYZus{}2016\PYZus{}r}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\PY{n}{piechart\PYZus{}2017\PYZus{}r}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\PY{n}{piechart\PYZus{}2018\PYZus{}r}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    
    
    
    
    
    
    
    
    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
      <h1 style="border: 1px solid #240b36; font-size: 18px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
      üí°- La generaci√≥n por energ√≠a e√≥lica e hidroel√©ctrica sostienen un gran ritmo de producci√≥n energ√©tica del tipo renovable (casi 50%  y aproximado del 35% respectivamente), mientras que la solar apenas aporta un 12,5%. La biomasa aporta muy poco a la matriz energ√©tica.
      </p>
      üí°- La generaci√≥n nuclear, por su parte, compite con la del gas natural, llegando a ocupar el 70% de la generaci√≥n por convencionales. Le sigue el carb√≥n duro con un 25%, y el resto de las tecnolog√≠as apenas aportan un 4%.
\end{verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: left; background-color: #f5d769; padding: 1px; border-radius: 5px;">
      ‚ö° Interrogante 13. Valores at√≠picos de la variable precio. ¬øQu√© an√°lisis se puede realizar teniendo en cuenta los valores outliers?
\end{verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 1px solid #240b36; font-size: 16px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    Mediante una tabla, se analiza el efecto que tienen los outliers en la target feature. Se adjuntan los valores de generaci√≥n energ√©tica, sea del tipo renovable o convencional.
\end{verbatim}

    \begin{itemize}
\tightlist
\item
  Se crea una funci√≥n para obtener los outliers en un dataframe (para
  todos los a√±os del per√≠odo evaluado, discriminados)

  \begin{itemize}
  \tightlist
  \item
    Los l√≠mites inferior y superior ser√°n calculados conociendo el IQR y
    los valores de Q1 y Q3, para la variable target.
  \end{itemize}
\item
  Por √∫ltimo, se calculan:

  \begin{itemize}
  \tightlist
  \item
    Energ√≠a generada por fuente renovable
  \item
    Energ√≠a generada por fuente convencional
  \item
    Total de energ√≠a generada
  \item
    Porcentaje de energ√≠a renovable y convencional
  \end{itemize}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{100}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k}{def} \PY{n+nf}{get\PYZus{}outliers}\PY{p}{(}\PY{n}{df}\PY{p}{)}\PY{p}{:}
    \PY{n}{Q1} \PY{o}{=} \PY{n}{df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{quantile}\PY{p}{(}\PY{l+m+mf}{0.25}\PY{p}{)}
    \PY{n}{Q3} \PY{o}{=} \PY{n}{df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{quantile}\PY{p}{(}\PY{l+m+mf}{0.75}\PY{p}{)}
    \PY{n}{IQR} \PY{o}{=} \PY{n}{Q3} \PY{o}{\PYZhy{}} \PY{n}{Q1}
    \PY{n}{lim\PYZus{}inf} \PY{o}{=} \PY{n}{Q1} \PY{o}{\PYZhy{}} \PY{l+m+mf}{1.5} \PY{o}{*} \PY{n}{IQR}
    \PY{n}{lim\PYZus{}sup} \PY{o}{=} \PY{n}{Q3} \PY{o}{+} \PY{l+m+mf}{1.5} \PY{o}{*} \PY{n}{IQR}
    \PY{n}{outliers} \PY{o}{=} \PY{n}{df}\PY{p}{[}\PY{p}{(}\PY{n}{df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{\PYZlt{}} \PY{n}{lim\PYZus{}inf}\PY{p}{)} \PY{o}{|} \PY{p}{(}\PY{n}{df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{\PYZgt{}} \PY{n}{lim\PYZus{}sup}\PY{p}{)}\PY{p}{]}
    \PY{k}{return} \PY{n}{outliers}

\PY{n}{outliers\PYZus{}15} \PY{o}{=} \PY{n}{get\PYZus{}outliers}\PY{p}{(}\PY{n}{df\PYZus{}energy\PYZus{}2015}\PY{p}{)}
\PY{n}{outliers\PYZus{}16} \PY{o}{=} \PY{n}{get\PYZus{}outliers}\PY{p}{(}\PY{n}{df\PYZus{}energy\PYZus{}2016}\PY{p}{)}
\PY{n}{outliers\PYZus{}17} \PY{o}{=} \PY{n}{get\PYZus{}outliers}\PY{p}{(}\PY{n}{df\PYZus{}energy\PYZus{}2017}\PY{p}{)}
\PY{n}{outliers\PYZus{}18} \PY{o}{=} \PY{n}{get\PYZus{}outliers}\PY{p}{(}\PY{n}{df\PYZus{}energy\PYZus{}2018}\PY{p}{)}

\PY{n}{outliers\PYZus{}df} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{concat}\PY{p}{(}\PY{p}{[}\PY{n}{outliers\PYZus{}15}\PY{p}{,} \PY{n}{outliers\PYZus{}16}\PY{p}{,} \PY{n}{outliers\PYZus{}17}\PY{p}{,} \PY{n}{outliers\PYZus{}18}\PY{p}{]}\PY{p}{,} \PY{n}{ignore\PYZus{}index}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}

\PY{n}{renovable\PYZus{}columns} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation hydro water reservoir}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation hydro pumped storage consumption}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation hydro run\PYZhy{}of\PYZhy{}river and poundage}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation solar}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation wind onshore}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation biomass}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation waste}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation other renewable}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
\PY{n}{outliers\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Energ√≠a renovable [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{outliers\PYZus{}df}\PY{p}{[}\PY{n}{renovable\PYZus{}columns}\PY{p}{]}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}

\PY{n}{convencional\PYZus{}columns} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation fossil gas}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation fossil hard coal}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation fossil oil}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation fossil brown coal/lignite}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation nuclear}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
\PY{n}{outliers\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Energ√≠a convencional [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{outliers\PYZus{}df}\PY{p}{[}\PY{n}{convencional\PYZus{}columns}\PY{p}{]}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}

\PY{n}{outliers\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Total generaci√≥n [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{outliers\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Energ√≠a renovable [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{+} \PY{n}{outliers\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Energ√≠a convencional [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}

\PY{n}{outliers\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Porcentaje renovable (}\PY{l+s+s1}{\PYZpc{}}\PY{l+s+s1}{)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{p}{(}\PY{n}{outliers\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Energ√≠a renovable [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{/} \PY{n}{outliers\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Total generaci√≥n [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{)} \PY{o}{*} \PY{l+m+mi}{100}

\PY{n}{outliers\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Porcentaje convencional (}\PY{l+s+s1}{\PYZpc{}}\PY{l+s+s1}{)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{p}{(}\PY{n}{outliers\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Energ√≠a convencional [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{/} \PY{n}{outliers\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Total generaci√≥n [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{round}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{)} \PY{o}{*} \PY{l+m+mi}{100}

\PY{n}{outliers\PYZus{}df}\PY{p}{[}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Energ√≠a renovable [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Energ√≠a convencional [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                   \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Porcentaje renovable (}\PY{l+s+s1}{\PYZpc{}}\PY{l+s+s1}{)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Porcentaje convencional (}\PY{l+s+s1}{\PYZpc{}}\PY{l+s+s1}{)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Total generaci√≥n [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{100}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
      price actual  Energ√≠a renovable [MW]  Energ√≠a convencional [MW]  \textbackslash{}
0           100.45                 11259.0                    21363.0
1            95.17                 12640.0                    20986.0
2            95.29                 13437.0                    21877.0
3            97.95                 12919.0                    22926.0
4            16.79                 23210.0                    11699.0
{\ldots}            {\ldots}                     {\ldots}                        {\ldots}
1134         33.72                 10917.0                    21458.0
1135         32.61                 20788.0                    10334.0
1136         25.36                 20599.0                    10348.0
1137         25.45                 20201.0                    10508.0
1138         30.86                 18897.0                    10859.0

      Porcentaje renovable (\%)  Porcentaje convencional (\%)  \textbackslash{}
0                         35.0                         65.0
1                         38.0                         62.0
2                         38.0                         62.0
3                         36.0                         64.0
4                         66.0                         34.0
{\ldots}                        {\ldots}                          {\ldots}
1134                      34.0                         66.0
1135                      67.0                         33.0
1136                      67.0                         33.0
1137                      66.0                         34.0
1138                      64.0                         36.0

      Total generaci√≥n [MW]
0                   32622.0
1                   33626.0
2                   35314.0
3                   35845.0
4                   34909.0
{\ldots}                     {\ldots}
1134                32375.0
1135                31122.0
1136                30947.0
1137                30709.0
1138                29756.0

[1139 rows x 6 columns]
\end{Verbatim}
\end{tcolorbox}
        
    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
      <h1 style="border: 1px solid #240b36; font-size: 18px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
      üí°- Se observa que un precio elevado, deber√≠a corresponder a per√≠odos en los que la generaci√≥n por el uso de combustibles f√≥siles sea mayor a las fuentes renovables.
\end{verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: left; background-color: #f5d769; padding: 1px; border-radius: 5px;">
      ‚ö° Interrogante 14. Impacto ambiental. ¬øExiste alguna correlaci√≥n entre la generaci√≥n de energ√≠a a partir de fuentes f√≥siles y las emisiones de gases de efecto invernadero u otros impactos ambientales?
\end{verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 1px solid #240b36; font-size: 16px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    No se cuentan con datos que marquen cuantitativamente las emisiones asociadas al proceso de generaci√≥n el√©ctrica, seg√∫n cada fuente empleada.
    </p>
    Sin embargo, para futuras entregas, se pueden emplear relaciones matem√°ticas sencillas para calcular estas emisiones, s√≥lamente conociendo la energ√≠a generada.
\end{verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: left; background-color: #f5d769; padding: 1px; border-radius: 5px;">
      ‚ö° Interrogante 15. Potencia instalada en el sector de generaci√≥n energ√©tica. ¬øC√≥mo se distribuye la cantidad de potencia instalada para las diversas tecnolog√≠as de producci√≥n de energ√≠a el√©ctrica?
\end{verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 1px solid #240b36; font-size: 16px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    No se dispone de tal informaci√≥n en este dataset, pero se puede consultar a fuentes oficiales del sector energ√©tico espa√±ol.
\end{verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 2px solid #f8f8f8; font-size: 20px; font-family: 'Lexend', sans-serif; color: black; text-align: left; background-color: #f5d769; padding: 1px; border-radius: 5px;">
      ‚ö° Interrogante 16. Generaci√≥n de energ√≠a por ubicaci√≥n geogr√°fica. Si el conjunto de datos incluye informaci√≥n sobre la ubicaci√≥n de las plantas de generaci√≥n de energ√≠a, ¬øc√≥mo var√≠a la generaci√≥n de energ√≠a en diferentes regiones geogr√°ficas?
\end{verbatim}

    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 1px solid #240b36; font-size: 16px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    Para responder a este interrogante, se debe hacer uso del 2¬∞ Dataset - Data Enrichment -, que incluye variables climatol√≥gicas para 5 de las m√°s importantes ciudades en el pa√≠s (Madrid, Barcelona, Valencia, Sevilla y Bilbao). Con ello, se realiza un an√°lisis multivariado y se procede a concluir el EDA.
\end{verbatim}

    \begin{itemize}
\tightlist
\item
  A partir de ahora, para enriquecer las visulizaciones, se combinar√°n
  ambos archivos en uno solo

  \begin{itemize}
  \tightlist
  \item
    Inicialmente, se divide el dataframe `df\_weather' en 5 dataframes
    (uno por cada ciudad)
  \item
    Se combinan todos los dataframes en uno final (df\_final)
  \end{itemize}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{101}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}1}\PY{p}{,} \PY{n}{df\PYZus{}2}\PY{p}{,} \PY{n}{df\PYZus{}3}\PY{p}{,} \PY{n}{df\PYZus{}4}\PY{p}{,} \PY{n}{df\PYZus{}5} \PY{o}{=} \PY{p}{[}\PY{n}{x} \PY{k}{for} \PY{n}{\PYZus{}}\PY{p}{,} \PY{n}{x} \PY{o+ow}{in} \PY{n}{df\PYZus{}weather}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{city\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{]}
\PY{n}{dfs} \PY{o}{=} \PY{p}{[}\PY{n}{df\PYZus{}1}\PY{p}{,} \PY{n}{df\PYZus{}2}\PY{p}{,} \PY{n}{df\PYZus{}3}\PY{p}{,} \PY{n}{df\PYZus{}4}\PY{p}{,} \PY{n}{df\PYZus{}5}\PY{p}{]}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{102}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}final} \PY{o}{=} \PY{n}{df\PYZus{}energy}

\PY{k}{for} \PY{n}{df} \PY{o+ow}{in} \PY{n}{dfs}\PY{p}{:}
    \PY{n}{city} \PY{o}{=} \PY{n}{df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{city\PYZus{}name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{unique}\PY{p}{(}\PY{p}{)}
    \PY{n}{city\PYZus{}str} \PY{o}{=} \PY{n+nb}{str}\PY{p}{(}\PY{n}{city}\PY{p}{)}\PY{o}{.}\PY{n}{replace}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZsq{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}\PY{o}{.}\PY{n}{replace}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{[}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{replace}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{o}{.}\PY{n}{replace}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ }\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
    \PY{n}{df} \PY{o}{=} \PY{n}{df}\PY{o}{.}\PY{n}{add\PYZus{}suffix}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZus{}}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZsq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{n}{city\PYZus{}str}\PY{p}{)}\PY{p}{)}
    \PY{n}{df\PYZus{}final} \PY{o}{=} \PY{n}{df\PYZus{}final}\PY{o}{.}\PY{n}{merge}\PY{p}{(}\PY{n}{df}\PY{p}{,} \PY{n}{on}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{time}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{how}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{outer}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
    \PY{n}{df\PYZus{}final} \PY{o}{=} \PY{n}{df\PYZus{}final}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{city\PYZus{}name\PYZus{}}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZsq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{n}{city\PYZus{}str}\PY{p}{)}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}

\PY{n}{df\PYZus{}final}\PY{o}{.}\PY{n}{columns}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{102}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
Index(['generation biomass', 'generation fossil brown coal/lignite',
       'generation fossil gas', 'generation fossil hard coal',
       'generation fossil oil', 'generation hydro pumped storage consumption',
       'generation hydro run-of-river and poundage',
       'generation hydro water reservoir', 'generation nuclear',
       'generation other', 'generation other renewable', 'generation solar',
       'generation waste', 'generation wind onshore', 'total load actual',
       'price actual', 'pressure\_Barcelona', 'humidity\_Barcelona',
       'wind\_speed\_Barcelona', 'wind\_deg\_Barcelona', 'rain\_1h\_Barcelona',
       'snow\_3h\_Barcelona', 'clouds\_all\_Barcelona', 'temp\_c\_Barcelona',
       'temp\_max\_c\_Barcelona', 'temp\_min\_c\_Barcelona', 'pressure\_Bilbao',
       'humidity\_Bilbao', 'wind\_speed\_Bilbao', 'wind\_deg\_Bilbao',
       'rain\_1h\_Bilbao', 'snow\_3h\_Bilbao', 'clouds\_all\_Bilbao',
       'temp\_c\_Bilbao', 'temp\_max\_c\_Bilbao', 'temp\_min\_c\_Bilbao',
       'pressure\_Madrid', 'humidity\_Madrid', 'wind\_speed\_Madrid',
       'wind\_deg\_Madrid', 'rain\_1h\_Madrid', 'snow\_3h\_Madrid',
       'clouds\_all\_Madrid', 'temp\_c\_Madrid', 'temp\_max\_c\_Madrid',
       'temp\_min\_c\_Madrid', 'pressure\_Seville', 'humidity\_Seville',
       'wind\_speed\_Seville', 'wind\_deg\_Seville', 'rain\_1h\_Seville',
       'snow\_3h\_Seville', 'clouds\_all\_Seville', 'temp\_c\_Seville',
       'temp\_max\_c\_Seville', 'temp\_min\_c\_Seville', 'pressure\_Valencia',
       'humidity\_Valencia', 'wind\_speed\_Valencia', 'wind\_deg\_Valencia',
       'rain\_1h\_Valencia', 'snow\_3h\_Valencia', 'clouds\_all\_Valencia',
       'temp\_c\_Valencia', 'temp\_max\_c\_Valencia', 'temp\_min\_c\_Valencia'],
      dtype='object')
\end{Verbatim}
\end{tcolorbox}
        
    \begin{itemize}
\tightlist
\item
  Se hace un chequeo de los registros con ``.info'' y luego se hace lo
  mismo pero con ``.describe''
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{103}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}final}\PY{o}{.}\PY{n}{info}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
<class 'pandas.core.frame.DataFrame'>
DatetimeIndex: 35063 entries, 2015-01-01 00:00:00 to 2018-12-31 22:00:00
Data columns (total 66 columns):
 \#   Column                                       Non-Null Count  Dtype
---  ------                                       --------------  -----
 0   generation biomass                           35063 non-null  float64
 1   generation fossil brown coal/lignite         35063 non-null  float64
 2   generation fossil gas                        35063 non-null  float64
 3   generation fossil hard coal                  35063 non-null  float64
 4   generation fossil oil                        35063 non-null  float64
 5   generation hydro pumped storage consumption  35063 non-null  float64
 6   generation hydro run-of-river and poundage   35063 non-null  float64
 7   generation hydro water reservoir             35063 non-null  float64
 8   generation nuclear                           35063 non-null  float64
 9   generation other                             35063 non-null  float64
 10  generation other renewable                   35063 non-null  float64
 11  generation solar                             35063 non-null  float64
 12  generation waste                             35063 non-null  float64
 13  generation wind onshore                      35063 non-null  float64
 14  total load actual                            35063 non-null  float64
 15  price actual                                 35063 non-null  float64
 16  pressure\_Barcelona                           35063 non-null  float64
 17  humidity\_Barcelona                           35063 non-null  float64
 18  wind\_speed\_Barcelona                         35063 non-null  float64
 19  wind\_deg\_Barcelona                           35063 non-null  float64
 20  rain\_1h\_Barcelona                            35063 non-null  float64
 21  snow\_3h\_Barcelona                            35063 non-null  float64
 22  clouds\_all\_Barcelona                         35063 non-null  float64
 23  temp\_c\_Barcelona                             35063 non-null  float64
 24  temp\_max\_c\_Barcelona                         35063 non-null  float64
 25  temp\_min\_c\_Barcelona                         35063 non-null  float64
 26  pressure\_Bilbao                              35063 non-null  float64
 27  humidity\_Bilbao                              35063 non-null  float64
 28  wind\_speed\_Bilbao                            35063 non-null  float64
 29  wind\_deg\_Bilbao                              35063 non-null  float64
 30  rain\_1h\_Bilbao                               35063 non-null  float64
 31  snow\_3h\_Bilbao                               35063 non-null  float64
 32  clouds\_all\_Bilbao                            35063 non-null  float64
 33  temp\_c\_Bilbao                                35063 non-null  float64
 34  temp\_max\_c\_Bilbao                            35063 non-null  float64
 35  temp\_min\_c\_Bilbao                            35063 non-null  float64
 36  pressure\_Madrid                              35063 non-null  float64
 37  humidity\_Madrid                              35063 non-null  float64
 38  wind\_speed\_Madrid                            35063 non-null  float64
 39  wind\_deg\_Madrid                              35063 non-null  float64
 40  rain\_1h\_Madrid                               35063 non-null  float64
 41  snow\_3h\_Madrid                               35063 non-null  float64
 42  clouds\_all\_Madrid                            35063 non-null  float64
 43  temp\_c\_Madrid                                35063 non-null  float64
 44  temp\_max\_c\_Madrid                            35063 non-null  float64
 45  temp\_min\_c\_Madrid                            35063 non-null  float64
 46  pressure\_Seville                             35063 non-null  float64
 47  humidity\_Seville                             35063 non-null  float64
 48  wind\_speed\_Seville                           35063 non-null  float64
 49  wind\_deg\_Seville                             35063 non-null  float64
 50  rain\_1h\_Seville                              35063 non-null  float64
 51  snow\_3h\_Seville                              35063 non-null  float64
 52  clouds\_all\_Seville                           35063 non-null  float64
 53  temp\_c\_Seville                               35063 non-null  float64
 54  temp\_max\_c\_Seville                           35063 non-null  float64
 55  temp\_min\_c\_Seville                           35063 non-null  float64
 56  pressure\_Valencia                            35063 non-null  float64
 57  humidity\_Valencia                            35063 non-null  float64
 58  wind\_speed\_Valencia                          35063 non-null  float64
 59  wind\_deg\_Valencia                            35063 non-null  float64
 60  rain\_1h\_Valencia                             35063 non-null  float64
 61  snow\_3h\_Valencia                             35063 non-null  float64
 62  clouds\_all\_Valencia                          35063 non-null  float64
 63  temp\_c\_Valencia                              35063 non-null  float64
 64  temp\_max\_c\_Valencia                          35063 non-null  float64
 65  temp\_min\_c\_Valencia                          35063 non-null  float64
dtypes: float64(66)
memory usage: 17.9 MB
    \end{Verbatim}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{104}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df\PYZus{}final}\PY{o}{.}\PY{n}{describe}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{104}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
       generation biomass  generation fossil brown coal/lignite  \textbackslash{}
count        35063.000000                          35063.000000
mean           383.529533                            448.097967
std             85.346810                            354.622756
min              0.000000                              0.000000
25\%            333.000000                              0.000000
50\%            367.000000                            509.000000
75\%            433.000000                            757.000000
max            592.000000                            999.000000

       generation fossil gas  generation fossil hard coal  \textbackslash{}
count           35063.000000                 35063.000000
mean             5622.722856                  4256.515173
std              2201.538451                  1962.014599
min                 0.000000                     0.000000
25\%              4126.000000                  2527.000000
50\%              4970.000000                  4475.000000
75\%              6429.000000                  5839.000000
max             20034.000000                  8359.000000

       generation fossil oil  generation hydro pumped storage consumption  \textbackslash{}
count           35063.000000                                 35063.000000
mean              298.346305                                   475.571657
std                52.515628                                   792.321301
min                 0.000000                                     0.000000
25\%               263.000000                                     0.000000
50\%               300.000000                                    68.000000
75\%               330.000000                                   616.000000
max               449.000000                                  4523.000000

       generation hydro run-of-river and poundage  \textbackslash{}
count                                35063.000000
mean                                   972.199655
std                                    400.717797
min                                      0.000000
25\%                                    637.000000
50\%                                    906.000000
75\%                                   1250.000000
max                                   2000.000000

       generation hydro water reservoir  generation nuclear  generation other  \textbackslash{}
count                      35063.000000        35063.000000      35063.000000
mean                        2605.554274         6263.459687         60.226521
std                         1835.197370          840.272553         20.238871
min                            0.000000            0.000000          0.000000
25\%                         1078.000000         5759.000000         53.000000
50\%                         2165.000000         6564.000000         57.000000
75\%                         3758.000000         7025.000000         80.000000
max                         9728.000000         7117.000000        106.000000

       generation other renewable  generation solar  generation waste  \textbackslash{}
count                35063.000000      35063.000000      35063.000000
mean                    85.634686       1432.858013        269.420785
std                     14.076987       1679.969434         50.217608
min                      0.000000          0.000000          0.000000
25\%                     73.000000         71.000000        240.000000
50\%                     88.000000        616.000000        279.000000
75\%                     97.000000       2579.000000        310.000000
max                    119.000000       5792.000000        357.000000

       generation wind onshore  total load actual  price actual  \textbackslash{}
count             35063.000000       35063.000000  35063.000000
mean               5464.954411       28698.375881     57.883808
std                3213.628423        4575.859894     14.204229
min                   0.000000       18041.000000      9.330000
25\%                2933.000000       24807.000000     49.345000
50\%                4849.000000       28902.000000     58.020000
75\%                7400.000000       32194.500000     68.010000
max               17436.000000       41015.000000    116.800000

       pressure\_Barcelona  humidity\_Barcelona  wind\_speed\_Barcelona  \textbackslash{}
count        35063.000000        35063.000000          35063.000000
mean          1017.317628           73.829963              2.782620
std              7.401065           17.720510              1.995983
min            977.000000            0.000000              0.000000
25\%           1014.000000           62.000000              1.000000
50\%           1017.000000           76.000000              2.000000
75\%           1021.000000           87.000000              4.000000
max           1039.000000          100.000000             15.000000

       wind\_deg\_Barcelona  rain\_1h\_Barcelona  snow\_3h\_Barcelona  \textbackslash{}
count        35063.000000        35063.00000            35063.0
mean           187.667941            0.10849                0.0
std            108.563845            0.66778                0.0
min              0.000000            0.00000                0.0
25\%            100.000000            0.00000                0.0
50\%            210.000000            0.00000                0.0
75\%            280.000000            0.00000                0.0
max            360.000000           12.00000                0.0

       clouds\_all\_Barcelona  temp\_c\_Barcelona  temp\_max\_c\_Barcelona  \textbackslash{}
count          35063.000000      35063.000000          35063.000000
mean              22.715341         16.717413             17.889624
std               27.328563          6.723575              7.288218
min                0.000000        -10.910000            -10.910000
25\%                0.000000         11.557500             12.000000
50\%               20.000000         16.262000             17.000000
75\%               36.000000         22.000000             23.890000
max              100.000000         36.000000             42.220000

       temp\_min\_c\_Barcelona  pressure\_Bilbao  humidity\_Bilbao  \textbackslash{}
count          35063.000000     35063.000000     35063.000000
mean              15.465302      1017.483330        78.730485
std                6.458624         9.820304        16.707463
min              -10.910000       961.000000        11.000000
25\%               11.000000      1013.000000        67.000000
50\%               15.000000      1019.000000        82.000000
75\%               20.124000      1024.000000        93.000000
max               34.000000      1042.000000       100.000000

       wind\_speed\_Bilbao  wind\_deg\_Bilbao  rain\_1h\_Bilbao  snow\_3h\_Bilbao  \textbackslash{}
count       35063.000000     35063.000000    35063.000000    35063.000000
mean            1.958361       159.907053        0.119160        0.024049
std             1.870220       122.861844        0.369945        0.501484
min             0.000000         0.000000        0.000000        0.000000
25\%             1.000000        31.000000        0.000000        0.000000
50\%             1.000000       150.000000        0.000000        0.000000
75\%             3.000000       290.000000        0.000000        0.000000
max            15.000000       360.000000        3.000000       21.500000

       clouds\_all\_Bilbao  temp\_c\_Bilbao  temp\_max\_c\_Bilbao  temp\_min\_c\_Bilbao  \textbackslash{}
count       35063.000000   35063.000000       35063.000000       35063.000000
mean           43.439951      13.293930          14.940856          11.840425
std            33.738886       6.803034           6.994401           6.815797
min             0.000000      -6.300000          -4.172000          -9.000000
25\%             6.000000       8.305172          10.000000           7.000000
50\%            40.000000      13.020000          15.000000          11.703000
75\%            75.000000      17.890000          19.365000          17.000000
max           100.000000      39.320000          45.560000          38.890000

       pressure\_Madrid  humidity\_Madrid  wind\_speed\_Madrid  wind\_deg\_Madrid  \textbackslash{}
count     35063.000000     35063.000000       35063.000000     35063.000000
mean       1012.388943        58.725209           2.433848       173.360038
std          18.677755        24.883667           1.973054       121.945027
min         950.000000         0.000000           0.000000         0.000000
25\%        1013.000000        38.000000           1.000000        50.000000
50\%        1017.000000        59.000000           2.000000       190.000000
75\%        1022.000000        81.000000           3.000000       270.000000
max        1042.000000       100.000000          18.000000       360.000000

       rain\_1h\_Madrid  snow\_3h\_Madrid  clouds\_all\_Madrid  temp\_c\_Madrid  \textbackslash{}
count    35063.000000    35063.000000       35063.000000   35063.000000
mean         0.043302        0.000030          20.661923      15.127729
std          0.198321        0.005602          29.656700       9.326455
min          0.000000        0.000000           0.000000      -9.018000
25\%          0.000000        0.000000           0.000000       8.000000
50\%          0.000000        0.000000           0.000000      13.780000
75\%          0.000000        0.000000          40.000000      21.800000
max          3.000000        1.049000         100.000000      40.180000

       temp\_max\_c\_Madrid  temp\_min\_c\_Madrid  pressure\_Seville  \textbackslash{}
count       35063.000000       35063.000000      35063.000000
mean           16.222591          13.902397       1018.534210
std             9.681362           9.178279          6.856164
min            -9.018000          -9.018000        986.000000
25\%             9.000000           7.000000       1014.000000
50\%            15.000000          12.990000       1018.000000
75\%            23.000000          20.560000       1023.000000
max            43.330000          39.000000       1048.000000

       humidity\_Seville  wind\_speed\_Seville  wind\_deg\_Seville  \textbackslash{}
count      35063.000000        35063.000000      35063.000000
mean          63.780196            2.482760        151.889542
std           22.881723            1.868513        104.327901
min            7.000000            0.000000          0.000000
25\%           46.000000            1.000000         50.000000
50\%           67.000000            2.000000        175.000000
75\%           83.000000            3.000000        230.000000
max          100.000000           15.000000        360.000000

       rain\_1h\_Seville  snow\_3h\_Seville  clouds\_all\_Seville  temp\_c\_Seville  \textbackslash{}
count     35063.000000          35063.0        35063.000000    35063.000000
mean          0.041137              0.0           14.165474       20.017106
std           0.215361              0.0           26.169960        8.081899
min           0.000000              0.0            0.000000       -2.100000
25\%           0.000000              0.0            0.000000       14.180000
50\%           0.000000              0.0            0.000000       19.290000
75\%           0.000000              0.0           20.000000       25.730000
max           3.000000              0.0          100.000000       42.450000

       temp\_max\_c\_Seville  temp\_min\_c\_Seville  pressure\_Valencia  \textbackslash{}
count        35063.000000        35063.000000       35063.000000
mean            22.852371           18.110107        1015.268531
std              9.082209            8.256829          10.044524
min             -1.087000           -4.000000         969.000000
25\%             16.000000           12.000000        1012.000000
50\%             22.000000           17.000000        1017.000000
75\%             30.000000           23.651500        1021.000000
max             48.000000           42.000000        1042.000000

       humidity\_Valencia  wind\_speed\_Valencia  wind\_deg\_Valencia  \textbackslash{}
count       35063.000000         35063.000000       35063.000000
mean           65.093631             2.687348         160.804466
std            19.678459             2.459151         120.413168
min             8.000000             0.000000           0.000000
25\%            51.000000             1.000000          50.000000
50\%            67.000000             2.000000         130.000000
75\%            82.000000             4.000000         280.000000
max           100.000000            43.000000         360.000000

       rain\_1h\_Valencia  snow\_3h\_Valencia  clouds\_all\_Valencia  \textbackslash{}
count      35063.000000      35063.000000         35063.000000
mean           0.034459          0.000154            20.741066
std            0.263598          0.011912            25.604142
min            0.000000          0.000000             0.000000
25\%            0.000000          0.000000             0.000000
50\%            0.000000          0.000000            20.000000
75\%            0.000000          0.000000            20.000000
max           12.000000          1.125000           100.000000

       temp\_c\_Valencia  temp\_max\_c\_Valencia  temp\_min\_c\_Valencia
count     35063.000000         35063.000000         35063.000000
mean         17.634533            18.208496            17.076207
std           7.233860             7.522719             7.089815
min          -4.319344            -4.319344            -4.319344
25\%          12.000000            12.500000            12.000000
50\%          17.040000            18.000000            17.000000
75\%          23.000000            24.000000            22.220000
max          38.000000            41.670000            38.000000
\end{Verbatim}
\end{tcolorbox}
        
    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 1px solid #240b36; font-size: 16px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    Se realiza una visualizaci√≥n con un mapa de calor, para identificar r√°pidamente las variables mayormente correlacionadas con la variable target, debido a que se a√±adieron muchas variables.
    </p>
    Se har√° hincapi√© en las variables de temperatura y velocidad de viento, debido a que son algunas de las que m√°s influyen en el precio de la electricidad (seg√∫n bibliograf√≠as consultadas).
\end{verbatim}

    \begin{itemize}
\tightlist
\item
  Empleo de la matriz de correlaci√≥n - tipo heatmap -
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{105}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k+kn}{from} \PY{n+nn}{bokeh}\PY{n+nn}{.}\PY{n+nn}{palettes} \PY{k+kn}{import} \PY{n}{Spectral6}
\PY{k+kn}{from} \PY{n+nn}{bokeh}\PY{n+nn}{.}\PY{n+nn}{io} \PY{k+kn}{import} \PY{n}{show}\PY{p}{,} \PY{n}{output\PYZus{}notebook}
\PY{k+kn}{from} \PY{n+nn}{bokeh}\PY{n+nn}{.}\PY{n+nn}{models} \PY{k+kn}{import} \PY{n}{HoverTool}\PY{p}{,} \PY{n}{CategoricalColorMapper}\PY{p}{,} \PY{n}{ColumnDataSource}\PY{p}{,} \PY{n}{FactorRange}
\PY{k+kn}{from} \PY{n+nn}{bokeh}\PY{n+nn}{.}\PY{n+nn}{plotting} \PY{k+kn}{import} \PY{n}{figure}\PY{p}{,} \PY{n}{output\PYZus{}file}\PY{p}{,} \PY{n}{show}
\PY{k+kn}{import} \PY{n+nn}{warnings}
\PY{n}{warnings}\PY{o}{.}\PY{n}{filterwarnings}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ignore}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{category}\PY{o}{=}\PY{n+ne}{UserWarning}\PY{p}{)}
\PY{k+kn}{from} \PY{n+nn}{bokeh}\PY{n+nn}{.}\PY{n+nn}{plotting} \PY{k+kn}{import} \PY{n}{figure}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{106}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{correlaciones\PYZus{}final} \PY{o}{=} \PY{n}{df\PYZus{}final}\PY{o}{.}\PY{n}{corr}\PY{p}{(}\PY{n}{method}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{pearson}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{filas} \PY{o}{=} \PY{n}{correlaciones\PYZus{}final}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{tolist}\PY{p}{(}\PY{p}{)}
\PY{n}{columnas} \PY{o}{=} \PY{n}{correlaciones\PYZus{}final}\PY{o}{.}\PY{n}{columns}\PY{o}{.}\PY{n}{tolist}\PY{p}{(}\PY{p}{)}

\PY{n}{correlaciones\PYZus{}f} \PY{o}{=} \PY{p}{[}\PY{p}{]}
\PY{k}{for} \PY{n}{i}\PY{p}{,} \PY{n}{fila} \PY{o+ow}{in} \PY{n+nb}{enumerate}\PY{p}{(}\PY{n}{filas}\PY{p}{)}\PY{p}{:}
    \PY{k}{for} \PY{n}{j}\PY{p}{,} \PY{n}{columna} \PY{o+ow}{in} \PY{n+nb}{enumerate}\PY{p}{(}\PY{n}{columnas}\PY{p}{)}\PY{p}{:}
        \PY{n}{correlacion\PYZus{}f} \PY{o}{=} \PY{n}{correlaciones\PYZus{}final}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{n}{i}\PY{p}{,} \PY{n}{j}\PY{p}{]}
        \PY{n}{correlacion\PYZus{}f} \PY{o}{=} \PY{n}{correlacion\PYZus{}f}\PY{o}{.}\PY{n}{item}\PY{p}{(}\PY{p}{)}
        \PY{n}{correlaciones\PYZus{}f}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{p}{(}\PY{n}{fila}\PY{p}{,} \PY{n}{columna}\PY{p}{,} \PY{n}{correlacion\PYZus{}f}\PY{p}{)}\PY{p}{)}

\PY{n}{data} \PY{o}{=} \PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{filas}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{p}{[}\PY{n}{x}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{n}{correlaciones\PYZus{}f}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{columnas}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{p}{[}\PY{n}{x}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{n}{correlaciones\PYZus{}f}\PY{p}{]}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{correlaciones}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{p}{[}\PY{n}{x}\PY{p}{[}\PY{l+m+mi}{2}\PY{p}{]} \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{n}{correlaciones\PYZus{}f}\PY{p}{]}\PY{p}{\PYZcb{}}
\PY{n}{source} \PY{o}{=} \PY{n}{ColumnDataSource}\PY{p}{(}\PY{n}{data}\PY{p}{)}
\PY{n}{mapper} \PY{o}{=} \PY{n}{linear\PYZus{}cmap}\PY{p}{(}\PY{n}{field\PYZus{}name}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{correlaciones}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{palette}\PY{o}{=}\PY{n}{Viridis256}\PY{p}{,} \PY{n}{low}\PY{o}{=}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{high}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}

\PY{n}{p} \PY{o}{=} \PY{n}{figure}\PY{p}{(}\PY{n}{x\PYZus{}range}\PY{o}{=}\PY{n}{filas}\PY{p}{,} \PY{n}{y\PYZus{}range}\PY{o}{=}\PY{n}{columnas}\PY{p}{,} \PY{n}{width}\PY{o}{=}\PY{l+m+mi}{2000}\PY{p}{,} \PY{n}{height}\PY{o}{=}\PY{l+m+mi}{1600}\PY{p}{,} \PY{n}{tooltips}\PY{o}{=}\PY{p}{[}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Filas}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{@filas}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,} \PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Columnas}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{@columnas}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,} \PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Correlaci√≥n}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{@correlaciones}\PY{l+s+si}{\PYZob{}0.00\PYZcb{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{]}\PY{p}{)}
\PY{n}{p}\PY{o}{.}\PY{n}{rect}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{filas}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{columnas}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{width}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{height}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{source}\PY{o}{=}\PY{n}{source}\PY{p}{,}
       \PY{n}{line\PYZus{}color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{white}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{fill\PYZus{}color}\PY{o}{=}\PY{n}{mapper}\PY{p}{)}
\PY{n}{p}\PY{o}{.}\PY{n}{xaxis}\PY{o}{.}\PY{n}{major\PYZus{}label\PYZus{}orientation} \PY{o}{=} \PY{l+m+mf}{3.14} \PY{o}{/} \PY{l+m+mi}{4}
\PY{n}{p}\PY{o}{.}\PY{n}{title}\PY{o}{.}\PY{n}{text} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Matriz de Correlaciones \PYZhy{} M√©todo Pearson}\PY{l+s+s1}{\PYZsq{}}
\PY{n}{color\PYZus{}bar} \PY{o}{=} \PY{n}{ColorBar}\PY{p}{(}\PY{n}{color\PYZus{}mapper}\PY{o}{=}\PY{n}{mapper}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{transform}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{width}\PY{o}{=}\PY{l+m+mi}{8}\PY{p}{,} \PY{n}{location}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{0}\PY{p}{)}\PY{p}{)}
\PY{n}{p}\PY{o}{.}\PY{n}{add\PYZus{}layout}\PY{p}{(}\PY{n}{color\PYZus{}bar}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{right}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{p}\PY{o}{.}\PY{n}{add\PYZus{}tools}\PY{p}{(}\PY{n}{HoverTool}\PY{p}{(}\PY{p}{)}\PY{p}{)}

\PY{n}{output\PYZus{}file}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{multivariado.html}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}

\PY{n}{output\PYZus{}notebook}\PY{p}{(}\PY{p}{)}
\PY{n}{show}\PY{p}{(}\PY{n}{p}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    
    
    
    
    
    
    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 1px solid #240b36; font-size: 16px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    Se establece una relaci√≥n entre la variable de temperatura para cada ciudad y la demanda de energ√≠a el√©ctrica. Esto se lleva a cabo con un gr√°fico de serie temporal, sumado a un gr√°fico de dispersi√≥n para evaluar el recurso clim√°tico (solar) frente a la variable de generaci√≥n (solar), para la Ciudad de Sevilla.
\end{verbatim}

    \begin{itemize}
\tightlist
\item
  Gr√°fico interactivo entre temperatura para cada ciudad y demanda de
  energ√≠a - lineplot -
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{107}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{pio}\PY{o}{.}\PY{n}{templates}\PY{o}{.}\PY{n}{default} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ggplot2}\PY{l+s+s2}{\PYZdq{}}

\PY{n}{df\PYZus{}filtered} \PY{o}{=} \PY{n}{df\PYZus{}final}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2015}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2018}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
\PY{n}{ciudades} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Barcelona}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Madrid}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Seville}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Bilbao}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Valencia}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}


\PY{n}{df\PYZus{}melted} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{melt}\PY{p}{(}\PY{n}{df\PYZus{}filtered}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{id\PYZus{}vars}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{time}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{value\PYZus{}vars}\PY{o}{=}\PY{p}{[}\PY{l+s+sa}{f}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{temp\PYZus{}c\PYZus{}}\PY{l+s+si}{\PYZob{}}\PY{n}{city}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s1}{\PYZsq{}} \PY{k}{for} \PY{n}{city} \PY{o+ow}{in} \PY{n}{ciudades}\PY{p}{]}\PY{p}{,} \PY{n}{var\PYZus{}name}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Ciudad}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{value\PYZus{}name}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Temperatura}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{df\PYZus{}melted}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ma7\PYZus{}temp}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{df\PYZus{}melted}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Ciudad}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Temperatura}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{transform}\PY{p}{(}\PY{k}{lambda} \PY{n}{x}\PY{p}{:} \PY{n}{x}\PY{o}{.}\PY{n}{rolling}\PY{p}{(}\PY{n}{window}\PY{o}{=}\PY{l+m+mi}{7}\PY{p}{)}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}\PY{p}{)}


\PY{n}{fig} \PY{o}{=} \PY{n}{go}\PY{o}{.}\PY{n}{Figure}\PY{p}{(}\PY{p}{)}

\PY{k}{for} \PY{n}{city} \PY{o+ow}{in} \PY{n}{ciudades}\PY{p}{:}
    \PY{n}{city\PYZus{}data} \PY{o}{=} \PY{n}{df\PYZus{}melted}\PY{p}{[}\PY{n}{df\PYZus{}melted}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Ciudad}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+s+sa}{f}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{temp\PYZus{}c\PYZus{}}\PY{l+s+si}{\PYZob{}}\PY{n}{city}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
    \PY{n}{fig}\PY{o}{.}\PY{n}{add\PYZus{}trace}\PY{p}{(}\PY{n}{go}\PY{o}{.}\PY{n}{Scatter}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{n}{city\PYZus{}data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{time}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{n}{city\PYZus{}data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Temperatura}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{mode}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{lines}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{name}\PY{o}{=}\PY{l+s+sa}{f}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Temperatura (¬∞C) \PYZhy{} }\PY{l+s+si}{\PYZob{}}\PY{n}{city}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
    \PY{n}{fig}\PY{o}{.}\PY{n}{add\PYZus{}trace}\PY{p}{(}\PY{n}{go}\PY{o}{.}\PY{n}{Scatter}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{n}{city\PYZus{}data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{time}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{n}{city\PYZus{}data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ma7\PYZus{}temp}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{mode}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{lines}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{name}\PY{o}{=}\PY{l+s+sa}{f}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Media M√≥vil 7 d√≠as (¬∞C) \PYZhy{} }\PY{l+s+si}{\PYZob{}}\PY{n}{city}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}

\PY{n}{fig}\PY{o}{.}\PY{n}{add\PYZus{}trace}\PY{p}{(}\PY{n}{go}\PY{o}{.}\PY{n}{Scatter}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{n}{df\PYZus{}filtered}\PY{o}{.}\PY{n}{index}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{n}{df\PYZus{}filtered}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{total load actual}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{mode}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{lines}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{name}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Demanda energ√©tica actual [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{yaxis}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{y2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{line}\PY{o}{=}\PY{n+nb}{dict}\PY{p}{(}\PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}C79FEF}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}\PY{p}{)}

\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}layout}\PY{p}{(}\PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Temperatura en Ciudades (2015\PYZhy{}2018) y Demanda de energ√≠a el√©ctrica}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                  \PY{n}{xaxis\PYZus{}title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{A√±o}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                  \PY{n}{yaxis\PYZus{}title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Temperatura (¬∞C)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                  \PY{n}{yaxis2}\PY{o}{=}\PY{n+nb}{dict}\PY{p}{(}\PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Demanda energ√©tica [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{overlaying}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{y}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{side}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{right}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,}
                  \PY{n}{legend\PYZus{}title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Ciudad}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                  \PY{n}{legend}\PY{o}{=}\PY{n+nb}{dict}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{o}{\PYZhy{}}\PY{l+m+mf}{0.15}\PY{p}{,} \PY{n}{orientation}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}

\PY{n}{fig}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    
    \begin{Verbatim}[commandchars=\\\{\}]
Output hidden; open in https://colab.research.google.com to view.
    \end{Verbatim}

    
    \begin{itemize}
\tightlist
\item
  Gr√°fico interactivo entre generaci√≥n solar y temperatura diaria en
  Sevilla - scatterplot -
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{108}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{pio}\PY{o}{.}\PY{n}{templates}\PY{o}{.}\PY{n}{default} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ggplot2}\PY{l+s+s2}{\PYZdq{}}

\PY{n}{df\PYZus{}2015\PYZus{}2018\PYZus{}final} \PY{o}{=} \PY{n}{df\PYZus{}final}\PY{p}{[}\PY{p}{(}\PY{n}{df\PYZus{}final}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{year} \PY{o}{\PYZgt{}}\PY{o}{=} \PY{l+m+mi}{2015}\PY{p}{)} \PY{o}{\PYZam{}} \PY{p}{(}\PY{n}{df\PYZus{}energy}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{year} \PY{o}{\PYZlt{}}\PY{o}{=} \PY{l+m+mi}{2018}\PY{p}{)}\PY{p}{]}

\PY{n}{fig} \PY{o}{=} \PY{n}{px}\PY{o}{.}\PY{n}{scatter}\PY{p}{(}\PY{n}{df\PYZus{}2015\PYZus{}2018\PYZus{}final}\PY{p}{,} \PY{n}{x}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{temp\PYZus{}c\PYZus{}Seville}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation solar}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{n}{df\PYZus{}2015\PYZus{}2018\PYZus{}final}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{year}\PY{p}{,}
                 \PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Generaci√≥n solar vs Temperatura en Sevilla \PYZhy{} A√±os 2015\PYZhy{}2018}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                 \PY{n}{labels}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{temp\PYZus{}c\PYZus{}Seville}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Temperatura en Sevilla (¬∫C)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation solar}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Generaci√≥n solar en Espa√±a [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{,}
                 \PY{n}{trendline}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ols}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}xaxes}\PY{p}{(}\PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Temperatura (¬∫C)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}yaxes}\PY{p}{(}\PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Generaci√≥n energ√©tica [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}traces}\PY{p}{(}\PY{n}{marker}\PY{o}{=}\PY{n+nb}{dict}\PY{p}{(}\PY{n}{size}\PY{o}{=}\PY{l+m+mi}{5}\PY{p}{)}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}layout}\PY{p}{(}
    \PY{n}{coloraxis\PYZus{}colorbar}\PY{o}{=}\PY{n+nb}{dict}\PY{p}{(}
        \PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{A√±o}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
        \PY{n}{tickvals}\PY{o}{=}\PY{p}{[}\PY{l+m+mi}{2015}\PY{p}{,} \PY{l+m+mi}{2016}\PY{p}{,} \PY{l+m+mi}{2017}\PY{p}{,} \PY{l+m+mi}{2018}\PY{p}{]}\PY{p}{,}
        \PY{n}{ticktext}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2015}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2016}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2017}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2018}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
    \PY{p}{)}\PY{p}{)}

\PY{n}{fig}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    
    \begin{Verbatim}[commandchars=\\\{\}]
Output hidden; open in https://colab.research.google.com to view.
    \end{Verbatim}

    
    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 1px solid #240b36; font-size: 16px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    Se establece una relaci√≥n entre la variable de velocidad de viento para cada ciudad y las generaciones de energ√≠a e√≥lica m√°s el total de todo el pa√≠s. Esto se lleva a cabo con un gr√°fico de serie temporal, sumado a un gr√°fico de dispersi√≥n para evaluar el recurso clim√°tico (vel. de viento) frente a la variable de generaci√≥n (e√≥lica), para la Ciudad de Valencia.
\end{verbatim}

    \begin{itemize}
\tightlist
\item
  Gr√°fico interactivo entre generaci√≥n de energ√≠a e√≥lica, generaci√≥n
  total en el pa√≠s y velocidades de viento por ciudades - lineplot -
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{109}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{pio}\PY{o}{.}\PY{n}{templates}\PY{o}{.}\PY{n}{default} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ggplot2}\PY{l+s+s2}{\PYZdq{}}

\PY{n}{fuentes\PYZus{}generaci√≥n} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation biomass}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation fossil brown coal/lignite}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                      \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation fossil gas}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation fossil hard coal}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                      \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation fossil oil}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation hydro pumped storage consumption}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                      \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation hydro run\PYZhy{}of\PYZhy{}river and poundage}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation hydro water reservoir}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                      \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation nuclear}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation other}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation other renewable}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                      \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation solar}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation waste}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation wind onshore}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}




\PY{n}{fig} \PY{o}{=} \PY{n}{go}\PY{o}{.}\PY{n}{Figure}\PY{p}{(}\PY{p}{)}

\PY{k}{for} \PY{n}{city} \PY{o+ow}{in} \PY{n}{ciudades}\PY{p}{:}
    \PY{n}{fig}\PY{o}{.}\PY{n}{add\PYZus{}trace}\PY{p}{(}\PY{n}{go}\PY{o}{.}\PY{n}{Scatter}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{n}{df\PYZus{}filtered}\PY{o}{.}\PY{n}{index}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{n}{df\PYZus{}filtered}\PY{p}{[}\PY{l+s+sa}{f}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{wind\PYZus{}speed\PYZus{}}\PY{l+s+si}{\PYZob{}}\PY{n}{city}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{mode}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{lines}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{name}\PY{o}{=}\PY{l+s+sa}{f}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Velocidad del Viento }\PY{l+s+si}{\PYZob{}}\PY{n}{city}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}

\PY{n}{df\PYZus{}filtered}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{total\PYZus{}generation}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{df\PYZus{}filtered}\PY{p}{[}\PY{n}{fuentes\PYZus{}generaci√≥n}\PY{p}{]}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}

\PY{n}{fig}\PY{o}{.}\PY{n}{add\PYZus{}trace}\PY{p}{(}\PY{n}{go}\PY{o}{.}\PY{n}{Scatter}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{n}{df\PYZus{}filtered}\PY{o}{.}\PY{n}{index}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{n}{df\PYZus{}filtered}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{total\PYZus{}generation}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{mode}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{lines}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{name}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Generaci√≥n Total}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{yaxis}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{y2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{line}\PY{o}{=}\PY{n+nb}{dict}\PY{p}{(}\PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{orange}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{add\PYZus{}trace}\PY{p}{(}\PY{n}{go}\PY{o}{.}\PY{n}{Scatter}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{n}{df\PYZus{}filtered}\PY{o}{.}\PY{n}{index}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{n}{df\PYZus{}filtered}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation wind onshore}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{mode}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{lines}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{name}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Generaci√≥n E√≥lica}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{yaxis}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{y2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{line}\PY{o}{=}\PY{n+nb}{dict}\PY{p}{(}\PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}069AF3}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}\PY{p}{)}

\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}layout}\PY{p}{(}\PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Velocidad del Viento en Ciudades y Generaci√≥n El√©ctrica (e√≥lica/total) (2015\PYZhy{}2018)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                  \PY{n}{xaxis\PYZus{}title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{A√±o}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                  \PY{n}{yaxis\PYZus{}title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Velocidad del Viento (m/s)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                  \PY{n}{yaxis2}\PY{o}{=}\PY{n+nb}{dict}\PY{p}{(}\PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Generaci√≥n El√©ctrica (MW)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{overlaying}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{y}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{side}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{right}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,}
                  \PY{n}{legend\PYZus{}title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Ciudad}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                  \PY{n}{legend}\PY{o}{=}\PY{n+nb}{dict}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{o}{\PYZhy{}}\PY{l+m+mf}{0.2}\PY{p}{,} \PY{n}{orientation}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}

\PY{n}{fig}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    
    \begin{Verbatim}[commandchars=\\\{\}]
Output hidden; open in https://colab.research.google.com to view.
    \end{Verbatim}

    
    \begin{itemize}
\tightlist
\item
  Gr√°fico interactivo entre generaci√≥n e√≥lica y velocidad de viento en
  Valencia - scatterplot -
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{110}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{pio}\PY{o}{.}\PY{n}{templates}\PY{o}{.}\PY{n}{default} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ggplot2}\PY{l+s+s2}{\PYZdq{}}

\PY{n}{fig} \PY{o}{=} \PY{n}{px}\PY{o}{.}\PY{n}{scatter}\PY{p}{(}\PY{n}{df\PYZus{}2015\PYZus{}2018\PYZus{}final}\PY{p}{,} \PY{n}{x}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{wind\PYZus{}speed\PYZus{}Valencia}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation wind onshore}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{n}{df\PYZus{}2015\PYZus{}2018\PYZus{}final}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{year}\PY{p}{,}
                 \PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Generaci√≥n e√≤lica vs Velocidad de viento en Valencia \PYZhy{} A√±os 2015\PYZhy{}2018}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                 \PY{n}{labels}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{wind\PYZus{}speed\PYZus{}Valencia}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Velocidad de viento en Valencia (m/s)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation wind onshore}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Generaci√≥n e√≤lica en Espa√±a [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{,}
                 \PY{n}{trendline}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ols}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}xaxes}\PY{p}{(}\PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Velocidad de viento (m/s)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}yaxes}\PY{p}{(}\PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Generaci√≥n energ√©tica [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}traces}\PY{p}{(}\PY{n}{marker}\PY{o}{=}\PY{n+nb}{dict}\PY{p}{(}\PY{n}{size}\PY{o}{=}\PY{l+m+mi}{5}\PY{p}{)}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}layout}\PY{p}{(}
    \PY{n}{coloraxis\PYZus{}colorbar}\PY{o}{=}\PY{n+nb}{dict}\PY{p}{(}
        \PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{A√±o}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
        \PY{n}{tickvals}\PY{o}{=}\PY{p}{[}\PY{l+m+mi}{2015}\PY{p}{,} \PY{l+m+mi}{2016}\PY{p}{,} \PY{l+m+mi}{2017}\PY{p}{,} \PY{l+m+mi}{2018}\PY{p}{]}\PY{p}{,}
        \PY{n}{ticktext}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2015}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2016}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2017}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2018}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
    \PY{p}{)}\PY{p}{)}

\PY{n}{fig}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    
    
    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
    <h1 style="border: 1px solid #240b36; font-size: 16px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
    Se establece una relaci√≥n entre la variable de velocidad de lluvia y la generaci√≥n de energ√≠a el√©ctrica por gas natural. Esto se lleva a cabo con un gr√°fico de serie temporal, sumado a un gr√°fico de dispersi√≥n para evaluar el recurso clim√°tico (lluvia) frente a la variable de generaci√≥n (gas natural), para la Ciudad de Barcelona.
\end{verbatim}

    \begin{itemize}
\tightlist
\item
  Gr√°fico interactivo entre lluvias por ciudad y generaci√≥n por gas
  natural - lineplot -
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{111}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{pio}\PY{o}{.}\PY{n}{templates}\PY{o}{.}\PY{n}{default} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ggplot2}\PY{l+s+s2}{\PYZdq{}}

\PY{n}{columnas\PYZus{}lluvia} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rain\PYZus{}1h\PYZus{}Barcelona}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rain\PYZus{}1h\PYZus{}Madrid}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rain\PYZus{}1h\PYZus{}Seville}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rain\PYZus{}1h\PYZus{}Valencia}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rain\PYZus{}1h\PYZus{}Bilbao}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
\PY{n}{columna\PYZus{}gas} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation fossil gas}\PY{l+s+s1}{\PYZsq{}}

\PY{n}{df\PYZus{}lluvia} \PY{o}{=} \PY{n}{df\PYZus{}final}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2015}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2018}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{columnas\PYZus{}lluvia} \PY{o}{+} \PY{p}{[}\PY{n}{columna\PYZus{}gas}\PY{p}{]}\PY{p}{]}

\PY{n}{df\PYZus{}lluvia\PYZus{}reset} \PY{o}{=} \PY{n}{df\PYZus{}lluvia}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{p}{)}

\PY{n}{df\PYZus{}melted\PYZus{}lluvia} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{melt}\PY{p}{(}\PY{n}{df\PYZus{}lluvia\PYZus{}reset}\PY{p}{,} \PY{n}{id\PYZus{}vars}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{time}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{value\PYZus{}vars}\PY{o}{=}\PY{n}{columnas\PYZus{}lluvia} \PY{o}{+} \PY{p}{[}\PY{n}{columna\PYZus{}gas}\PY{p}{]}\PY{p}{,}
                           \PY{n}{var\PYZus{}name}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Variable}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{value\PYZus{}name}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Valor}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}

\PY{n}{fig} \PY{o}{=} \PY{n}{go}\PY{o}{.}\PY{n}{Figure}\PY{p}{(}\PY{p}{)}
\PY{k}{for} \PY{n}{city} \PY{o+ow}{in} \PY{n}{ciudades}\PY{p}{:}
    \PY{n}{fig}\PY{o}{.}\PY{n}{add\PYZus{}trace}\PY{p}{(}\PY{n}{go}\PY{o}{.}\PY{n}{Scatter}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{n}{df\PYZus{}melted\PYZus{}lluvia}\PY{p}{[}\PY{p}{(}\PY{n}{df\PYZus{}melted\PYZus{}lluvia}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Variable}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+s+sa}{f}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rain\PYZus{}1h\PYZus{}}\PY{l+s+si}{\PYZob{}}\PY{n}{city}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{time}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}
                             \PY{n}{y}\PY{o}{=}\PY{n}{df\PYZus{}melted\PYZus{}lluvia}\PY{p}{[}\PY{p}{(}\PY{n}{df\PYZus{}melted\PYZus{}lluvia}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Variable}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+s+sa}{f}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rain\PYZus{}1h\PYZus{}}\PY{l+s+si}{\PYZob{}}\PY{n}{city}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Valor}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}
                             \PY{n}{mode}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{lines}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{name}\PY{o}{=}\PY{l+s+sa}{f}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lluvia }\PY{l+s+si}{\PYZob{}}\PY{n}{city}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{add\PYZus{}trace}\PY{p}{(}\PY{n}{go}\PY{o}{.}\PY{n}{Scatter}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{n}{df\PYZus{}melted\PYZus{}lluvia}\PY{p}{[}\PY{p}{(}\PY{n}{df\PYZus{}melted\PYZus{}lluvia}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Variable}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{n}{columna\PYZus{}gas}\PY{p}{)}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{time}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}
                         \PY{n}{y}\PY{o}{=}\PY{n}{df\PYZus{}melted\PYZus{}lluvia}\PY{p}{[}\PY{p}{(}\PY{n}{df\PYZus{}melted\PYZus{}lluvia}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Variable}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{n}{columna\PYZus{}gas}\PY{p}{)}\PY{p}{]}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Valor}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,}
                         \PY{n}{mode}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{lines}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{name}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Generaci√≥n por Gas Natural}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{yaxis}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{y2}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{line}\PY{o}{=}\PY{n+nb}{dict}\PY{p}{(}\PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}929591}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}layout}\PY{p}{(}\PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lluvia y Generaci√≥n por Gas Natural (2015\PYZhy{}2018)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                  \PY{n}{xaxis\PYZus{}title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{A√±o}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                  \PY{n}{yaxis\PYZus{}title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lluvia (mm)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                  \PY{n}{legend\PYZus{}title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Ciudad}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                  \PY{n}{legend}\PY{o}{=}\PY{n+nb}{dict}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{o}{\PYZhy{}}\PY{l+m+mf}{0.2}\PY{p}{,} \PY{n}{orientation}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{h}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{,}
                  \PY{n}{yaxis2}\PY{o}{=}\PY{n+nb}{dict}\PY{p}{(}\PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Generaci√≥n de Gas}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{overlaying}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{y}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{side}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{right}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}

\PY{n}{fig}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    
    \begin{Verbatim}[commandchars=\\\{\}]
Output hidden; open in https://colab.research.google.com to view.
    \end{Verbatim}

    
    \begin{itemize}
\tightlist
\item
  Gr√°fico interactivo entre generaci√≥n hidroel√©ctrica (reservorio) y la
  cantidad de lluvia (mm en √∫ltima hora) en Barcelona - scatterplot -
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{112}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{pio}\PY{o}{.}\PY{n}{templates}\PY{o}{.}\PY{n}{default} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ggplot2}\PY{l+s+s2}{\PYZdq{}}

\PY{n}{fig} \PY{o}{=} \PY{n}{px}\PY{o}{.}\PY{n}{scatter}\PY{p}{(}\PY{n}{df\PYZus{}2015\PYZus{}2018\PYZus{}final}\PY{p}{,} \PY{n}{x}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rain\PYZus{}1h\PYZus{}Barcelona}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{y}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation hydro water reservoir}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{n}{df\PYZus{}2015\PYZus{}2018\PYZus{}final}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{year}\PY{p}{,}
                 \PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Generaci√≥n hidroel√©ctrica vs Registro de lluvias en Barcelona \PYZhy{} A√±os 2015\PYZhy{}2018}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                 \PY{n}{labels}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rain\PYZus{}1h\PYZus{}Barcelona}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Registro de lluvias en Barcelona (mm)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{generation hydro water reservoir}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Generaci√≥n hidroel√©ctrica \PYZhy{}reservorio\PYZhy{} en Espa√±a [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{,}
                 \PY{n}{trendline}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ols}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}xaxes}\PY{p}{(}\PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Registro de lluvias (mm)}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}yaxes}\PY{p}{(}\PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Generaci√≥n hidroel√©ctrica \PYZhy{}reservorio\PYZhy{} [MW]}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{showline}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{3}\PY{p}{,} \PY{n}{linecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{mirror}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}traces}\PY{p}{(}\PY{n}{marker}\PY{o}{=}\PY{n+nb}{dict}\PY{p}{(}\PY{n}{size}\PY{o}{=}\PY{l+m+mi}{5}\PY{p}{)}\PY{p}{)}
\PY{n}{fig}\PY{o}{.}\PY{n}{update\PYZus{}layout}\PY{p}{(}
    \PY{n}{coloraxis\PYZus{}colorbar}\PY{o}{=}\PY{n+nb}{dict}\PY{p}{(}
        \PY{n}{title}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{A√±o}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
        \PY{n}{tickvals}\PY{o}{=}\PY{p}{[}\PY{l+m+mi}{2015}\PY{p}{,} \PY{l+m+mi}{2016}\PY{p}{,} \PY{l+m+mi}{2017}\PY{p}{,} \PY{l+m+mi}{2018}\PY{p}{]}\PY{p}{,}
        \PY{n}{ticktext}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2015}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2016}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2017}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{2018}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
    \PY{p}{)}\PY{p}{)}

\PY{n}{fig}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    
    
    \begin{verbatim}
  <div style="background-color: #DEB887; padding: 10px; border-radius: 5px;">
      <h1 style="border: 1px solid #240b36; font-size: 18px; font-family: 'Lexend', sans-serif; color: black; text-align: center; background-color: #dff4ff; padding: 10px; border-radius: 5px;">
      üí°- Como conclusi√≥n, entrando en instancias de decisi√≥n, lamentablemente, no se asegura ni siquiera una correlaci√≥n moderada entre la target y las variables clim√°ticas m√°s importantes -temperaturas, velocidades de viento y lluvias-.
      </p>
      üí°- Las variables de temperatura en las ciudades, rondan en un coeficiente de correlaci√≥n - Pearson - de 0.20 con respecto a la demanda. A modo de ejemplo, se tom√≥ la ciudad de Sevilla (Comunidad de Andaluc√≠a - con mejor recurso solar del pa√≠s -) y se tiene un coeficiente de correlaci√≥n de 0.40 entre la generaci√≥n solar y la temperatura diaria.
      </p>
      üí°- La variable de generaci√≥n e√≥lica -principal protagonista del mercado renovable- se correlaciona de forma moderada y negativa con respecto a las variables de generaci√≥n convencionales (principalmente las que emplean gas natural y carb√≥n). Esto tiene sentido ya que ante la falta de producci√≥n e√≥lica, los combustibles f√≥siles aportan en materia de producci√≥n, encareciendo el precio. A modo de ejemplo, se tom√≥ la ciudad de Valencia (Comunidad de Valencia -con un buen recurso e√≥lico y abundante producci√≥n el√©ctrica-e√≥lica) y se cuentan con d√©biles valores de correlaci√≥n.
      </p>
      üí°- La variable de generaci√≥n hidroel√©ctrica mediante reservorios no tiene una correlaci√≥n moderada con la variable de generaci√≥n convencional por gas natural. A modo de ejemplo, se tom√≥ la ciudad de Barcelona para visualizar la relaci√≥n entre registros de lluvias y generaci√≥n hidroel√©ctrica por reservorio -dependiente de estos eventos clim√°ticos- y se cuentan con escasos valores de correlaci√≥n.
\end{verbatim}


    % Add a bibliography block to the postdoc
    
    
    
\end{document}
